

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png">
  <link rel="icon" href="/img/avatar.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="wtt">
  <meta name="keywords" content="">
  
    <meta name="description" content="SpringBootå®˜æ–¹ç½‘ç«™ï¼šSpring Boot SpringBootçš„å¼•è¨€Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸ(rapid application developme">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBoot">
<meta property="og:url" content="http://conquers.github.io/posts/6f2612a2.html">
<meta property="og:site_name" content="wtt&#39;s Blog">
<meta property="og:description" content="SpringBootå®˜æ–¹ç½‘ç«™ï¼šSpring Boot SpringBootçš„å¼•è¨€Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸ(rapid application developme">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://conquers.github.io/Resources/banner-spring.jpg">
<meta property="article:published_time" content="2022-08-17T18:54:29.000Z">
<meta property="article:modified_time" content="2024-04-02T12:28:32.363Z">
<meta property="article:author" content="wtt">
<meta property="article:tag" content="SpringBoot">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://conquers.github.io/Resources/banner-spring.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>SpringBoot - wtt&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/mac.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"conquers.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="wtt's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>wtt&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="SpringBoot"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-08-17 18:54" pubdate>
          2022å¹´8æœˆ17æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          45k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          372 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">SpringBoot</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><p>å®˜æ–¹ç½‘ç«™ï¼š<a target="_blank" rel="noopener" href="https://spring.io/projects/spring-boot/">Spring Boot</a></p>
<h2 id="SpringBootçš„å¼•è¨€"><a href="#SpringBootçš„å¼•è¨€" class="headerlink" title="SpringBootçš„å¼•è¨€"></a>SpringBootçš„å¼•è¨€</h2><p>Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥<strong>ç®€åŒ–Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹</strong>ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†<strong>ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®</strong>ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸ(rapid application development)æˆä¸ºé¢†å¯¼è€…ã€‚</p>
<p><strong>springboot</strong>(å¾®æ¡†æ¶) &#x3D; <strong>springmvc</strong>(æ§åˆ¶å™¨) + <strong>spring core</strong>(é¡¹ç›®ç®¡ç†)</p>
<h2 id="SpringBootçš„ä¼˜åŠ¿"><a href="#SpringBootçš„ä¼˜åŠ¿" class="headerlink" title="SpringBootçš„ä¼˜åŠ¿"></a>SpringBootçš„ä¼˜åŠ¿</h2><ol>
<li>åˆ›å»ºå®Œæ•´çš„ç‹¬ç«‹çš„ <code>Spring</code> åº”ç”¨ç¨‹åº<ul>
<li><code>springmvc</code> + <code>spring</code></li>
</ul>
</li>
<li>åµŒå…¥çš„ <code>Tomcat</code> ï¼Œæ— éœ€éƒ¨ç½² <code>WAR</code> æ–‡ä»¶<ul>
<li>å†…åµŒ <code>Tomcat</code></li>
</ul>
</li>
<li>ç®€åŒ– <code>Maven</code> é…ç½®ï¼Œè‡ªåŠ¨é…ç½® <code>Spring</code> ï¼Œæ²¡æœ‰ <code>XM</code> Lé…ç½®</li>
</ol>
<h2 id="SpringBootçº¦å®š"><a href="#SpringBootçº¦å®š" class="headerlink" title="SpringBootçº¦å®š"></a>SpringBootçº¦å®š</h2><p><strong>é¡¹ç›®ç»“æ„å›¾</strong><br><img src="/Resources/Pasted%20image%2020220817195034.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li><p>springbootçº¦å®šspringbooté¡¹ç›®ä¸­æœ‰ä¸”åªèƒ½å­˜åœ¨ä¸€ä¸ªå…¥å£ç±»(Class)<br>ç±»åï¼šæ¨è<strong>xxx(é¡¹ç›®å)Application.java</strong></p>
<ul>
<li>a. å…¥å£ç±»å¿…é¡»åœ¨æ‰€æœ‰å­åŒ…ä¹‹ä¸Š</li>
<li>b. å…¥å£ç±»ä¸­å¿…é¡»å­˜åœ¨ä¸€ä¸ªå¯åŠ¨é¡¹ç›®é¡¹ç›®mainå‡½æ•°</li>
</ul>
</li>
<li><p>springbooté¡¹ç›®çº¦å®šå¿…é¡»åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­å­˜åœ¨ä¸€ä¸ªåå­—ä¸º<code>application.yml</code> l <code>application.properties</code> é…ç½®æ–‡ä»¶</p>
</li>
</ol>
<h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><p><strong>ç¯å¢ƒè¦æ±‚</strong></p>
<table>
<thead>
<tr>
<th>è½¯ä»¶</th>
<th>ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody><tr>
<td>JDK</td>
<td>1.8+</td>
</tr>
<tr>
<td>MAVEN</td>
<td>3.2+</td>
</tr>
<tr>
<td>SpringBoot</td>
<td>2.7.2</td>
</tr>
</tbody></table>
<blockquote>
<p>2022-8-17 SpringBootæœ€æ–°ç‰ˆ</p>
</blockquote>
<p><strong>æ–°å»ºé¡¹ç›®ä¸­å¼•å…¥ä¾èµ–</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»§æ‰¿springbootçš„çˆ¶é¡¹ç›® ä¾¿äºç»´æŠ¤ç‰ˆæœ¬--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--        springboot-boot-starter-web--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p><code>&lt;parent&gt;</code>ç»§æ‰¿çˆ¶é¡¹ç›®ä¸å¯¼å…¥ä»»ä½•ä¾èµ–ï¼Œåªæ˜¯å¯¹ä¸‹é¢çš„ä¾èµ–è¿›è¡Œä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶<br>åŸå› ï¼šå„ä¸ªä¾èµ–æœ‰ç€ä¸¥æ ¼çš„ç‰ˆæœ¬é™åˆ¶ï¼Œå¹¶ä¸”æ–¹ä¾¿ç»´æŠ¤ã€‚</p>
<p><code>&lt;version&gt;</code> SpringBoot ç‰ˆæœ¬å·åœ¨ 2.4.x ä»¥å‰ç»“å°¾æœ‰ä¸€ä¸ªRELEASEï¼Œä» 2.4.x ä»¥ååªä»¥æ•°å­—å‘½åã€‚</p>
</blockquote>
<p><strong>åœ¨resourcesç›®å½•ä¸­åˆ›å»º<code>application.yml</code></strong></p>
<blockquote>
<p>è¿™é‡Œä¹Ÿå¯ä»¥ä¸ç”¨å†™âœï¼Œé»˜è®¤8080ç«¯å£ã€‚<del>å»ºéƒ½å»ºäº†ï¼Œä¸å†™ç‚¹ä¸œè¥¿ï¼Œä¸åˆé€‚</del></p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8989</span><br></code></pre></td></tr></table></figure>

<p><strong>åˆ›å»ºspringbootå…¥å£ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">         * å¯åŠ¨springbootåº”ç”¨</span><br><span class="hljs-comment">         * å‚æ•°1:æŒ‡å®šå…¥å£ç±»çš„ç±»å¯¹è±¡.class(ç±»çš„å¯¹è±¡æ˜¯new xxx)</span><br><span class="hljs-comment">         * å‚æ•°2:mainå‡½æ•°å‚æ•°</span><br><span class="hljs-comment">         */</span><br>        SpringApplication.run(Application.class,args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="æ³¨è§£è¯´æ˜"><a href="#æ³¨è§£è¯´æ˜" class="headerlink" title="æ³¨è§£è¯´æ˜"></a>æ³¨è§£è¯´æ˜</h3><p>â­<code>@SpringBootApplication</code><br>ä¿®é¥°èŒƒå›´ï¼šç”¨åœ¨ç±»ä¸Šåªèƒ½ç”¨åœ¨å…¥å£ç±»ä¸Šåªèƒ½å‡ºç°ä¸€æ¬¡<br>ä½œç”¨ï¼šæ ‡è¯†è¿™ä¸ªç±»æ˜¯ä¸€ä¸ª <code>springboot</code> å…¥å£ç±»ï¼ˆå¯åŠ¨æ•´ä¸ª <code>springboot</code> é¡¹ç›®çš„æ€»å…¥å£ï¼‰</p>
<p><code>@SpringBootApplication</code> ç”±å¤šä¸ªæ³¨è§£æ„æˆï¼Œ4ä¸ªå…ƒæ³¨è§£ï¼Œç”± <code>Java</code> æä¾›ï¼Œ</p>
<table>
<thead>
<tr>
<th>æ³¨è§£å</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>@Target(&#123;ElementType.TYPE&#125;)</code></td>
<td>æŒ‡å®šæ³¨è§£ä½œç”¨èŒƒå›´</td>
</tr>
<tr>
<td><code>@Retention(RetentionPolicy.RUNTIME) </code></td>
<td>æŒ‡å®šæ³¨è§£ä»€ä¹ˆæ—¶å€™ç”Ÿæ•ˆï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯è¿è¡Œæ—¶</td>
</tr>
<tr>
<td><code>@Documented</code></td>
<td></td>
</tr>
<tr>
<td><code>@Inherited</code></td>
<td></td>
</tr>
<tr>
<td>â­<code>@SpringBootConfiguration</code></td>
<td>ç”¨æ¥è‡ªåŠ¨é…ç½® <code>spring springmvc</code> ç›¸å…³ç¯å¢ƒ<br>ç»„åˆäº† <code>@Configuration</code> æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯ <code>@SpringBootConfiguration</code> ä¿®é¥°çš„ç±»å°±æ˜¯ <code>Java</code> é…ç½®ç±»</td>
</tr>
<tr>
<td>â­<code>@EnableAutoConfiguration</code></td>
<td>å¼€å¯è‡ªåŠ¨é…ç½® <br><code>META-INF/spring.factories</code>æ–‡ä»¶ä¸­åŠ è½½éœ€è¦è‡ªåŠ¨æ³¨å…¥çš„ <code>Java</code> ç±»<br><strong>è‡ªåŠ¨é…ç½®æ ¸å¿ƒæ³¨è§£</strong><br><strong>è‡ªåŠ¨é…ç½®springç›¸å…³ç¯å¢ƒ</strong><br><strong>è‡ªåŠ¨ä¸é¡¹ç›®ä¸­å¼•å…¥çš„ç¬¬ä¸‰æ–¹æŠ€æœ¯è‡ªåŠ¨é…ç½®å…¶ç¯å¢ƒ</strong></td>
</tr>
<tr>
<td>â­<code>@ComponentScan</code></td>
<td>ç»„ä»¶æ‰«æï¼Œé»˜è®¤æ‰«æ <code>@SpringBootApplication</code> æ³¨è§£çš„ç±»çš„å½“å‰åŒ…åŠå…¶å­åŒ…ä¸‹é¢æ‰€æœ‰è¢« <code>@Compoent</code> æ³¨è§£ä¿®é¥°çš„ <code>Java</code> ç±»</td>
</tr>
</tbody></table>
<p><strong>è¿è¡Œ</strong><br><img src="/Resources/Pasted%20image%2020220817201942.png" srcset="/img/loading.gif" lazyload><br><img src="/Resources/Pasted%20image%2020220817202007.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p><code>SpringApplication.run(Application.class,args);</code><br>å¯åŠ¨springbootåº”ç”¨æ—¶å€™éœ€è¦ä¼ é€’mainå‡½æ•°å‚æ•°ä½œä¸ºå¯åŠ¨çš„ç¬¬äºŒä¸ªå‚æ•°ï¼š<br>æ€ä¹ˆä¼ å‚ï¼šé€šè¿‡ideaé‡Œé¢çš„vm optionså¯ä»¥è¦†ç›–æ‰æŸäº›é…ç½®ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼Œå¯ä»¥è¦†ç›–ç«¯å£<br><img src="/Resources/%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE.drawio.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<h3 id="æµ‹è¯•é¡¹ç›®"><a href="#æµ‹è¯•é¡¹ç›®" class="headerlink" title="æµ‹è¯•é¡¹ç›®"></a>æµ‹è¯•é¡¹ç›®</h3><p><strong>å»ºåŒ…å¹¶åˆ›å»ºæ§åˆ¶å™¨(controller)</strong><br><img src="/Resources/Pasted%20image%2020220817202555.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>ä¹‹å‰åœ¨å†™ä»£ç çš„æ—¶å€™ä¸€ç›´ç–‘æƒ‘çš„ç‚¹ï¼šRequestMappingå‰é¢çš„æ–œçº¿éœ€ä¸éœ€è¦åŠ <br>å‚è€ƒèµ„æ–™ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/hehuihh/article/details/117371593">æ³¨è§£RequestMappingä¸­çš„URIè·¯å¾„æœ€å‰é¢åˆ°åº•éœ€ä¸éœ€è¦åŠ æ–œçº¿ï¼Ÿ</a><br><img src="/Resources/Pasted%20image%2020220817202819.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<p>æµ‹è¯•åœ°å€ï¼š<code>http://localhost:ç«¯å£å·/è¯·æ±‚è·¯å¾„</code>      <a target="_blank" rel="noopener" href="http://localhost:8989/hello">http://localhost:8989/hello</a></p>
<blockquote>
<p>ä¿®æ”¹ç«¯å£å·è§ä¸Šé¢åˆ›å»º<code>application.yml</code>çš„æ—¶å€™<br><img src="/Resources/Pasted%20image%2020220817202616.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<p><strong>ä¿®æ”¹é¡¹ç›®å</strong></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8989</span> <span class="hljs-comment"># ä¿®æ”¹å†…åµŒæœåŠ¡å™¨ç«¯å£å·</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/springboot</span> <span class="hljs-comment">#ä¿®æ”¹é¡¹ç›®åæ³¨æ„:é¡¹ç›®åå¿…é¡»&quot;/&quot;å¼€å¤´</span><br></code></pre></td></tr></table></figure>
<p>æµ‹è¯•åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://localhost:8989/springboot/hello">http://localhost:8989/springboot/hello</a></p>
<h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h2><h3 id="é…ç½®æ–‡ä»¶çš„æ‹†åˆ†"><a href="#é…ç½®æ–‡ä»¶çš„æ‹†åˆ†" class="headerlink" title="é…ç½®æ–‡ä»¶çš„æ‹†åˆ†"></a>é…ç½®æ–‡ä»¶çš„æ‹†åˆ†</h3><p>è¯´æ˜ï¼šåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒæœ‰å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤å°†ç”Ÿäº§ä¸­çš„é…ç½®å’Œå¼€å‘ä¸­çš„é…ç½®æ‹†åˆ†å¼€ï¼Œæ˜¯éå¸¸å¿…è¦çš„ã€‚åœ¨springbootä¸­ä¹Ÿæä¾›äº†é…ç½®æ–‡ä»¶æ‹†åˆ†çš„æ–¹å¼ï¼Œè¿™é‡Œä»¥ç”Ÿäº§ä¸­é¡¹ååç§°ä¸å¼€å‘é¡¹ç›®åç§°ä¸ä¸€è‡´ä¸ºä¾‹ï¼š<br>å¼€å‘çš„æ—¶å€™é¡¹ç›®åä¸ºspringbootï¼Œç”Ÿäº§çš„æ—¶å€™é¡¹ç›®åä¸ºspringboot_prodï¼Œ</p>
<p>ä¸»é…ç½®æ–‡ä»¶<code>application.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># å…¬å…±é…ç½®</span><br><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8989</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">profiles:</span><br>    <span class="hljs-comment"># éœ€è¦ä½¿ç”¨å“ªå¥—ç¯å¢ƒå°±ç”¨è°ï¼Œæ³¨æ„æ˜¯ ç¯å¢ƒ-åé¢çš„xxx</span><br>    <span class="hljs-attr">active:</span> <span class="hljs-string">dev</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>åŒºåˆ«äºä¸»é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶å‘½ä»¤çš„è¦æ±‚ä¸º<code>application-xxx.yml</code></p>
</blockquote>
<p>å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶<code>application-dev.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/springboot</span><br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220818183340.png" srcset="/img/loading.gif" lazyload></p>
<p>ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶<code>application-prod.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/springboot_prod</span><br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220818183418.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="åŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶"><a href="#åŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶" class="headerlink" title="åŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶"></a>åŠ è½½å¤–éƒ¨é…ç½®æ–‡ä»¶</h3><p>åœ¨é¡¹ç›®å¤–åˆ›å»º<code>application-local-prod.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/spring</span><br></code></pre></td></tr></table></figure>
<p><img src="/Resources/%E5%8A%A0%E8%BD%BD%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.drawio.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>ç­‰åŒäºå‘½ä»¤è¡Œ<code>java -jar --spring.config.location=æˆ‘æ˜¯ç»å¯¹è·¯å¾„ xxxx.jar</code></p>
</blockquote>
<p>å¯ä»¥å‘ç°å¤–éƒ¨é…ç½®æ–‡ä»¶å·²ç»ç”Ÿæ•ˆ<br><img src="/Resources/Pasted%20image%2020220818184446.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"><a href="#å¿«é€Ÿåˆ›å»ºé¡¹ç›®" class="headerlink" title="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"></a>å¿«é€Ÿåˆ›å»ºé¡¹ç›®</h2><blockquote>
<p>åŒºåˆ«äºä¹‹å‰çš„2.7.2 è¿™é‡Œçš„spring bootç‰ˆæœ¬å˜ä¸ºäº†2.7.3ï¼Œçªç„¶æ›´æ–°äº†ã€‚</p>
</blockquote>
<p>é™¤äº†ä»¥ä¸Šæœ€å¼€å§‹çš„åˆ›å»ºé¡¹ç›®çš„æ–¹å¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>Springboot init</code> å¿«é€Ÿåˆå§‹åŒ–<br><a href="../../%E8%BD%AF%E4%BB%B6/IDEA.md#%E4%BD%BF%E7%94%A8IDEA%E5%88%9B%E5%BB%BASPRINGBOOT%E9%A1%B9%E7%9B%AE">ä½¿ç”¨IDEAåˆ›å»ºSPRINGBOOTé¡¹ç›®</a></p>
<h2 id="å·¥å‚åˆ›å»ºå¯¹è±¡"><a href="#å·¥å‚åˆ›å»ºå¯¹è±¡" class="headerlink" title="å·¥å‚åˆ›å»ºå¯¹è±¡"></a>å·¥å‚åˆ›å»ºå¯¹è±¡</h2><h3 id="åˆ›å»ºå•ä¸ªå¯¹è±¡"><a href="#åˆ›å»ºå•ä¸ªå¯¹è±¡" class="headerlink" title="åˆ›å»ºå•ä¸ªå¯¹è±¡"></a>åˆ›å»ºå•ä¸ªå¯¹è±¡</h3><p>åœ¨springbootä¸­å¯ä»¥ç®¡ç†å•ä¸ªå¯¹è±¡å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>spring</code> æ¡†æ¶ä¸­æ³¨è§£å½¢å¼åˆ›å»ºã€‚</p>
<ul>
<li><code>@Component</code>ï¼šåˆ›å»º<strong>é€šç”¨å¯¹è±¡</strong><ul>
<li><code>@Controller</code>ï¼šåˆ›å»º<strong>æ§åˆ¶å±‚å¯¹è±¡</strong></li>
<li><code>@Service</code>ï¼š      åˆ›å»º<strong>ä¸šåŠ¡å±‚å¯¹è±¡</strong></li>
<li><code>@Repository</code>ï¼šåˆ›å»º<strong>DAOå±‚å¯¹è±¡</strong><ul>
<li>åœ¨å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡ï¼Œé»˜è®¤å·¥å‚ä¸­çš„åç§°ä¸ºç±»åé¦–å­—æ¯å°å†™</li>
<li>ä»¥ä¸Šæ³¨è§£éƒ½æœ‰valueå±æ€§ï¼Œ valueå±æ€§ç”¨æ¥æŒ‡æ˜è¢«æ ‡æ³¨çš„ç±»åœ¨å·¥å‚ä¸­çš„åç§°ã€‚å³å¦‚æœä¸åŠ ï¼Œå·¥å‚ä¸­çš„åç§°ä¸ºç±»åé¦–å­—æ¯å°å†™ã€‚åŠ äº†ï¼Œå·¥å‚ä¸­çš„åç§°ä¸ºæŒ‡æ˜çš„åç§°ã€‚<br>  å›¾ç¤º</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>åœ¨<code>DemoServiceImpl</code>æ·»åŠ <code>@Service</code>æ³¨è§£åï¼Œspringå·¥å‚å°±ä¼šæœ‰è¿™ä¸ªå¯¹è±¡ï¼Œé€šè¿‡<code>@Autowired</code> è‡ªåŠ¨æ³¨å…¥ï¼ˆå‘å·¥å‚æ‹¿<code>DemoService</code>å¯¹è±¡ï¼‰ï¼Œä»¥ä½¿ç”¨<code>DemoService</code><br><img src="/Resources/Pasted%20image%2020220818194412.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<h3 id="åˆ›å»ºå¤šä¸ªå¯¹è±¡"><a href="#åˆ›å»ºå¤šä¸ªå¯¹è±¡" class="headerlink" title="åˆ›å»ºå¤šä¸ªå¯¹è±¡"></a>åˆ›å»ºå¤šä¸ªå¯¹è±¡</h3><p>åœ¨SpringBootä¸­ä¹Ÿæä¾›äº†å¦‚<code>@configuration</code> + <code>@Bean</code>æ³¨è§£è¿›è¡Œåˆ›å»º</p>
<ul>
<li><code>@Configuration</code> ä¿®é¥°èŒƒå›´ï¼šç”¨åœ¨ç±»ä¸Šï¼ˆç›¸å½“äº<code>spring.xml</code>ï¼‰ï¼Œä½œç”¨ï¼šä»£è¡¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ª <code>springboot</code> ä¸­é…ç½®ç±»ã€‚<ul>
<li><code>@Bean</code> åˆ›å»ºå¯¹è±¡ï¼Œç›¸å½“äº<code>spring.xml</code>ä¸­çš„beanæ ‡ç­¾<ul>
<li>é»˜è®¤ä½¿ç”¨ <code>@Bean</code> åˆ›å»ºå¯¹è±¡åœ¨å·¥å‚ä¸­å”¯ä¸€æ ‡è¯†ä¸ºæ–¹æ³•åç§°</li>
<li>ä¿®æ”¹åœ¨å·¥å‚ä¸­å¯¹è±¡æ ‡è¯†å¯ä»¥åœ¨ä½¿ç”¨ <code>@Bean(&quot;å·¥å‚ä¸­åå­—&quot;)</code> æŒ‡å®šä¸€ä¸ªåå­—</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/Resources/Pasted%20image%2020220818200142.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="å±æ€§æ³¨å…¥"><a href="#å±æ€§æ³¨å…¥" class="headerlink" title="å±æ€§æ³¨å…¥"></a>å±æ€§æ³¨å…¥</h2><h3 id="åŸºæœ¬å±æ€§æ³¨å…¥"><a href="#åŸºæœ¬å±æ€§æ³¨å…¥" class="headerlink" title="åŸºæœ¬å±æ€§æ³¨å…¥"></a>åŸºæœ¬å±æ€§æ³¨å…¥</h3><h4 id="Value-â­"><a href="#Value-â­" class="headerlink" title="@Value â­"></a>@Value â­</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InjectionController</span> &#123;<br><br>    <span class="hljs-meta">@Value(&quot;wtt&quot;)</span><br>    <span class="hljs-keyword">private</span> String name;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;inject&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">inject</span><span class="hljs-params">()</span> &#123;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;inject ok&quot;</span> + name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220819111052.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>ä½†æ˜¯è¿™æ ·çš„æ–¹å¼ï¼Œå¹¶ä¸åˆ©äºè§£è€¦ï¼Œä¸”ä½œç”¨ç­‰åŒäºèµ‹å€¼ã€‚<br>æ³¨ï¼šç«¯å£å·ä¿®æ”¹ä¸ºäº†8989</p>
</blockquote>
<p><strong>ä¼˜åŒ–æ–¹å¼ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰æ³¨å…¥å€¼</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InjectionController</span> &#123;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;name&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;age&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> Integer age;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;bir&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> Date bir;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;price&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> Double price;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;sex&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> Boolean sex;<br><br>    <span class="hljs-comment">/* --------------------------------------------------------------------------------------------------------------*/</span><br><br>	<span class="hljs-comment">// æ³¨å…¥æ•°ç»„</span><br>    <span class="hljs-meta">@Value(&quot;$&#123;qqs&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String[] qqs;<br><br>	<span class="hljs-comment">// æ³¨å…¥list</span><br>    <span class="hljs-meta">@Value(&quot;$&#123;lists&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> List&lt;String&gt; lists;<br><br>	<span class="hljs-comment">// æ³¨å…¥map</span><br>    <span class="hljs-meta">@Value(&quot;#&#123;$&#123;maps&#125;&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> Map&lt;String,String&gt; maps;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;inject&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">inject</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;inject ok:&quot;</span> + name + age + bir + price + sex + <span class="hljs-string">&quot;----&quot;</span> + Arrays.toString(qqs);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span>  <br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8989</span>  <br>  <br><span class="hljs-comment"># å£°æ˜æ³¨å…¥çš„å€¼  </span><br><span class="hljs-attr">name:</span> <span class="hljs-string">wtt</span>  <br><span class="hljs-attr">age:</span> <span class="hljs-number">23</span>  <br><span class="hljs-attr">price:</span> <span class="hljs-number">23.23</span>  <br><span class="hljs-comment"># æ—¥æœŸé»˜è®¤æ ¼å¼ä¸ºYYYY/mm/dd HH/MM/ss  </span><br><span class="hljs-attr">bir:</span> <span class="hljs-number">2022</span><span class="hljs-string">/12/12</span> <span class="hljs-number">12</span><span class="hljs-string">:12:12</span><br><span class="hljs-attr">sex:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># æ³¨å…¥æ•°ç»„ï¼Œå¤šä¸ªå…ƒç´ ç”¨&quot;,&quot;éš”å¼€</span><br><span class="hljs-attr">qqs:</span> <span class="hljs-number">6099</span><span class="hljs-string">,7088,8009</span><br><span class="hljs-comment"># æ³¨å…¥listï¼Œå¤šä¸ªå…ƒç´ ç”¨&quot;,&quot;éš”å¼€ï¼ˆä¸æ³¨å…¥æ•°ç»„ä¸€è‡´ï¼‰</span><br><span class="hljs-attr">lists:</span> <span class="hljs-number">6099</span><span class="hljs-string">,7088,8009</span><br><span class="hljs-comment"># æ³¨å…¥mapï¼Œä½¿ç”¨jsonæ ¼å¼ï¼Œæ³¨å…¥çš„æ—¶å€™å¿…é¡»ä½¿ç”¨&quot;#&#123;$&#123;å±æ€§&#125;&#125;&quot;è¿›è¡Œæ³¨å…¥</span><br><span class="hljs-string">maps:&quot;&#123;&#x27;aa&#x27;:&#x27;bb&#x27;,&#x27;cc&#x27;:&#x27;dd&#x27;&#125;&quot;</span><br></code></pre></td></tr></table></figure>

<p><img src="/Resources/Pasted%20image%2020220819111907.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="å¯¹è±¡æ³¨å…¥"><a href="#å¯¹è±¡æ³¨å…¥" class="headerlink" title="å¯¹è±¡æ³¨å…¥"></a>å¯¹è±¡æ³¨å…¥</h3><h4 id="ConfigurationProperties-â­"><a href="#ConfigurationProperties-â­" class="headerlink" title="@ConfigurationProperties â­"></a>@ConfigurationProperties â­</h4><p><strong>å†æ¬¡ä¼˜åŒ–æ–¹å¼ï¼šä»¥å¯¹è±¡çš„æ–¹å¼ä¸€æ¬¡æ€§æ³¨å…¥</strong></p>
<blockquote>
<p>è¿™é‡Œçš„ä»£ç ä¼šå‡ºç°é—®é¢˜ï¼Œæ­£ç¡®ä»£ç è§ä¸‹ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¼•å…¥<strong>æ³¨æ„ç‚¹</strong>ã€‚</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># å£°æ˜å¯¹è±¡æ–¹å¼çš„æ³¨å…¥</span><br><span class="hljs-attr">users:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">wtt</span><br>  <span class="hljs-attr">age:</span> <span class="hljs-number">23</span><br>  <span class="hljs-attr">sex:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@ConfigurationProperties(&quot;users&quot;)</span><span class="hljs-comment">//ä¿®é¥°èŒƒå›´:ç”¨åœ¨ç±»ä¸Šï¹ä½œç”¨:ç”¨æ¥å°†æŒ‡å®šå‰ç¼€çš„å±æ€§æ³¨å…¥åˆ°å½“å‰å¯¹è±¡ä¸­å±æ€§åä¸€è‡´å±æ€§çš„å±æ€§</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InjectionObjectController</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-keyword">private</span> Boolean sex;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;injectObject&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">injectObject</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;inject Object OK...&quot;</span> + name + age + sex;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡è¡¥å……ï¼š<br><img src="/Resources/Pasted%20image%2020220822160459.png" srcset="/img/loading.gif" lazyload><br>ä¸è®ºæ˜¯valueè¿˜æ˜¯prefix éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºåœ¨æºç ä¸­ï¼Œä¸¤è€…æ˜¯ç­‰åŒçš„æ¦‚å¿µã€‚<br><img src="/Resources/Pasted%20image%2020220822160530.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<p>æµ‹è¯•ï¼š<br>â—<strong>è¿™é‡Œå¹¶æ²¡æœ‰æ‹¿åˆ°å¯¹åº”çš„å±æ€§å€¼</strong>ï¼Œæ˜¯ç”±äºæ²¡æœ‰è®¾ç½®setæ–¹æ³•ã€‚<img src="/Resources/Pasted%20image%2020220822160841.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li><strong>æŒ‰ç…§ä»¥ä¸‹ä»£ç ç¼–å†™setä»£ç å³å¯</strong> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@ConfigurationProperties(&quot;users&quot;)</span><span class="hljs-comment">//ä¿®é¥°èŒƒå›´:ç”¨åœ¨ç±»ä¸Šï¹ä½œç”¨:ç”¨æ¥å°†æŒ‡å®šå‰ç¼€çš„å±æ€§æ³¨å…¥åˆ°å½“å‰å¯¹è±¡ä¸­å±æ€§åä¸€è‡´å±æ€§çš„å±æ€§</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InjectionObjectController</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-keyword">private</span> Boolean sex;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(Integer age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSex</span><span class="hljs-params">(Boolean sex)</span> &#123;<br>        <span class="hljs-built_in">this</span>.sex = sex;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;injectObject&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">injectObject</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;inject Object OK...&quot;</span> + name + age + sex;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p>â—<strong>ä¸Šé¢çš„ç™½æ¡†é‡Œé¢çš„å†…å®¹</strong>ï¼Œ<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/2.7.3/reference/html/configuration-metadata.html#appendix.configuration-metadata.annotation-processor">Open documentationâ€¦</a><br>ç®€è€Œè¨€ä¹‹ï¼šå¼•å…¥<code>spring-boot-configuration-processor</code> è¿™ä¸ªjaråŒ…ï¼Œé‡å¯é¡¹ç›®åå³å¯ï¼ˆä½†æ˜¯æˆ‘é‡å¯äº†æ²¡ç”¨ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬åŠ ä¸Šæ³¨è§£ä¹‹åï¼Œå†ç¼–å†™ymlæ–‡ä»¶çš„æ—¶å€™ä¼šæœ‰æç¤ºå¯¹åº”çš„å±æ€§ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>ã€<br>    <span class="hljs-comment">&lt;!--ä»£è¡¨æ•´ä¸ªä¾èµ–ä¸ä¼šè¢«ä¼ é€’ï¼Œå³ä¸ä¼šä¼ ç»™å­é¡¹ç›®--&gt;</span><br>    <span class="hljs-comment">&lt;!--å‡è®¾Aå¯¼å…¥äº†Bï¼ŒBå¼•å…¥äº†ä¸€ä¸ªåŒ…ï¼Œå…¶ä¸­optionalå±æ€§ä¸åŠ æˆ–è€…ä¸ºfalseï¼Œé‚£ä¹ˆAå°±å¼•å…¥è¯¥åŒ…--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="æœ¬åœ°æµ‹è¯•"><a href="#æœ¬åœ°æµ‹è¯•" class="headerlink" title="æœ¬åœ°æµ‹è¯•"></a>æœ¬åœ°æµ‹è¯•</h2><h3 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="ç¼–å†™æµ‹è¯•ç±»"><a href="#ç¼–å†™æµ‹è¯•ç±»" class="headerlink" title="ç¼–å†™æµ‹è¯•ç±»"></a>ç¼–å†™æµ‹è¯•ç±»</h3><p>åœ¨serviceçš„æŸä¸ªç±»ä¸Šï¼Œctrl + shift + T<br><img src="/Resources/Pasted%20image%2020220822200810.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/Resources/Pasted%20image%2020220822200823.png" srcset="/img/loading.gif" lazyload><br>æµ‹è¯•ä»£ç å³å¯ï¼›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceTest</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserDao userDao;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">test1</span><span class="hljs-params">()</span> &#123;<br>        userDao.test();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p>æ¯æ¬¡æµ‹è¯•ä¸€ä¸ªæ–°çš„æµ‹è¯•ç±»éƒ½è¦åŠ ä¸Š<code>@SpringBootTest</code>æ³¨è§£ï¼Œå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ç»§æ‰¿çš„æ–¹å¼è¿›è¡Œä¼˜åŒ–</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BasicTests</span> &#123;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BasicTests</span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserDao userDao;<br><br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span> &#123;<br>        userDao.test();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çƒ­éƒ¨ç½²å·¥å…·"><a href="#çƒ­éƒ¨ç½²å·¥å…·" class="headerlink" title="çƒ­éƒ¨ç½²å·¥å…·"></a>çƒ­éƒ¨ç½²å·¥å…·</h2><p>ä¸ºäº†è¿›ä¸€æ­¥æé«˜å¼€å‘æ•ˆç‡ï¼Œspringbootä¸ºæˆ‘ä»¬æä¾›äº†<strong>å…¨å±€é¡¹ç›®çƒ­éƒ¨ç½²</strong>ï¼Œä»¥ååœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¿®æ”¹äº†éƒ¨åˆ†ä»£ç ä»¥åŠç›¸å…³é…ç½®æ–‡ä»¶åï¼Œ<strong>ä¸éœ€è¦æ¯æ¬¡é‡å¯ä½¿ä¿®æ”¹ç”Ÿæ•ˆ</strong>ï¼Œåœ¨é¡¹ç›®ä¸­å¼€å¯äº†springbootå…¨å±€çƒ­éƒ¨ç½²ä¹‹ååªéœ€è¦åœ¨ä¿®æ”¹ä¹‹å<strong>ç­‰å¾…å‡ ç§’å³å¯ä½¿ä¿®æ”¹ç”Ÿæ•ˆ</strong>ã€‚</p>
<p>å‰ç½®ï¼š<a href="../../%E8%BD%AF%E4%BB%B6/IDEA.md#%E4%BD%BF%E7%94%A8IDEA%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91">ä½¿ç”¨IDEAå¼€å¯è‡ªåŠ¨ç¼–è¯‘</a></p>
<h3 id="å¯¼å…¥ä¾èµ–-1"><a href="#å¯¼å…¥ä¾èµ–-1" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-devtools<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="ç¼–å†™æµ‹è¯•ä»£ç "><a href="#ç¼–å†™æµ‹è¯•ä»£ç " class="headerlink" title="ç¼–å†™æµ‹è¯•ä»£ç "></a>ç¼–å†™æµ‹è¯•ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;demo&quot;)</span>  <br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">demo</span><span class="hljs-params">()</span> &#123;  <br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;demo&quot;</span>;  <br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h3><p>ğŸ¨ä¿¡æ¯ä»Mainå˜æˆäº†restartedMain<br><img src="/Resources/Pasted%20image%2020220822202451.png" srcset="/img/loading.gif" lazyload></p>
<p>å‘é€è¯·æ±‚<br><img src="/Resources/Pasted%20image%2020220822202651.png" srcset="/img/loading.gif" lazyload></p>
<p>æ­¤æ—¶æˆ‘ä»¬ä¿®æ”¹æµ‹è¯•ä»£ç å†…å®¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;demo&quot;)</span>  <br><span class="hljs-keyword">public</span> String <span class="hljs-title function_">demo</span><span class="hljs-params">()</span> &#123;  <br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;demo123&quot;</span>;  <br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220822205010.png" srcset="/img/loading.gif" lazyload></p>
<p>æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯<br><img src="/Resources/Pasted%20image%2020220822205002.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="æ—¥å¿—å¤„ç†"><a href="#æ—¥å¿—å¤„ç†" class="headerlink" title="æ—¥å¿—å¤„ç†"></a>æ—¥å¿—å¤„ç†</h2><p>springbootæ¡†æ¶é›†æˆæ—¥å¿— <strong>logback</strong> æ—¥å¿—ã€‚</p>
<p>Logbackæ˜¯ç”±log4jåˆ›å§‹äººè®¾è®¡çš„åˆä¸€ä¸ªå¼€æºæ—¥å¿—ç»„ä»¶ã€‚ç›®å‰ï¼Œlogbackåˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼šlogback-coreï¼Œlogback-classicå’Œlogback-accessã€‚æ˜¯å¯¹log4jæ—¥å¿—å±•ç¤ºè¿›ä¸€æ­¥æ”¹è¿›!</p>
<h3 id="æ—¥å¿—çº§åˆ«"><a href="#æ—¥å¿—çº§åˆ«" class="headerlink" title="æ—¥å¿—çº§åˆ«"></a>æ—¥å¿—çº§åˆ«</h3><p><code>All &lt; Trace &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; Fatal &lt; OFF</code></p>
<ul>
<li>OFF<br>å…³é—­ï¼šæœ€é«˜çº§åˆ«ï¼Œ<strong>ä¸æ‰“å°æ—¥å¿—</strong>ã€‚</li>
<li>FATAL<br>è‡´å‘½ï¼š<strong>æŒ‡æ˜éå¸¸ä¸¥é‡çš„</strong>å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç»ˆæ­¢æ‰§è¡Œé”™è¯¯<strong>äº‹ä»¶</strong>ã€‚</li>
<li>ERROR<br>é”™è¯¯ï¼š<strong>æŒ‡æ˜é”™è¯¯äº‹ä»¶</strong>ï¼Œä½†åº”ç”¨å¯èƒ½è¿˜èƒ½ç»§ç»­è¿è¡Œã€‚</li>
<li>WARN<br>è­¦å‘Šï¼šæŒ‡æ˜å¯èƒ½<strong>æ½œåœ¨çš„å±é™©</strong>çŠ¶å†µã€‚</li>
<li>INFO<br>ä¿¡æ¯ï¼šæŒ‡æ˜æè¿°ä¿¡æ¯ï¼Œä»ç²—ç²’åº¦ä¸Š<strong>æè¿°</strong>äº†åº”ç”¨<strong>è¿è¡Œè¿‡ç¨‹</strong>ã€‚</li>
<li>DEBUG<br>è°ƒè¯•ï¼šæŒ‡æ˜<strong>ç»†è‡´çš„äº‹ä»¶ä¿¡æ¯</strong>ï¼Œå¯¹è°ƒè¯•åº”ç”¨æœ€æœ‰ç”¨ã€‚</li>
<li>TRACE<br>è·Ÿè¸ªï¼šæŒ‡æ˜<strong>ç¨‹åºè¿è¡Œè½¨è¿¹</strong>ï¼Œæ¯”DEBUGçº§åˆ«çš„ç²’åº¦æ›´ç»†ã€‚</li>
<li>ALL<br>æ‰€æœ‰ï¼š<strong>æ‰€æœ‰æ—¥å¿—</strong>çº§åˆ«ï¼ŒåŒ…æ‹¬å®šåˆ¶çº§åˆ«ã€‚<blockquote>
<p>æ—¥å¿—çº§åˆ«ç”±ä½åˆ°é«˜:<code>æ—¥å¿—çº§åˆ«è¶Šé«˜è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯è¶Šå°‘</code></p>
</blockquote>
</li>
</ul>
<h3 id="æ—¥å¿—åˆ†ç±»"><a href="#æ—¥å¿—åˆ†ç±»" class="headerlink" title="æ—¥å¿—åˆ†ç±»"></a>æ—¥å¿—åˆ†ç±»</h3><ul>
<li>rootLoggerï¼šç”¨æ¥ç›‘å¬é¡¹ç›®ä¸­æ‰€æœ‰çš„è¿è¡Œæ—¥å¿—åŒ…æ‹¬å¼•å…¥ä¾èµ–jarä¸­çš„æ—¥å¿—</li>
<li>loggerï¼šç”¨æ¥ç›‘å¬é¡¹ç›®ä¸­æŒ‡å®šåŒ…ä¸­çš„æ—¥å¿—ä¿¡æ¯</li>
</ul>
<h3 id="é…ç½®æ—¥å¿—"><a href="#é…ç½®æ—¥å¿—" class="headerlink" title="é…ç½®æ—¥å¿—"></a>é…ç½®æ—¥å¿—</h3><blockquote>
<p>æ³¨æ„:SpringBootæ¡†æ¶ä¸­é»˜è®¤æ ¹æ—¥å¿—ä¸ºINFO<br><img src="/Resources/Pasted%20image%2020220823091739.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># æ—¥å¿—</span><br><span class="hljs-attr">logging:</span><br>  <span class="hljs-attr">level:</span><br>    <span class="hljs-comment"># æŒ‡å®šæ ¹æ—¥å¿—çº§åˆ«(ä¸€èˆ¬ä¸æ¨èä¿®æ”¹æ ¹æ—¥å¿—,è¾“å‡ºä¿¡æ¯å¤ªå¤š,æ¨èä½¿ç”¨å­æ—¥å¿—)</span><br>    <span class="hljs-comment"># root: debug</span><br>    <span class="hljs-comment"># æŒ‡å®šæŸä¸ªåŒ…ä¸­æ—¥å¿—</span><br>    <span class="hljs-attr">com.cqupt.dao:</span> <span class="hljs-string">debug</span><br>  <span class="hljs-attr">file:</span><br>    <span class="hljs-comment"># æ—¥å¿—åç§°</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">log.log</span><br>    <span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶è·¯å¾„</span><br>    <span class="hljs-attr">path:</span> <span class="hljs-string">./</span><br></code></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ—¥å¿—"><a href="#ä½¿ç”¨æ—¥å¿—" class="headerlink" title="ä½¿ç”¨æ—¥å¿—"></a>ä½¿ç”¨æ—¥å¿—</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å£°æ˜ä¸€ä¸ªæ—¥å¿—å¯¹è±¡</span><br><span class="hljs-meta">@Autowired</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(UserService.class);<br><br><br><span class="hljs-comment">//æ‰“å°æŸäº›æ—¥å¿—ä¿¡æ¯</span><br>log.debug(<span class="hljs-string">&quot;&quot;</span>);<br>log.error(<span class="hljs-string">&quot;&quot;</span>);<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ç®€åŒ–æ“ä½œï¼šä¼˜åŒ–éœ€è¦æ¯æ¬¡æ‰‹åŠ¨å£°æ˜æ—¥å¿—å¯¹è±¡<br><img src="/Resources/Pasted%20image%2020220823092741.png" srcset="/img/loading.gif" lazyload><br><img src="/Resources/Pasted%20image%2020220823092801.png" srcset="/img/loading.gif" lazyload><br><img src="/Resources/Pasted%20image%2020220823093036.png" srcset="/img/loading.gif" lazyload><br>ğŸ”–ä½¿ç”¨çš„æ—¶å€™å¦‚æœæƒ³debugï¼Œå°±logdï¼Œå¦‚æœæƒ³infoï¼Œå°±logiï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<h2 id="AOP-é¢å‘åˆ‡é¢ç¼–ç¨‹"><a href="#AOP-é¢å‘åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="AOP é¢å‘åˆ‡é¢ç¼–ç¨‹"></a>AOP é¢å‘åˆ‡é¢ç¼–ç¨‹</h2><p>springbootæ˜¯å¯¹åŸæœ‰é¡¹ç›®ä¸­springæ¡†æ¶å’Œspringmvcçš„è¿›ä¸€æ­¥å°è£…ï¼Œå› æ­¤åœ¨springbootä¸­åŒæ ·æ”¯æŒspringæ¡†æ¶ä¸­AOPåˆ‡é¢ç¼–ç¨‹ï¼Œä¸è¿‡åœ¨springbootä¸­ä¸ºäº†å¿«é€Ÿå¼€å‘ä»…ä»…æä¾›äº†æ³¨è§£æ–¹å¼çš„åˆ‡é¢ç¼–ç¨‹ã€‚<br><a href="../Spring5/Spring5.md#%E4%B8%89%E3%80%81Aop">Springä¸­çš„Aop</a></p>
<p>Aspectï¼ˆåˆ‡é¢ï¼‰&#x3D; <strong>Advice</strong>ï¼ˆé€šçŸ¥ï¼‰+ <strong>Pointcut</strong>ï¼ˆåˆ‡å…¥ç‚¹ï¼‰<br>Adviceï¼ˆé€šçŸ¥ï¼‰ï¼šä¸šåŠ¡é€»è¾‘ä¸­ä¸€äº›<strong>é™„åŠ æ“ä½œ</strong>ç§°ä¹‹ä¸ºé€šçŸ¥<br>Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰ï¼š<strong>é…ç½®é€šçŸ¥</strong>åº”ç”¨äºé¡¹ç›®ä¸­é‚£äº›ä¸šåŠ¡æ“ä½œ</p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦åˆ‡é¢ç¼–ç¨‹"><a href="#ä¸ºä»€ä¹ˆéœ€è¦åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦åˆ‡é¢ç¼–ç¨‹"></a>ä¸ºä»€ä¹ˆéœ€è¦åˆ‡é¢ç¼–ç¨‹</h3><p>åœ¨æŸä¸ªæ¨¡å—ä¸šåŠ¡é€»è¾‘ä¸­æœ‰ä¸‰ç§æ–¹æ³•</p>
<blockquote>
<p>ä»…ä½œæ¼”ç¤ºï¼Œä¸ç¬¦åˆä¸šåŠ¡é€»è¾‘</p>
</blockquote>
<p><code>service</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">queryById</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­å¯¹åº”çš„å®ç°ç±»ä¸­<br><code>serviceImpl</code></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span>()</span>&#123;<br>	dao.save();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete</span>()</span>&#123;<br>	dao.delete();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">queryById</span>()</span>&#123;<br>	dao.queryById();<br>&#125;<br></code></pre></td></tr></table></figure>

<p>éœ€æ±‚ï¼šè°ƒç”¨<code>dao.save();</code> <code>dao.delete();</code> <code>dao.queryById();</code>ä¹‹å‰ï¼Œå…ˆåšæŸäº›æ“ä½œï¼ˆä¸€è‡´çš„æ“ä½œæˆ–è€…æ˜¯å°è£…èµ·æ¥çš„æŸäº›æ–¹æ³•ï¼‰<br>é‚£ä¹ˆï¼Œå¯¹åº”çš„å®ç°ç±»ä¸­<br><code>serviceImpl</code></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span>()</span>&#123;<br>	xxxxx;<br>	dao.save();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete</span>()</span>&#123;<br>	xxxxx;<br>	dao.delete();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">queryById</span>()</span>&#123;<br>	xxxxx;<br>	dao.queryById();<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¯è§ï¼šè¿™æ ·çš„è¯ï¼Œä»£ç ä¼šæœ‰<strong>å†—ä½™</strong>å¹¶ä¸”å½“ä¸šåŠ¡è¶³å¤Ÿå¤šæ—¶ï¼Œæ¯ä¸ªéƒ½éœ€è¦å»æ‰‹åŠ¨æ·»åŠ ï¼Œæ¯”è¾ƒ<strong>éº»çƒ¦</strong>ï¼Œä¸åˆ©äºåæœŸé¡¹ç›®ç»´æŠ¤ï¼</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><strong>å¼•å…¥ä¾èµ–</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>


<p><strong>ç¼–å†™ä¸šåŠ¡ä»£ç </strong><br><code>UserService</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span>;<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span>;<br><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryById</span><span class="hljs-params">()</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>UserServiceImpl</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ ¸å¿ƒä¸šåŠ¡é€»è¾‘,è°ƒç”¨dao.save()&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ ¸å¿ƒä¸šåŠ¡é€»è¾‘,è°ƒç”¨dao.delete()&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryById</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ ¸å¿ƒä¸šåŠ¡é€»è¾‘,è°ƒç”¨dao.queryById()&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨UserServiceä¸Šctrl + shift + T æ–°å»ºæµ‹è¯•ç±»<br><img src="/Resources/Pasted%20image%2020220823141237.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceTest</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">save</span><span class="hljs-params">()</span> &#123;<br>        userService.save();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">()</span> &#123;<br>        userService.delete();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryById</span><span class="hljs-params">()</span> &#123;<br>        userService.queryById();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>åœ¨springbooté¡¹ç›®ä¸­æ–°å»ºconfig(é…ç½®)åŒ…</strong><br><img src="/Resources/Pasted%20image%2020220823140646.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Aspect</span> ä¿®é¥°èŒƒå›´:åªèƒ½ç”¨åœ¨ç±»ä¸Š.ä½œç”¨:ä»£è¡¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Configuration</span> é…ç½®ç±»</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-meta">@Aspect</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAspectConfig</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@Before</span>():ä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå‰ç½®é™„åŠ æ“ä½œ,æ‹¬å·å†…å¡«åˆ‡å…¥ç‚¹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Before(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ“ä½œ1&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@After</span>():ä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªåç½®é™„åŠ æ“ä½œ,æ‹¬å·å†…å¡«åˆ‡å…¥ç‚¹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@After(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ“ä½œ2&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="æµ‹è¯•Beforeå’ŒAfter"><a href="#æµ‹è¯•Beforeå’ŒAfter" class="headerlink" title="æµ‹è¯•Beforeå’ŒAfter"></a>æµ‹è¯•Beforeå’ŒAfter</h3><p>æµ‹è¯•<code>@Before</code>å’Œ<code>@After</code><br><img src="/Resources/Pasted%20image%2020220823142122.png" srcset="/img/loading.gif" lazyload></p>
<p>ğŸ“Œæ³¨æ„ï¼šä½¿ç”¨<code>@Before</code>å’Œ <code>@After</code>æ³¨è§£å£°æ˜æ–¹æ³•ä¸Šå¯ä»¥å®šä¹‰ä¸€ä¸ªå‚æ•°<code>JoinPoint</code>æ¥è·å–ä¸€äº›å†…å®¹ä¿¡æ¯ã€‚å‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥éƒ½<strong>æ²¡æœ‰è¿”å›å€¼</strong>ã€‚<br><img src="/Resources/Pasted%20image%2020220823152935.png" srcset="/img/loading.gif" lazyload></p>
<p>ä¾‹å¦‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Before(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">(JoinPoint joinPoint)</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;å½“å‰æ‰§è¡Œçš„ç±»:&quot;</span>+joinPoint.getTarget());<br>    System.out.println(<span class="hljs-string">&quot;å½“å‰æ‰§è¡Œçš„ç±»çš„æ–¹æ³•:&quot;</span>+joinPoint.getSignature().getName());<br>    System.out.println(<span class="hljs-string">&quot;æ“ä½œ1&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220823143151.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="æµ‹è¯•Around"><a href="#æµ‹è¯•Around" class="headerlink" title="æµ‹è¯•Around"></a>æµ‹è¯•Around</h3><p>Aroundç±»ä¼¼æ–¹æ³•æ‹¦æˆªå™¨ï¼Œå½“æ–¹æ³•è°ƒç”¨æ—¶ï¼Œå…ˆç»è¿‡Aroundï¼ŒAroundé€šè¿‡åï¼Œå†è¿›å»æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œç»“æŸåï¼Œå†ç»è¿‡Aroundï¼›<br><img src="/Resources/Pasted%20image%2020220823144110.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Around</span>():ä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªç¯ç»•é™„åŠ æ“ä½œ,æ‹¬å·å†…å¡«åˆ‡å…¥ç‚¹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Around(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</span><br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">()</span> &#123;<br>   System.out.println(<span class="hljs-string">&quot;ç¯ç»•çš„å‰ç½®æ“ä½œ&quot;</span>);<br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220823144445.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>è¿™é‡Œä¸ä¼šè§¦å‘æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ŒåŸå› æ˜¯å› ä¸ºæ²¡æœ‰èµ°ç¬¬3æ­¥ï¼Œç¬¬4æ­¥æµç¨‹ï¼Œç¬¬3æ­¥ï¼Œç¬¬4æ­¥è§ä¸‹ã€‚</p>
</blockquote>
<p>ğŸ“Œæ³¨æ„ï¼šä½¿ç”¨ <code>Around</code> æ³¨è§£å£°æ˜æ–¹æ³•ä¸Šå¯ä»¥å®šä¹‰ä¸€ä¸ªå‚æ•°<code>ProceedingJoinPoint</code>æ¥è·å–ä¸€äº›å†…å®¹ä¿¡æ¯å’Œ<strong>æ”¾è¡ŒåŠæ‰§è¡Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘</strong>ã€‚ç¯ç»•é€šçŸ¥<strong>å­˜åœ¨è¿”å›å€¼</strong>ï¼Œå‚æ•°ä¸ºProceedingJoinPointï¼Œå¦‚æœæ‰§è¡Œæ”¾è¡Œï¼Œæ‰ä¼šæ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œä¸€æ—¦æ”¾è¡Œå¿…é¡»å°†ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œå¦åˆ™è°ƒç”¨è€…æ— æ³•æ¥å—è¿”å›æ•°æ®</p>
<p>æµç¨‹<br><img src="/Resources/Pasted%20image%2020220823150600.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Around(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</span>  <br><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="hljs-keyword">throws</span> Throwable &#123;  <br>    System.out.println(<span class="hljs-string">&quot;ç¯ç»•çš„å‰ç½®æ“ä½œ&quot;</span>);  <br>    System.out.println(<span class="hljs-string">&quot;å½“å‰æ‰§è¡Œçš„ç±»:&quot;</span> + proceedingJoinPoint.getTarget());  <br>    System.out.println(<span class="hljs-string">&quot;å½“å‰æ‰§è¡Œçš„ç±»çš„æ–¹æ³•:&quot;</span> + proceedingJoinPoint.getSignature().getName());  <br>    <span class="hljs-type">Object</span> <span class="hljs-variable">proceed</span> <span class="hljs-operator">=</span> proceedingJoinPoint.proceed();  <br>    System.out.println(<span class="hljs-string">&quot;ç¯ç»•çš„åç½®æ“ä½œ&quot;</span>);  <br>    <span class="hljs-keyword">return</span> proceed;  <br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="headerlink" title="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></a>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h3><ol>
<li>executionæ–¹æ³•çº§åˆ«åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼šæ§åˆ¶è¶Šç»†è¿è¡Œæ•ˆç‡è¶Šä½<br><code>(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</code></li>
<li>withinç±»çº§åˆ«åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼šæ§åˆ¶è¶Šç²—è¿è¡Œæ•ˆç‡è¶Šé«˜<br><code>(&quot;within(com.cqupt.service.*.*)&quot;)</code></li>
<li>åŸºäºæ³¨è§£çš„åˆ‡å…¥ç‚¹è¡¨è¾¾å¼<br><code>@annotation(com.cqupt.annotations.xxx)</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**  </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Retention</span>(RetentionPolicy.RUNTIME) è¿è¡Œæ—¶ç”Ÿæ•ˆ  </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Target</span>(ElementType.METHOD) ä½œç”¨åœ¨æ–¹æ³•ç±»å‹  </span><br><span class="hljs-comment"> */</span>  <br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>  <br><span class="hljs-meta">@Target(ElementType.METHOD)</span>  <br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MyAdvice &#123;  <br>&#125;<br></code></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Aspect ä¿®é¥°èŒƒå›´:åªèƒ½ç”¨åœ¨ç±»ä¸Š</span><br><span class="hljs-comment"> * ä½œç”¨:ä»£è¡¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»</span><br><span class="hljs-comment"> **/</span><br><span class="hljs-meta">@Aspect</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAspectConfig</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@Around</span>():ä»£è¡¨è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªç¯ç»•é™„åŠ æ“ä½œ,æ‹¬å·å†…å¡«åˆ‡å…¥ç‚¹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-comment">//@Around(&quot;execution(* com.cqupt.service.*.*(..))&quot;)</span><br>    <span class="hljs-comment">//@Around(&quot;within(com.cqupt.service.*.*)&quot;)</span><br>    <span class="hljs-meta">@Around(&quot;@annotation(com.cqupt.annotations.MyAdvice)&quot;)</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        System.out.println(<span class="hljs-string">&quot;ç¯ç»•çš„å‰ç½®æ“ä½œ&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å½“å‰æ‰§è¡Œçš„ç±»:&quot;</span> + proceedingJoinPoint.getTarget());<br>        System.out.println(<span class="hljs-string">&quot;å½“å‰æ‰§è¡Œçš„ç±»çš„æ–¹æ³•:&quot;</span> + proceedingJoinPoint.getSignature().getName());<br><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">proceed</span> <span class="hljs-operator">=</span> proceedingJoinPoint.proceed();<br><br>        System.out.println(<span class="hljs-string">&quot;ç¯ç»•çš„åç½®æ“ä½œ&quot;</span>);<br>        <span class="hljs-keyword">return</span> proceed;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java">   <span class="hljs-meta">@Test</span><br>   <span class="hljs-meta">@MyAdvice</span><br>   <span class="hljs-keyword">void</span> <span class="hljs-title function_">findById</span><span class="hljs-params">()</span> &#123;<br>       <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> userService.findById();<br>       System.out.println(name);<br>   &#125;<br>   <br>   <span class="hljs-meta">@MyAdvice</span> åœ°æ–¹å†™é”™äº†<br>------------------ä¿®æ­£------------------<br>   <br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-meta">@MyAdvice</span><br>   <span class="hljs-keyword">public</span> String <span class="hljs-title function_">findById</span><span class="hljs-params">()</span> &#123;<br>       System.out.println(<span class="hljs-string">&quot;æ ¸å¿ƒä¸šåŠ¡é€»è¾‘,è°ƒç”¨dao.findById()&quot;</span>);<br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;findById&quot;</span>;<br>   &#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ä½†æ˜¯è¿™é‡Œæ²¡æœ‰èµ·ä½œç”¨ï¼Œæ˜¯ç”±äºä½ç½®å†™é”™äº†ï¼</p>
</blockquote>
<h2 id="æ–‡ä»¶ä¸Šä¼ ä¸‹è½½"><a href="#æ–‡ä»¶ä¸Šä¼ ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ ä¸‹è½½"></a>æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</h2><h3 id="æ–‡ä»¶ä¸Šä¼ ï¼ˆå·²ç»ä¸é€‚ç”¨äº†ï¼‰"><a href="#æ–‡ä»¶ä¸Šä¼ ï¼ˆå·²ç»ä¸é€‚ç”¨äº†ï¼‰" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ ï¼ˆå·²ç»ä¸é€‚ç”¨äº†ï¼‰"></a>æ–‡ä»¶ä¸Šä¼ ï¼ˆå·²ç»ä¸é€‚ç”¨äº†ï¼‰</h3><p>ç”¨æˆ·è®¿é—®å½“å‰ç³»ç»Ÿï¼Œå°†è‡ªå·±æœ¬åœ°è®¡ç®—æœºä¸­æ–‡ä»¶é€šè¿‡æµè§ˆå™¨ä¸Šä¼ åˆ°å½“å‰ç³»ç»Ÿæ‰€åœ¨çš„æœåŠ¡å™¨è¿‡ç¨‹ä¸­ç§°ä¹‹ä¸ºæ–‡ä»¶çš„ä¸Šä¼ </p>
<h4 id="å‡†å¤‡ä¸Šä¼ é¡µé¢"><a href="#å‡†å¤‡ä¸Šä¼ é¡µé¢" class="headerlink" title="å‡†å¤‡ä¸Šä¼ é¡µé¢"></a>å‡†å¤‡ä¸Šä¼ é¡µé¢</h4><blockquote>
<p>jspçš„ä½ç½®ä½äºmainä¸‹<br><img src="/Resources/Pasted%20image%2020220823165618.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;  <br>&lt;html lang=<span class="hljs-string">&quot;en&quot;</span>&gt;  <br>&lt;head&gt;  <br>    &lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;  <br>    &lt;title&gt;Title&lt;/title&gt;  <br>&lt;/head&gt;  <br>&lt;body&gt;  <br>&lt;h1&gt;æµ‹è¯•æ–‡ä»¶ä¸Šä¼ &lt;/h1&gt;  <br>&lt;form method=<span class="hljs-string">&quot;post&quot;</span> action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/file/upload&quot;</span> enctype=<span class="hljs-string">&quot;multipart/form-data&quot;</span>&gt;  <br>    &lt;input type=<span class="hljs-string">&quot;file&quot;</span> name=<span class="hljs-string">&quot;file&quot;</span>&gt;  <br>    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> name=<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶&quot;</span>&gt;  <br>&lt;/form&gt;  <br>&lt;/body&gt;  <br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="ç¼–å†™åç«¯ä»£ç "><a href="#ç¼–å†™åç«¯ä»£ç " class="headerlink" title="ç¼–å†™åç«¯ä»£ç "></a>ç¼–å†™åç«¯ä»£ç </h4><p><strong>å¯¼å…¥ä¾èµ–</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--        è§£æjspçš„ä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>æ›´æ”¹ideaä¸­å·¥ä½œç›®å½•ä»¥åŠ è½½web-appæ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹</strong><br><img src="/Resources/Pasted%20image%2020220823161934.png" srcset="/img/loading.gif" lazyload></p>
<p>ç¼–å†™ä¸šåŠ¡ä»£ç </p>
<blockquote>
<p>ğŸ“¢ ä½¿ç”¨@Controllerï¼Œä¸è¦ä½¿ç”¨@RestControllerï¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>  <br><span class="hljs-meta">@RequestMapping(&quot;/file&quot;)</span>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileController</span> &#123;  <br>  <br>    <span class="hljs-comment">/**  </span><br><span class="hljs-comment">     * æµ‹è¯•æ–‡ä»¶ä¸Šä¼   </span><br><span class="hljs-comment">     *  </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> file    æ–‡ä»¶  </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> request è¯·æ±‚  </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span>  </span><br><span class="hljs-comment">     */</span>    <span class="hljs-meta">@RequestMapping(&quot;/upload&quot;)</span>  <br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">upload</span><span class="hljs-params">(MultipartFile file, HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> IOException &#123;<span class="hljs-comment">//å®šä¹‰:æ¥æ”¶æ–‡ä»¶å¯¹è±¡multipartFile fileå˜é‡åè¦ä¸formä¸­input type=&quot;file&quot;æ ‡ç­¾nameå±æ€§åä¸€è‡´  </span><br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ çš„æ–‡ä»¶åå­—:&quot;</span> + file.getOriginalFilename());  <br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ çš„æ–‡ä»¶å¤§å°:&quot;</span> + file.getSize());  <br>  <br>        <span class="hljs-comment">// 1.è·å–ç»å¯¹è·¯å¾„(çœŸå®è·¯å¾„)  </span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">realPath</span> <span class="hljs-operator">=</span> request.getSession().getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);  <br>        System.out.println(realPath);  <br>        <span class="hljs-comment">// 2. ä¸Šä¼ æ–‡ä»¶   å‚æ•°1:å°†æ–‡ä»¶å†™å…¥åˆ°é‚£ä¸ªç›®å½•  </span><br>        file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(realPath, file.getOriginalFilename()));  <br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/upload.jsp&quot;</span>;  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>

<p>æµ‹è¯•ä¸Šä¼ å›¾ç‰‡æˆåŠŸï¼ä½†æ˜¯ä¸Šä¼ å¤§æ–‡ä»¶ä¸å¯ä»¥ï¼</p>
<blockquote>
<p>å›¾ç‰‡çš„æ–‡ä»¶å¤§å°æ¯”è¾ƒå°ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿé”™è¯¯ï¼<br>é”™è¯¯ä¿¡æ¯ä¸ºï¼šå½“å‰æ–‡ä»¶çš„å¤§å°æ˜¯xxxï¼Œä½†æ˜¯æœåŠ¡å™¨å…è®¸çš„å¤§å°ä¸º10M</p>
</blockquote>
<p><img src="/Resources/Pasted%20image%2020220823171344.png" srcset="/img/loading.gif" lazyload></p>
<p>è§£å†³åŠæ³•</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">multipart:</span><br>      <span class="hljs-attr">max-request-size:</span> <span class="hljs-string">100MB</span>  <span class="hljs-comment">#è¿è¡Œè¯·æ±‚ä¼ é€’æ–‡ä»¶å¤§å°æœ€å¤§ä¸º10M</span><br>      <span class="hljs-attr">max-file-size:</span> <span class="hljs-string">100MB</span>     <span class="hljs-comment">#è¿è¡ŒæœåŠ¡å™¨å¯ä»¥å¤„ç†çš„æœ€å¤§æ–‡ä»¶å¤§å°</span><br></code></pre></td></tr></table></figure>


<h4 id="ä¼˜åŒ–-1"><a href="#ä¼˜åŒ–-1" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h4><p>ç°åœ¨çš„æ‰“åŒ…æ–¹å¼å·²ç»ä»warå˜æˆäº†jarï¼Œå› æ­¤ä¸Šè¿°çš„æ–‡ä»¶ä¸Šä¼ çš„æ–¹å¼å·²ç»ä¸å†é€‚ç”¨äº†ã€‚å› æ­¤ç°åœ¨æ˜¯é€šè¿‡æ³¨å…¥ç›®å½•çš„æ–¹å¼ï¼ŒæŠŠç›®å½•å†™åˆ°æœåŠ¡å™¨çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;E:\\&quot;</span>, file.getOriginalFilename()));<br><br><span class="hljs-comment">//æˆ–è€…ä½¿ç”¨å±æ€§æ³¨å…¥çš„æ–¹å¼</span><br><span class="hljs-meta">@Value(&quot;$&#123;realPath&#125;&quot;)</span>  <br><span class="hljs-keyword">private</span> String realPath;<br>file.transferTo(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(realPath, file.getOriginalFilename()));<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220823192504.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h3><h4 id="å‡†å¤‡ä¸‹è½½é¡µé¢"><a href="#å‡†å¤‡ä¸‹è½½é¡µé¢" class="headerlink" title="å‡†å¤‡ä¸‹è½½é¡µé¢"></a>å‡†å¤‡ä¸‹è½½é¡µé¢</h4><blockquote>
<p><img src="/Resources/Pasted%20image%2020220823195227.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html lang=<span class="hljs-string">&quot;en&quot;</span>&gt;<br>&lt;head&gt;<br>    &lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h1&gt;æµ‹è¯•æ–‡ä»¶ä¸‹è½½&lt;/h1&gt;<br>&lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/file/download?filename=HELP.MD&quot;</span>&gt; HELP.MD&lt;/a&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h4 id="ç¼–å†™åç«¯ä»£ç -1"><a href="#ç¼–å†™åç«¯ä»£ç -1" class="headerlink" title="ç¼–å†™åç«¯ä»£ç "></a>ç¼–å†™åç«¯ä»£ç </h4><p><strong>å¯¼å…¥ä¾èµ–</strong></p>
<p><strong>æ›´æ”¹ideaä¸­å·¥ä½œç›®å½•ä»¥åŠ è½½web-appæ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹</strong></p>
<p>ç¼–å†™ä¸šåŠ¡ä»£ç </p>
<blockquote>
<p>ğŸ“¢ ä½¿ç”¨@Controllerï¼Œä¸è¦ä½¿ç”¨@RestControllerï¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span>  <br><span class="hljs-meta">@RequestMapping(&quot;/file&quot;)</span>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileController</span> &#123;  <br>	<span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æµ‹è¯•æ–‡ä»¶ä¸‹è½½</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> filename æ–‡ä»¶åå­—</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> response å“åº”</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/download&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">download</span><span class="hljs-params">(String filename, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        System.out.println(<span class="hljs-string">&quot;å½“å‰ä¸‹è½½æ–‡ä»¶çš„åå­—:&quot;</span> + filename);<br>        <span class="hljs-comment">// 1.å»æŒ‡å®šç›®å½•ä¸­è¯»å–æ–‡ä»¶</span><br>        <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;E:\\Projects\\springboot_study\\springboot_day05\\src\\main\\webapp\\download&quot;</span>, filename);<br>        <span class="hljs-comment">// 2.å°†æ–‡ä»¶è¯»å–ä¸ºæ–‡ä»¶è¾“å…¥æµ</span><br>        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fileInputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(file);<br>        <span class="hljs-comment">// 2.5è·å–å“åº”æµä¹‹å‰ä¸€å®šè¦è®¾ç½®ä»¥é™„ä»¶å½¢å¼ä¸‹è½½</span><br>        response.setHeader(<span class="hljs-string">&quot;content-disposition&quot;</span>, <span class="hljs-string">&quot;attachment;filename=&quot;</span> + filename);<br>        <span class="hljs-comment">// 3.è·å–å“åº”è¾“å‡ºæµ</span><br>        <span class="hljs-type">ServletOutputStream</span> <span class="hljs-variable">outputStream</span> <span class="hljs-operator">=</span> response.getOutputStream();<br>        <span class="hljs-comment">// 4.è¾“å…¥æµå¤åˆ¶ç»™è¾“å‡ºæµ</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            len = fileInputStream.read(b);<br>            <span class="hljs-keyword">if</span> (len == -<span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            outputStream.write(b, <span class="hljs-number">0</span>, len);<br>        &#125;<br>        <span class="hljs-comment">// 5.é‡Šæ”¾èµ„æº</span><br>        fileInputStream.close();<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure>


<h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><ul>
<li><p><code>filter</code>ï¼ˆè¿‡æ»¤å™¨ï¼‰ï¼šè¿‡æ»¤å™¨å¯ä»¥æ‹¦æˆª<code>javaweb</code>ä¸­è¯·æ±‚ï¼Œæ”¾è¡Œï¼Œä¸­æ–­</p>
</li>
<li><p><code>interceptor</code>ï¼ˆæ‹¦æˆªå™¨ï¼‰ï¼šç±»ä¼¼äºjavawebä¸­<code>filter</code>åŠŸèƒ½</p>
</li>
</ul>
<p><strong>æ‹¦æˆªå™¨ï¼šåªèƒ½æ‹¦æˆªå™¨controllerç›¸å…³çš„è¯·æ±‚ï¼</strong></p>
<blockquote>
<p>ğŸ”” æ‹¦æˆªå™¨çš„åº•å±‚å®ç°å°±æ˜¯AOPï¼ åœ¨<a href="SpringBoot.md#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B">AOP</a>ä¸­ï¼Œè¯´æ˜äº†ä¸ºä»€ä¹ˆéœ€è¦åˆ‡é¢ç¼–ç¨‹ã€‚<strong>æ‹¦æˆªå™¨ä¹Ÿæ˜¯ä¸€æ ·çš„ä½œç”¨</strong>ã€‚</p>
<ol>
<li>å°†controllerä¸­å…±æœ‰ä»£ç æ”¾å…¥åˆ°æ‹¦æˆªå™¨ä¸­æ‰§è¡Œï¼Œå‡å°‘controllerä¸­ä»£ç å†—ä½™ã€‚</li>
<li>æ‹¦æˆªå™¨å¯ä»¥ä¸­æ–­è¯·æ±‚è½¨è¿¹ã€‚</li>
<li>è¯·æ±‚ä¹‹å‰å¦‚æœè¯¥è¯·æ±‚é…ç½®äº†æ‹¦æˆªå™¨ï¼Œè¯·æ±‚ä¼šå…ˆç»è¿‡æ‹¦æˆªå™¨ï¼Œæ‹¦æˆªå™¨æ”¾è¡Œä¹‹åæ‰§è¡Œè¯·æ±‚çš„controllerï¼Œcontrolleræ‰§è¡Œå®Œæˆä¹‹åä¼šå›åˆ°æ‹¦æˆªå™¨ç»§ç»­æ‰§è¡Œæ‹¦æˆªå™¨ä¸­çš„ä»£ç ï¼ˆğŸ’«<strong>ç¯ç»•é€šçŸ¥</strong>ï¼ï¼‰</li>
</ol>
</blockquote>
<h3 id="å¼€å‘æ‹¦æˆªå™¨"><a href="#å¼€å‘æ‹¦æˆªå™¨" class="headerlink" title="å¼€å‘æ‹¦æˆªå™¨"></a>å¼€å‘æ‹¦æˆªå™¨</h3><blockquote>
<p>åœ¨Springbootä¸­ï¼ŒHandlerInterceptorå·²ç»åšäº†é»˜è®¤å®ç°ï¼ŒæŒ‰éœ€ä½¿ç”¨ä¸‹é¢ä¸‰ä¸ªæ–¹æ³•å³å¯ã€‚<br>è¿™é‡Œä¹‹å‰å·²ç»åšè¿‡ä¸€éƒ¨åˆ†ï¼Œå› æ­¤æ²¡æœ‰å®è·µä»£ç ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è‡ªå®šä¹‰æ‹¦æˆªå™¨1</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> kioo</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æœ€å…ˆæ‰§è¡Œçš„æ–¹æ³•</span><br><span class="hljs-comment">     * è¿”å›å€¼ä¸ºtrueæ—¶,æ”¾è¡Œ - &gt; æ‰§è¡Œcontrollerä¸­çš„ä¸šåŠ¡ä»£ç </span><br><span class="hljs-comment">     * è¿”å›å€¼ä¸ºfalseæ—¶,ä¸­æ–­</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        System.out.println(<span class="hljs-string">&quot;=====================================1=====================================&quot;</span>);<br>        <span class="hljs-keyword">return</span> HandlerInterceptor.<span class="hljs-built_in">super</span>.preHandle(request, response, handler);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å½“controlleræ‰§è¡Œå®Œæ¯•å,ä¼šæ‰§è¡Œè¯¥æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        System.out.println(<span class="hljs-string">&quot;=====================================2=====================================&quot;</span>);<br>        HandlerInterceptor.<span class="hljs-built_in">super</span>.postHandle(request, response, handler, modelAndView);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æœ€åå®Œæˆ:å½“å“åº”ç»“æŸä¹‹åä¼šæ‰§è¡Œæ‹¦æˆªå™¨ä¸­è¿™ä¸ªæ–¹æ³•å†…å®¹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        System.out.println(<span class="hljs-string">&quot;=====================================3=====================================&quot;</span>);<br>        HandlerInterceptor.<span class="hljs-built_in">super</span>.afterCompletion(request, response, handler, ex);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è‡ªå®šä¹‰æ‹¦æˆªå™¨2</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> kioo</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInterceptor2</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æœ€å…ˆæ‰§è¡Œçš„æ–¹æ³•</span><br><span class="hljs-comment">     * è¿”å›å€¼ä¸ºtrueæ—¶,æ”¾è¡Œ - &gt; æ‰§è¡Œcontrollerä¸­çš„ä¸šåŠ¡ä»£ç </span><br><span class="hljs-comment">     * è¿”å›å€¼ä¸ºfalseæ—¶,ä¸­æ–­</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        System.out.println(<span class="hljs-string">&quot;=====================================4=====================================&quot;</span>);<br>        <span class="hljs-keyword">return</span> HandlerInterceptor.<span class="hljs-built_in">super</span>.preHandle(request, response, handler);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å½“controlleræ‰§è¡Œå®Œæ¯•å,ä¼šæ‰§è¡Œè¯¥æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        System.out.println(<span class="hljs-string">&quot;=====================================5=====================================&quot;</span>);<br>        HandlerInterceptor.<span class="hljs-built_in">super</span>.postHandle(request, response, handler, modelAndView);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æœ€åå®Œæˆ:å½“å“åº”ç»“æŸä¹‹åä¼šæ‰§è¡Œæ‹¦æˆªå™¨ä¸­è¿™ä¸ªæ–¹æ³•å†…å®¹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        System.out.println(<span class="hljs-string">&quot;=====================================6=====================================&quot;</span>);<br>        HandlerInterceptor.<span class="hljs-built_in">super</span>.afterCompletion(request, response, handler, ex);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="é…ç½®æ‹¦æˆªå™¨"><a href="#é…ç½®æ‹¦æˆªå™¨" class="headerlink" title="é…ç½®æ‹¦æˆªå™¨"></a>é…ç½®æ‹¦æˆªå™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> &#123;<br>        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyInterceptor</span>()) <span class="hljs-comment">// æ‹¦æˆªå™¨</span><br>                .addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>)              <span class="hljs-comment">// æ‹¦æˆªè·¯å¾„</span><br>                .excludePathPatterns(<span class="hljs-string">&quot;/file/**&quot;</span>)     <span class="hljs-comment">// æ’é™¤è·¯å¾„</span><br>                .order(<span class="hljs-number">1</span>);                           <span class="hljs-comment">// æ‰§è¡Œé¡ºåº</span><br><br>        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyInterceptor2</span>()) <span class="hljs-comment">// æ‹¦æˆªå™¨</span><br>                .addPathPatterns(<span class="hljs-string">&quot;/**&quot;</span>)              <span class="hljs-comment">// æ‹¦æˆªè·¯å¾„</span><br>                .excludePathPatterns(<span class="hljs-string">&quot;/file/**&quot;</span>)     <span class="hljs-comment">// æ’é™¤è·¯å¾„</span><br>                .order(<span class="hljs-number">2</span>);                           <span class="hljs-comment">// æ‰§è¡Œé¡ºåº</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šorderç”¨æ¥æ‰§è¡Œå¤šä¸ªæ æˆªå™¨çš„æ‰§è¡Œé¡ºåº, orderé‡Œé¢å†™è‡ªç„¶æ•°ï¼ŒæŒ‰ç…§è‡ªç„¶æ•°é¡ºåºæ‰§è¡Œ<br><img src="/Resources/interceptor.drawio%202.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<h3 id="ç¼–å†™ä¸šåŠ¡ä»£ç "><a href="#ç¼–å†™ä¸šåŠ¡ä»£ç " class="headerlink" title="ç¼–å†™ä¸šåŠ¡ä»£ç "></a>ç¼–å†™ä¸šåŠ¡ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoController</span> &#123;  <br>    <span class="hljs-meta">@RequestMapping(&quot;/test&quot;)</span>  <br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">test</span><span class="hljs-params">()</span>&#123;  <br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;abc&quot;</span>;  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="æµ‹è¯•éªŒè¯æ‹¦æˆªå™¨åŠæ‹¦æˆªå™¨çš„é¡ºåº"><a href="#æµ‹è¯•éªŒè¯æ‹¦æˆªå™¨åŠæ‹¦æˆªå™¨çš„é¡ºåº" class="headerlink" title="æµ‹è¯•éªŒè¯æ‹¦æˆªå™¨åŠæ‹¦æˆªå™¨çš„é¡ºåº"></a>æµ‹è¯•éªŒè¯æ‹¦æˆªå™¨åŠæ‹¦æˆªå™¨çš„é¡ºåº</h3><p><img src="/Resources/Pasted%20image%2020220824205701.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="Springbootéƒ¨ç½²æ–¹å¼"><a href="#Springbootéƒ¨ç½²æ–¹å¼" class="headerlink" title="Springbootéƒ¨ç½²æ–¹å¼"></a>Springbootéƒ¨ç½²æ–¹å¼</h2><h3 id="WAR"><a href="#WAR" class="headerlink" title="WAR"></a>WAR</h3><h4 id="ç¬¬ä¸€ç§"><a href="#ç¬¬ä¸€ç§" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h4><p><strong>ä¸€å¼€å§‹å°±æŒ‡å®šWARæ‰“åŒ…</strong><br>æŒ‡å®šé¡¹ç›®æ‰“åŒ…çš„æ–¹å¼ä¸ºWAR</p>
<blockquote>
<p>æœ€åä¸€ä¸ªpackaging æ¢æˆWarï¼<br><img src="/./Resources/image-20230718113952695.png" srcset="/img/loading.gif" lazyload alt="image-20230718113952695"></p>
</blockquote>
<h4 id="ç¬¬äºŒç§"><a href="#ç¬¬äºŒç§" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h4><p><strong>ä¹‹åå°†JARæ‰“åŒ…æ–¹å¼ä¿®æ”¹æˆWAR</strong><br>åœ¨<code>pom.xml</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>å»é™¤å†…åµŒçš„TOMCATä¾èµ–</strong><br><img src="/Resources/Pasted%20image%2020220825091550.png" srcset="/img/loading.gif" lazyload></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <br>    <span class="hljs-comment">&lt;!--providedå½“å‰ideaç¯å¢ƒå¯ç”¨ï¼Œä¸å‚ä¸æ‰“åŒ…--&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>åœ¨æ’ä»¶ä¸­æŒ‡å®šå…¥å£ç±»</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">fork</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">fork</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">jvmArguments</span>&gt;</span>-Dfile.encoding-UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">jvmArguments</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>com.cqupt.SpringbootDay06Application<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>é…ç½®å…¥å£ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringbootDay06Application</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SpringBootServletInitializer</span> &#123;<br>    <span class="hljs-comment">// SpringBootServletInitializer: ä¸å†ä½¿ç”¨å†…åµŒå®¹å™¨å¯åŠ¨ï¼Œä½¿ç”¨å¤–éƒ¨webå®¹å™¨(tomcat)å¯åŠ¨</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(SpringbootDay06Application.class, args);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é…ç½®å…¥å£ç±»</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> SpringApplicationBuilder <span class="hljs-title function_">configure</span><span class="hljs-params">(SpringApplicationBuilder builder)</span> &#123;<br>        <span class="hljs-keyword">return</span> builder.sources(SpringbootDay06Application.class);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="æ‰“åŒ…æµ‹è¯•"><a href="#æ‰“åŒ…æµ‹è¯•" class="headerlink" title="æ‰“åŒ…æµ‹è¯•"></a>æ‰“åŒ…æµ‹è¯•</h4><p><a href="../../%E8%BD%AF%E4%BB%B6/IDEA.md#%E4%BD%BF%E7%94%A8IDEA%E6%89%93%E5%8C%85SPRINGBOOT%E9%A1%B9%E7%9B%AE">ä½¿ç”¨IDEAæ‰“åŒ…SPRINGBOOTé¡¹ç›®</a><br><img src="/Resources/Pasted%20image%2020220825090335.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>å¸¦ <code>.original</code> çš„æ˜¯ä¸å«ä¾èµ–åŒ…çš„<br>å‚è€ƒï¼š<a href="../../%E8%BD%AF%E4%BB%B6/IDEA.md#%E4%BD%BF%E7%94%A8IDEA%E6%89%93%E5%8C%85SPRINGBOOT%E9%A1%B9%E7%9B%AE">ä½¿ç”¨IDEAæ‰“åŒ…SPRINGBOOTé¡¹ç›®</a></p>
</blockquote>
<p>ä¸€æ—¦ä½¿ç”¨waråŒ…éƒ¨ç½²æ³¨æ„ï¼š</p>
<ul>
<li><ol>
<li><code>application.yml</code>ä¸­é…ç½®<code>port, context-path</code>å¤±æ•ˆ</li>
</ol>
</li>
<li><ol start="2">
<li>è®¿é—®æ—¶ä½¿ç”¨æ‰“æˆwaråŒ…çš„åå­—å’Œå¤–éƒ¨tomcatç«¯å£å·è¿›è¡Œè®¿é—®é¡¹ç›®<blockquote>
<p><strong>éƒ¨ç½²</strong>ï¼šçœç•¥</p>
</blockquote>
</li>
</ol>
</li>
</ul>
<h3 id="JAR"><a href="#JAR" class="headerlink" title="JAR"></a>JAR</h3><h4 id="ç¬¬ä¸€ç§-1"><a href="#ç¬¬ä¸€ç§-1" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h4><p><strong>ä¸€å¼€å§‹å°±æŒ‡å®šJARæ‰“åŒ…</strong></p>
<blockquote>
<p>æœ€åä¸€ä¸ªpackaging ç‚¹Jarï¼<br><img src="/Resources/Pasted%20image%2020220822194842.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<h4 id="ç¬¬äºŒç§-1"><a href="#ç¬¬äºŒç§-1" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h4><p><strong>ä¹‹åå°†JARæ‰“åŒ…æ–¹å¼ä¿®æ”¹æˆWAR</strong><br>åœ¨<code>pom.xml</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>jar<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="æ‰“åŒ…æµ‹è¯•-1"><a href="#æ‰“åŒ…æµ‹è¯•-1" class="headerlink" title="æ‰“åŒ…æµ‹è¯•"></a>æ‰“åŒ…æµ‹è¯•</h4><p><a href="../../%E8%BD%AF%E4%BB%B6/IDEA.md#%E4%BD%BF%E7%94%A8IDEA%E6%89%93%E5%8C%85SPRINGBOOT%E9%A1%B9%E7%9B%AE">ä½¿ç”¨IDEAæ‰“åŒ…SPRINGBOOTé¡¹ç›®</a><br><img src="/Resources/Pasted%20image%2020220825093115.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>å¸¦ <code>.original</code> çš„æ˜¯ä¸å«ä¾èµ–åŒ…çš„<br>å‚è€ƒï¼š<a href="../../%E8%BD%AF%E4%BB%B6/IDEA.md#%E4%BD%BF%E7%94%A8IDEA%E6%89%93%E5%8C%85SPRINGBOOT%E9%A1%B9%E7%9B%AE">ä½¿ç”¨IDEAæ‰“åŒ…SPRINGBOOTé¡¹ç›®</a></p>
</blockquote>
<p><strong>å¯åŠ¨é¡¹ç›®</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">java -jar xxxx.jar<br></code></pre></td></tr></table></figure>

<h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><p>springbooté¡¹ç›®åœ¨ä½¿ç”¨jspæ¨¡æ¿æ—¶ï¼ŒjaråŒ…éƒ¨ç½²é»˜è®¤æ— æ³•æ‰¾åˆ°jspé¡µé¢</p>
<p><strong>è§£å†³</strong><br>ä¿®æ”¹æ’ä»¶ç‰ˆæœ¬</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.2.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>æŒ‡å®šjapæ‰“åŒ…é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.2.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>		<span class="hljs-comment">&lt;!--æ‰“åŒ…æ—¶å°†jspæ–‡ä»¶æ‹·è´åˆ°META-INFç›®å½•ä¸‹--&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>			<span class="hljs-comment">&lt;!--æŒ‡å®šresourcesæ’ä»¶å¤„ç†å“ªä¸ªç›®å½•ä¸‹çš„èµ„æºæ–‡ä»¶--&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/webapp<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>			<span class="hljs-comment">&lt;!--æŒ‡å®šå¿…é¡»è¦æ”¾åœ¨æ­¤ç›®å½•ä¸‹æ‰èƒ½è¢«è®¿é—®åˆ°--&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">targetPath</span>&gt;</span>META-INF/resources<span class="hljs-tag">&lt;/<span class="hljs-name">targetPath</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/**<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>		<span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>				<span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/**<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>			<span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>			<span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>		<span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>	<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="RestFul"><a href="#RestFul" class="headerlink" title="RestFul"></a>RestFul</h2><p><strong>REST</strong>ï¼š<strong>è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–</strong>(Representational State Transfer)ï¼Œå¦‚æœä¸€ä¸ªæ¶æ„ç¬¦åˆRESTåŸåˆ™ï¼Œå°±ç§°å®ƒä¸º RestFul æ¶æ„é£æ ¼ã€‚</p>
<p><strong>èµ„æº</strong>ï¼šæ‰€è°“â€èµ„æºâ€ï¼Œå°±æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå®ä½“ï¼Œæˆ–è€…è¯´æ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªå…·ä½“ä¿¡æ¯ã€‚</p>
<p><strong>è¡¨ç°å±‚</strong>ï¼šæˆ‘ä»¬æŠŠâ€èµ„æºâ€å…·ä½“å‘ˆç°å‡ºæ¥çš„å½¢å¼ï¼Œå«åšå®ƒçš„â€è¡¨ç°å±‚â€(Representation)ã€‚</p>
<p>çŠ¶æ€è½¬åŒ–(State Transfer)ï¼šå¦‚æœå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œå¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µï¼Œè®©æœåŠ¡å™¨ç«¯å‘ç”Ÿâ€çŠ¶æ€è½¬åŒ–â€(State Transfer)ã€‚è€Œè¿™ç§è½¬åŒ–æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥å°±æ˜¯â€è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–â€ã€‚</p>
<ul>
<li><em>ä¼ ç»Ÿurl</em>ï¼š<code>http://localhost:8080/é¡¹ç›®å/user/findById?id=21</code></li>
<li><em>Resturl</em>ï¼š<code>http://localhost:8080/é¡¹ç›®å/user/findById/21</code></li>
</ul>
<blockquote>
<p>RESTåŸåˆ™å°±æ˜¯æŒ‡ä¸€ä¸ªURLä»£è¡¨ä¸€ä¸ªå”¯ä¸€èµ„æºï¼Œå¹¶ä¸”é€šè¿‡HTTPåè®®é‡Œé¢å››ä¸ªåŠ¨è¯ï¼š<strong>GET</strong>ã€<strong>POST</strong>ã€<strong>PUT</strong>ã€<strong>DELETE</strong>å¯¹åº”å››ç§æœåŠ¡å™¨ç«¯çš„åŸºæœ¬æ“ä½œï¼šGETç”¨æ¥è·å–èµ„æºï¼ŒPOSTç”¨æ¥æ·»åŠ èµ„æº(ä¹Ÿå¯ä»¥ç”¨äºæ›´æ–°èµ„æº)ï¼ŒPUTç”¨æ¥æ›´æ–°èµ„æºï¼ŒDELETEç”¨æ¥åˆ é™¤èµ„æºã€‚</p>
</blockquote>
<p>æ¡ˆä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span> <br><span class="hljs-comment">// 1.æ ‡è¯†å½“å‰æœåŠ¡æ˜¯åŸºäºrestfulçš„æ¶æ„é£æ ¼</span><br><span class="hljs-comment">// 2.@responseBody + @controllerç»„åˆ</span><br><span class="hljs-comment">// ç”¨äº†@responseBodyå°±è¡¨ç¤ºåªæ¥å—jsonæ•°æ®</span><br><span class="hljs-meta">@RequestMapping(&quot;/rest&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RestFulController</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Restä½¿ç”¨åŸåˆ™ï¼š</span><br><span class="hljs-comment">     * 1. ä½¿ç”¨RestURL æ›¿æ¢ ä¼ ç»ŸURLå‚æ•°ä½œä¸º URLæ•´ä½“</span><br><span class="hljs-comment">     * 2. ä½¿ç”¨å››ç§httpåŠ¨è¯ get post put delete</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@GetMapping</span> <span class="hljs-doctag">@PostMapping</span> <span class="hljs-doctag">@PutMapping</span> <span class="hljs-doctag">@DeleteMapping</span></span><br><span class="hljs-comment">     * 3. é€šå¸¸æœåŠ¡è¿”å›çš„æ•°æ®éƒ½æ˜¯jsonæ ¼å¼æˆ–è€…xmlæ ¼å¼</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@GetMapping(&quot;findOne/&#123;id&#125;/&#123;name&#125;/&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">findOne</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id, <span class="hljs-meta">@PathVariable(&quot;name&quot;)</span> String name)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Ok&quot;</span> + id;<br>    &#125;<br><br><br>    <span class="hljs-meta">@PutMapping(&quot;saveOne&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">addOne</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Ok&quot;</span>;<br>    &#125;<br><br><br>    <span class="hljs-meta">@PostMapping(&quot;updateOne&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">updateOne</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Ok&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@DeleteMapping(&quot;delOne/&#123;id&#125;/&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">deleteOne</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Ok&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€æ—¦éµå¾ªReståŸåˆ™ï¼Œé‚£ä¹ˆå¿…é¡»å‘<strong>å¯¹åº”çš„è¯·æ±‚</strong>ï¼å¹¶ä¸”è·¯å¾„ä¹Ÿå¿…é¡»<strong>åŒ¹é…è§„åˆ™</strong>ï¼<br>æµè§ˆå™¨åªä¼šå‘é€getè¯·æ±‚ï¼Œå› æ­¤ä¼šæŠ¥é”™ï¼<br><img src="/Pasted%20image%2020220720111001.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20220720111001.png"><br><strong>å°‘ä¸€ä¸ªæ–œæ </strong>éƒ½ä¸è¡Œï¼<br><img src="/Pasted%20image%2020220720111024.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20220720111024.png"></p>
</blockquote>
<blockquote>
<p>è¡¥å……ï¼šè¿™é‡Œçš„ç¬”è®°å‡ºè‡ªESä¸­çš„éƒ¨åˆ†ï¼Œæ²¡æœ‰æŒ‰ç…§è§†é¢‘ä¸­çš„èµ°ï¼ŒåŸºæœ¬ä¸Šè·³è¿‡äº†è§†é¢‘çš„éƒ¨åˆ†ã€‚è§†é¢‘åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Cv411p7cQ?p=47">RESTFULçš„ä½¿ç”¨</a>ï¼Œä»¥åå¦‚æœéœ€è¦ç”¨åˆ°RESTFULå¼€å‘ï¼Œå†æ·±å…¥äº†è§£RESTFULã€‚</p>
</blockquote>
<h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><blockquote>
<p><strong>ä»…çœ‹äº†å‰åç«¯åˆ†ç¦»çš„å¼‚å¸¸å¤„ç†</strong>ï¼Œä¼ ç»Ÿæ–¹æ³•å¼€å‘çš„å¼‚å¸¸å¤„ç†ä»…å¤åˆ¶äº†ç¬”è®°ï¼Œç”¨ä½œå‚è€ƒã€‚å…·ä½“çš„ä½¿ç”¨æ–¹æ³•è§ï¼š<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Cv411p7cQ?p=49">å¼‚å¸¸å¤„ç†&amp;ä¼ ç»Ÿæ–¹å¼å¼‚å¸¸å¤„ç†</a>ã€‚</p>
</blockquote>
<h4 id="ä¼ ç»Ÿå¼€å‘çš„å¼‚å¸¸å¤„ç†"><a href="#ä¼ ç»Ÿå¼€å‘çš„å¼‚å¸¸å¤„ç†" class="headerlink" title="ä¼ ç»Ÿå¼€å‘çš„å¼‚å¸¸å¤„ç†"></a>ä¼ ç»Ÿå¼€å‘çš„å¼‚å¸¸å¤„ç†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å…¨å±€å¼‚å¸¸å¤„ç†ä¹‹ä¼ ç»Ÿwebå¼€å‘</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerExceptionResolver</span> &#123;<br>    <span class="hljs-comment">//å‚æ•°1:å½“å‰è¯·æ±‚å¯¹è±¡</span><br>    <span class="hljs-comment">//å‚æ•°2:å½“å‰è¯·æ±‚çš„å“åº”å¯¹è±¡</span><br>    <span class="hljs-comment">//å‚æ•°3:å½“å‰å‡ºç°å¼‚å¸¸çš„æ§å‰²å™¨å¯¹è±¡</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title function_">resolveException</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> &#123;<br>        <span class="hljs-comment">//å¼‚å¸¸å¤„ç†...</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModelAndView</span>(<span class="hljs-string">&quot;500&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="RestFulçš„å¼‚å¸¸å¤„ç†"><a href="#RestFulçš„å¼‚å¸¸å¤„ç†" class="headerlink" title="RestFulçš„å¼‚å¸¸å¤„ç†"></a>RestFulçš„å¼‚å¸¸å¤„ç†</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å…¨å±€å¼‚å¸¸å¤„ç†ä¹‹RestFul</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@ControllerAdvice</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandlerRest</span> &#123;<br>    <span class="hljs-meta">@ExceptionHandler(value = Exception.class)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;String&gt; <span class="hljs-title function_">exceptionHandler</span><span class="hljs-params">(Exception e)</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="CORSè·¨åŸŸ"><a href="#CORSè·¨åŸŸ" class="headerlink" title="CORSè·¨åŸŸ"></a>CORSè·¨åŸŸ</h2><p><strong>CORS</strong></p>
<ul>
<li>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€<strong>è·¨åŸŸèµ„æºå…±äº«</strong>â€œï¼ˆCross-origin resource sharingï¼‰ã€‚</li>
<li>å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚</li>
</ul>
<h2 id="åŒæºç­–ç•¥-åŒæºç­–ç•¥-same-origin-policy-æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºã€‚åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³ã€‚"><a href="#åŒæºç­–ç•¥-åŒæºç­–ç•¥-same-origin-policy-æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºã€‚åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³ã€‚" class="headerlink" title="åŒæºç­–ç•¥- åŒæºç­–ç•¥[same origin policy]æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºã€‚åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³ã€‚"></a><strong>åŒæºç­–ç•¥</strong><br>- åŒæºç­–ç•¥[same origin policy]æ˜¯æµè§ˆå™¨çš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œä¸åŒæºçš„å®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºã€‚åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨å®‰å…¨çš„åŸºçŸ³ã€‚</h2><p><strong>æº</strong></p>
<ul>
<li>æº[origin]å°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚ä¾‹å¦‚ï¼š<code>http://www.baidu.com:80</code>è¿™ä¸ªURLã€‚</li>
</ul>
<p><strong>åŒæº</strong></p>
<ul>
<li>è‹¥åœ°å€é‡Œé¢çš„åè®®ã€åŸŸåå’Œç«¯å£å·å‡ç›¸åŒåˆ™å±äºåŒæºã€‚</li>
</ul>
<p><img src="/Resources/Pasted%20image%2020220825102617.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="å“ªäº›æ“ä½œä¸å—åŒæºé™åˆ¶-é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶çš„ï¼›-è·¨åŸŸèµ„æºçš„å¼•å…¥æ˜¯å¯ä»¥çš„ã€‚å¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„-lt-script-src-quot-quot-gt-lt-script-gt-lt-img-gt-lt-link-gt-lt-iframe-gt-ç­‰ã€‚"><a href="#å“ªäº›æ“ä½œä¸å—åŒæºé™åˆ¶-é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶çš„ï¼›-è·¨åŸŸèµ„æºçš„å¼•å…¥æ˜¯å¯ä»¥çš„ã€‚å¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„-lt-script-src-quot-quot-gt-lt-script-gt-lt-img-gt-lt-link-gt-lt-iframe-gt-ç­‰ã€‚" class="headerlink" title="å“ªäº›æ“ä½œä¸å—åŒæºé™åˆ¶- é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶çš„ï¼›- è·¨åŸŸèµ„æºçš„å¼•å…¥æ˜¯å¯ä»¥çš„ã€‚å¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„&lt;script src=&quot; ...&quot;&gt;&lt;/script&gt;, &lt;img&gt;, &lt;link&gt;, &lt;iframe&gt;ç­‰ã€‚"></a><strong>å“ªäº›æ“ä½œä¸å—åŒæºé™åˆ¶</strong><br>- é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶çš„ï¼›<br>- è·¨åŸŸèµ„æºçš„å¼•å…¥æ˜¯å¯ä»¥çš„ã€‚å¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„<code>&lt;script src=&quot; ...&quot;&gt;&lt;/script&gt;, &lt;img&gt;, &lt;link&gt;, &lt;iframe&gt;</code>ç­‰ã€‚</h2><p><strong>å“ªäº›æ“ä½œå—åˆ°åŒæºé™åˆ¶</strong></p>
<ul>
<li>åœ¨æµè§ˆå™¨ä¸­å‘èµ·ä¸€ä¸ªAJAXè¯·æ±‚ï¼Œä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶ã€‚</li>
<li>å‡ºç°é”™è¯¯:Access-Control-Allow-0rigin<br>![[Pasted image 20220621095746.png]]</li>
</ul>
<h3 id="è§£å†³è·¨åŸŸ"><a href="#è§£å†³è·¨åŸŸ" class="headerlink" title="è§£å†³è·¨åŸŸ"></a>è§£å†³è·¨åŸŸ</h3><p>ç¬¬ä¸€ç§<br>åœ¨controllerä¸Šé¢æ·»åŠ @CrossOriginæ³¨è§£</p>
<p>ç¬¬äºŒç§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¸‹é¢çš„ä¸¤ç§æ„Ÿè§‰éƒ½å¯ä»¥ï¼Œæœ‰æ—¶å€™ç¬¬ä¸€ç§å¯ä»¥ï¼Œæœ‰æ—¶å€™ç¬¬äºŒç§å¯ä»¥ï¼Œæœ‰æ—¶å€™éƒ½å¯ä»¥</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigurerAdapter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addCorsMappings</span><span class="hljs-params">(CorsRegistry registry)</span> &#123;<br>        registry.addMapping(<span class="hljs-string">&quot;/**&quot;</span>)<br>                .allowCredentials(<span class="hljs-literal">false</span>)<br>                .allowedMethods(<span class="hljs-string">&quot;POST&quot;</span>,<span class="hljs-string">&quot;GET&quot;</span>,<span class="hljs-string">&quot;DELETE&quot;</span>,<span class="hljs-string">&quot;PUT&quot;</span>,<span class="hljs-string">&quot;OPTIONS&quot;</span>)<br>                .allowedOrigins(<span class="hljs-string">&quot;*&quot;</span>)<br>        ;<br>    &#125;<br>&#125;<br><br><br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CorsConfig</span> &#123;<br><br>	<span class="hljs-meta">@Bean</span><br>	<span class="hljs-keyword">public</span> CorsWebFilter <span class="hljs-title function_">corsWebFilter</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-type">UrlBasedCorsConfigurationSource</span> <span class="hljs-variable">source</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlBasedCorsConfigurationSource</span>();<br><br>		<span class="hljs-type">CorsConfiguration</span> <span class="hljs-variable">corsConfiguration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CorsConfiguration</span>();<br>		corsConfiguration.addAllowedHeader(<span class="hljs-string">&quot;*&quot;</span>);<br>		corsConfiguration.addAllowedMethod(<span class="hljs-string">&quot;*&quot;</span>);<br>		corsConfiguration.addAllowedOrigin(<span class="hljs-string">&quot;*&quot;</span>);<br>		corsConfiguration.setAllowCredentials(<span class="hljs-literal">true</span>);<br>		source.registerCorsConfiguration(<span class="hljs-string">&quot;/**&quot;</span>, corsConfiguration);<br>		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CorsWebFilter</span>(source);<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="Jasypt-åŠ å¯†"><a href="#Jasypt-åŠ å¯†" class="headerlink" title="Jasypt åŠ å¯†"></a>Jasypt åŠ å¯†</h2><p>â€¦</p>
<h2 id="åœ¨SpringBootä¸­é›†æˆMybatis"><a href="#åœ¨SpringBootä¸­é›†æˆMybatis" class="headerlink" title="åœ¨SpringBootä¸­é›†æˆMybatis"></a>åœ¨SpringBootä¸­é›†æˆMybatis</h2><p>å•ç‹¬ä½¿ç”¨å‚è€ƒï¼š[[MyBatis]]</p>
<p>åˆå§‹åŒ–ä¸€ä¸ªSpringbootåº”ç”¨ï¼Œä¾èµ–é€‰spring-webï¼Œä¸å†èµ˜è¿°ã€‚</p>
<h3 id="å¯¼å…¥ä¾èµ–-2"><a href="#å¯¼å…¥ä¾èµ–-2" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><p><code>pom.xml</code></p>
<blockquote>
<p>ä¾èµ–å‚è€ƒï¼Œå¦‚æœåˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ²¡æœ‰é€‰æ‹©spring-webï¼Œå¯ä»¥å…¨éƒ¨å¤åˆ¶å¯¼å…¥<br>ğŸ’¡ï¼šå¦‚æœæ˜¯mysqlç‰ˆæœ¬ç”¨çš„æ˜¯8çš„è¯ï¼Œéœ€è¦å¯¼8çš„ä¾èµ–</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.11<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="é…ç½®é…ç½®æ–‡ä»¶"><a href="#é…ç½®é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®é…ç½®æ–‡ä»¶"></a>é…ç½®é…ç½®æ–‡ä»¶</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8989</span><br>  <span class="hljs-attr">servlet:</span><br>    <span class="hljs-attr">context-path:</span> <span class="hljs-string">/springboot_day04</span><br><br><span class="hljs-comment"># æ•´åˆmybatisç›¸å…³é…ç½®</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://192.168.153.135:3306/yingxue?characterEncoding=UTF-8&amp;useSSL=false</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span><br><br><span class="hljs-attr">mybatis:</span><br>  <span class="hljs-comment">#mapperé…ç½®æ–‡ä»¶çš„ä½ç½®</span><br>  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:com/cqupt/mapper/*.xml</span><br>  <span class="hljs-comment">#åˆ«å</span><br>  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.cqupt.entity</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>ğŸ’¡ï¼šå¦‚æœæ˜¯mysqlä¾èµ–ç‰ˆæœ¬ç”¨çš„æ˜¯8çš„è¯ï¼Œ<code>driver-class-name: com.mysql.jdbc.Driver</code>æ¢æˆ<code>driver-class-name: com.mysql.cj.jdbc.Driver</code></p>
<p>â—ï¼šåˆ›å»ºmapperğŸ“‚æ—¶ï¼Œæ³¨æ„éœ€è¦ä½¿ç”¨ <code>/</code> çš„æ–¹å¼ï¼Œä¸è¦ä½¿ç”¨ <code>.</code> çš„æ–¹å¼ï¼Œå¦åˆ™è®¤ä¸ºä¸€å±‚ç›®å½•ã€‚æœ€åå¯¼è‡´æ‰¾ä¸åˆ°mapperæ–‡ä»¶ã€‚<br><img src="/Resources/Pasted%20image%2020220822191755.png" srcset="/img/loading.gif" lazyload></p>
</blockquote>
<h3 id="ç¼–å†™ä¸šåŠ¡å±‚ä»£ç "><a href="#ç¼–å†™ä¸šåŠ¡å±‚ä»£ç " class="headerlink" title="ç¼–å†™ä¸šåŠ¡å±‚ä»£ç "></a>ç¼–å†™ä¸šåŠ¡å±‚ä»£ç </h3><blockquote>
<p>å¯ä»¥æ ¹æ®æ•°æ®åº“å­—æ®µè‡ªå·±ç¼–å†™ï¼Œä½†æ˜¯ç°åœ¨å¯ä»¥ä½¿ç”¨å…¶ä»–å·¥å…·æ¥ç¼–å†™ç®€åŒ–æ“ä½œ</p>
</blockquote>
<h4 id="ä½¿ç”¨MyBatis-Generatorï¼ˆä¸å»ºè®®ï¼‰"><a href="#ä½¿ç”¨MyBatis-Generatorï¼ˆä¸å»ºè®®ï¼‰" class="headerlink" title="ä½¿ç”¨MyBatis Generatorï¼ˆä¸å»ºè®®ï¼‰"></a>ä½¿ç”¨MyBatis Generatorï¼ˆä¸å»ºè®®ï¼‰</h4><p>æ ¹æ®æ•°æ®åº“ä¸­çš„è¡¨ï¼Œè‡ªåŠ¨çš„ç”ŸæˆJavaBeanæ–‡ä»¶ã€å¯¹åº”çš„mapperæ¥å£ã€ä»¥åŠå¯¹åº”çš„mapperé…ç½®æ–‡ä»¶ä¸­å¤§éƒ¨åˆ†æŸ¥è¯¢è¯­å¥ã€‚</p>
<h5 id="å¯¼å…¥ä¾èµ–-3"><a href="#å¯¼å…¥ä¾èµ–-3" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h5><p><code>pom.xml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.generator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;last.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--mybatisçš„ä»£ç ç”Ÿæˆå™¨çš„é…ç½®ç­–ç•¥æ–‡ä»¶--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">configurationFile</span>&gt;</span>mybatis-generator-config.xml<span class="hljs-tag">&lt;/<span class="hljs-name">configurationFile</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br></code></pre></td></tr></table></figure>
<h5 id="é…ç½®ä»£ç ç”Ÿæˆç›¸å…³çš„ç­–ç•¥æ–‡ä»¶-mybatis-generator-config-xml"><a href="#é…ç½®ä»£ç ç”Ÿæˆç›¸å…³çš„ç­–ç•¥æ–‡ä»¶-mybatis-generator-config-xml" class="headerlink" title="é…ç½®ä»£ç ç”Ÿæˆç›¸å…³çš„ç­–ç•¥æ–‡ä»¶ mybatis-generator-config.xml"></a>é…ç½®ä»£ç ç”Ÿæˆç›¸å…³çš„ç­–ç•¥æ–‡ä»¶ mybatis-generator-config.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">generatorConfiguration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- jdbcè¿æ¥ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">jdbcConnection</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">jdbcConnection</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- schemaä¸ºæ•°æ®åº“åï¼ŒtableNameä¸ºå¯¹åº”çš„æ•°æ®åº“è¡¨å --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ³¨é‡Š --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">commentGenerator</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">commentGenerator</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç±»å‹è½¬æ¢ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">javaTypeResolver</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">javaTypeResolver</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç”Ÿæˆå®ä½“ç±»é…ç½® --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">javaModelGenerator</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">javaModelGenerator</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç”ŸæˆMapper.xmlæ–‡ä»¶é…ç½® --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">sqlMapGenerator</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">sqlMapGenerator</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç”ŸæˆMapper.java æ¥å£--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">javaClientGenerator</span>&gt;</span> ... <span class="hljs-tag">&lt;/<span class="hljs-name">javaClientGenerator</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">context</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">generatorConfiguration</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p>ç¼ºç‚¹</p>
<ol>
<li>æ¯æ¬¡ä»£ç ç”Ÿæˆéœ€è¦é…ç½®å¯¹åº”çš„ mybatis-generator-config é€šè¿‡ XML çš„å½¢å¼é…ç½®ç›¸å…³ç”Ÿæˆå±æ€§å’Œè§„åˆ™</li>
<li>æ— æ³•ç”Ÿæˆé€šç”¨çš„ Controllerã€Service ç±»ï¼Œæ— æ³•è‡ªå®šä¹‰æ¨¡æ¿ç­‰<br>ç»¼ä¸Šä¸¤ç‚¹ï¼š mybatis-generator ä½¿ç”¨éå¸¸ä¸æ–¹ä¾¿ã€‚</li>
</ol>
<h4 id="ä½¿ç”¨EasyCodeï¼ˆæ¨èï¼‰"><a href="#ä½¿ç”¨EasyCodeï¼ˆæ¨èï¼‰" class="headerlink" title="ä½¿ç”¨EasyCodeï¼ˆæ¨èï¼‰"></a>ä½¿ç”¨EasyCodeï¼ˆæ¨èï¼‰</h4><blockquote>
<p>ä¸‹é¢çš„æˆªå›¾æ¥è‡ªå¾®æœåŠ¡çš„å®æˆ˜</p>
</blockquote>
<p><a href="IDEA#%E4%BD%BF%E7%94%A8IDEA%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93">ä½¿ç”¨IDEAè¿æ¥æ•°æ®åº“</a></p>
<p>ä½¿ç”¨EasyCodeï¼ˆIDEAä¸­çš„æ’ä»¶ï¼‰å¿«é€Ÿç”Ÿæˆä»£ç <br><img src="/./Resources/image-20230718114042119.png" srcset="/img/loading.gif" lazyload alt="image-20230718114042119"></p>
<p><img src="/./Resources/image-20230718114048107.png" srcset="/img/loading.gif" lazyload alt="image-20230718114048107"></p>
<p>è¿™é‡Œçš„mapperä¸çŸ¥é“ä¸ºä»€ä¹ˆå»äº†adminçš„srcç›®å½•ä¸‹ï¼Œæ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹è·¯å¾„<br>å¹¶å°†mapperæ–‡ä»¶å¤¹çš„åå­—æ”¹ä¸º<code>com.cqupt.mapper</code></p>
<p>è°ƒæ•´å®Œåé¡¹ç›®ç»“æ„å›¾å¦‚ä¸‹<br><img src="/./Resources/image-20230718114056565.png" srcset="/img/loading.gif" lazyload alt="image-20230718114056565"></p>
<p>æ‰«æMapper</p>
<ul>
<li>åœ¨å…¥å£ç±»ä¸ŠåŠ å…¥<code>@MapperScan(&quot;com.cqupt.dao&quot;)</code><br>ä¿®é¥°èŒƒå›´ï¼šç”¨åœ¨ç±»ä¸Šï¼Œç”¨æ¥æ‰«ædaoæ¥å£æ‰€åœ¨åŒ…ï¼ŒåŒæ—¶å°†æ‰€æœ‰daoæ¥å£åœ¨å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡</li>
<li>åœ¨Mapperç±»ä¸ŠåŠ å…¥<code>@Mapper</code><blockquote>
<p>ä»¥ä¸Šé€‰æ‹©ä»»æ„ä¸€ä¸ªçš†å¯</p>
</blockquote>
</li>
</ul>
<h2 id="åœ¨Springbootä¸­é›†æˆMybatis-Plus"><a href="#åœ¨Springbootä¸­é›†æˆMybatis-Plus" class="headerlink" title="åœ¨Springbootä¸­é›†æˆMybatis-Plus"></a>åœ¨Springbootä¸­é›†æˆMybatis-Plus</h2><h3 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h3><blockquote>
<p>ä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œå‡†å¤‡ä¸€å¼ æµ‹è¯•è¡¨</p>
</blockquote>
<p>å¯¹åº”çš„è¡¨ç»“æ„![[Pasted image 20220620200304.png]]</p>
<p>å¯¹åº”çš„sqlè„šæœ¬</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- MySQL dump 10.13  Distrib 5.7.38, for osx10.17 (x86_64)</span><br><span class="hljs-comment">--</span><br><span class="hljs-comment">-- Host: 127.0.0.1    Database: ms</span><br><span class="hljs-comment">-- ------------------------------------------------------</span><br><span class="hljs-comment">-- Server version	5.7.38</span><br><br><span class="hljs-comment">/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */</span>;<br><span class="hljs-comment">/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */</span>;<br><span class="hljs-comment">/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */</span>;<br><span class="hljs-comment">/*!40101 SET NAMES utf8 */</span>;<br><span class="hljs-comment">/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */</span>;<br><span class="hljs-comment">/*!40103 SET TIME_ZONE=&#x27;+00:00&#x27; */</span>;<br><span class="hljs-comment">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */</span>;<br><span class="hljs-comment">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */</span>;<br><span class="hljs-comment">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#x27;NO_AUTO_VALUE_ON_ZERO&#x27; */</span>;<br><span class="hljs-comment">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */</span>;<br><br><span class="hljs-comment">--</span><br><span class="hljs-comment">-- Table structure for table `sys_user`</span><br><span class="hljs-comment">--</span><br><br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `sys_user`;<br><span class="hljs-comment">/*!40101 SET @saved_cs_client     = @@character_set_client */</span>;<br><span class="hljs-comment">/*!40101 SET character_set_client = utf8 */</span>;<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `sys_user` (<br>  `id` <span class="hljs-type">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,<br>  `username` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `password` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `nickname` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `email` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `phone` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `address` <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `create_time` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),<br>  <span class="hljs-keyword">UNIQUE</span> KEY `user_id_uindex` (`id`)<br>) ENGINE<span class="hljs-operator">=</span>InnoDB AUTO_INCREMENT<span class="hljs-operator">=</span><span class="hljs-number">4</span> <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;<br><span class="hljs-comment">/*!40101 SET character_set_client = @saved_cs_client */</span>;<br><br><span class="hljs-comment">--</span><br><span class="hljs-comment">-- Dumping data for table `sys_user`</span><br><span class="hljs-comment">--</span><br><br>LOCK TABLES `sys_user` WRITE;<br><span class="hljs-comment">/*!40000 ALTER TABLE `sys_user` DISABLE KEYS */</span>;<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `sys_user` (`id`, `username`, `password`, `nickname`, `email`, `phone`, `address`, `create_time`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;admin&#x27;</span>,<span class="hljs-string">&#x27;ç®¡ç†å‘˜&#x27;</span>,<span class="hljs-string">&#x27;admin@mail.com&#x27;</span>,<span class="hljs-string">&#x27;123&#x27;</span>,<span class="hljs-string">&#x27;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„&#x27;</span>,<span class="hljs-string">&#x27;2022-06-20 09:04:56&#x27;</span>),(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;wt&#x27;</span>,<span class="hljs-keyword">NULL</span>,<span class="hljs-keyword">NULL</span>,<span class="hljs-keyword">NULL</span>,<span class="hljs-keyword">NULL</span>,<span class="hljs-keyword">NULL</span>,<span class="hljs-keyword">NULL</span>);<br><span class="hljs-comment">/*!40000 ALTER TABLE `sys_user` ENABLE KEYS */</span>;<br>UNLOCK TABLES;<br><span class="hljs-comment">/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */</span>;<br><br><span class="hljs-comment">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */</span>;<br><span class="hljs-comment">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */</span>;<br><span class="hljs-comment">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */</span>;<br><span class="hljs-comment">/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */</span>;<br><span class="hljs-comment">/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */</span>;<br><span class="hljs-comment">/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */</span>;<br><span class="hljs-comment">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */</span>;<br><br><span class="hljs-comment">-- Dump completed on 2022-06-20 20:03:25</span><br><br></code></pre></td></tr></table></figure>

<h3 id="å¯¼å…¥ä¾èµ–-4"><a href="#å¯¼å…¥ä¾èµ–-4" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><p><code>pom.xml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--        MybatisPlus--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="ç¼–å†™é…ç½®æ–‡ä»¶"><a href="#ç¼–å†™é…ç½®æ–‡ä»¶" class="headerlink" title="ç¼–å†™é…ç½®æ–‡ä»¶"></a>ç¼–å†™é…ç½®æ–‡ä»¶</h3><p><code>application.yml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"># DataSource Config<br>spring:<br>  datasource:<br>    driver-class-name: com.mysql.cj.jdbc.Driver<br>    url: jdbc:mysql://localhost:3306/ms?useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai<br>    username: root<br>    password: root<br>server:<br>  port: 8081<br>mybatis-plus:<br>  mapper-locations: classpath*:/mapper/**Mapper.xml<br></code></pre></td></tr></table></figure>

<p><code>MybatisPlusConfig</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@MapperScan(&quot;scan.cqupt.mapper&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisPlusConfig</span> &#123;<br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">mybatisPlusInterceptor</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();<br>        interceptor.addInnerInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));<br>        <span class="hljs-keyword">return</span> interceptor;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨MybatisPlus-generator-è‡ªåŠ¨ç”Ÿæˆ"><a href="#ä½¿ç”¨MybatisPlus-generator-è‡ªåŠ¨ç”Ÿæˆ" class="headerlink" title="ä½¿ç”¨MybatisPlus-generator è‡ªåŠ¨ç”Ÿæˆ"></a>ä½¿ç”¨MybatisPlus-generator è‡ªåŠ¨ç”Ÿæˆ</h3><p>å®˜æ–¹å¼€å‘æ–‡æ¡£ï¼š<br>ç¤ºä¾‹ï¼š<a target="_blank" rel="noopener" href="https://baomidou.com/pages/779a6e/#%E4%BD%BF%E7%94%A8">ä»£ç ç”Ÿæˆå™¨ï¼ˆæ–°ï¼‰ | MyBatis-Plus</a></p>
<h4 id="å¯¼å…¥ä¾èµ–-5"><a href="#å¯¼å…¥ä¾èµ–-5" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h4><p><code>pom.xml</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--        MybatisPlus--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!--        mpä»£ç ç”Ÿæˆå™¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--        æ¨¡æ¿å¼•æ“--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="ç¼–å†™MybatisPlusCodeAutoGeneration"><a href="#ç¼–å†™MybatisPlusCodeAutoGeneration" class="headerlink" title="ç¼–å†™MybatisPlusCodeAutoGeneration"></a>ç¼–å†™MybatisPlusCodeAutoGeneration</h4><p>é…ç½®è¯´æ˜ï¼š<a target="_blank" rel="noopener" href="https://baomidou.com/pages/981406/#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE-datasourceconfig">ä»£ç ç”Ÿæˆå™¨é…ç½®æ–° | MyBatis-Plus</a><br>ä½¿ç”¨çš„æ—¶å€™ï¼Œéœ€è¦ç”¨æˆ·åï¼Œå¯†ç ï¼Œæ•°æ®åº“åœ°å€ï¼Œè¡¨åå­—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisPlusCodeAutoGeneration</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">URL</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;jdbc:mysql://localhost:3306/vueblog&quot;</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">USERNAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;root&quot;</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PASSWORD</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;root&quot;</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è‡ªåŠ¨ç”Ÿæˆä»£ç è¾“å‡ºç›®å½•ï¼Œè¿™é‡Œé»˜è®¤ç±»è·¯å¾„ä¸‹çš„src/main/java/com.cqupt/</span><br><span class="hljs-comment">     * System.getProperty(&quot;user.dir&quot;) - &gt; é¡¹ç›®ç›®å½•</span><br><span class="hljs-comment">     * File.separator - &gt; /</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">OUTPUT_DIR</span> <span class="hljs-operator">=</span> System.getProperty(<span class="hljs-string">&quot;user.dir&quot;</span>) + File.separator + <span class="hljs-string">&quot;src/main/java&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        FastAutoGenerator.create(URL, USERNAME, PASSWORD)<br>                .globalConfig(builder -&gt; builder<br>                        .author(<span class="hljs-string">&quot;wangtaotao&quot;</span>)<span class="hljs-comment">// è®¾ç½®ä½œè€…</span><br>                        .fileOverride()<span class="hljs-comment">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span><br>                        .disableOpenDir()<span class="hljs-comment">//ç¦ç”¨ä»£ç ç”Ÿæˆåæ‰“å¼€è¾“å‡ºç›®å½•å¯¹è¯æ¡†</span><br>                        .outputDir(OUTPUT_DIR))<br>                .packageConfig(builder -&gt; builder<br>                        .parent(<span class="hljs-string">&quot;com.cqupt&quot;</span>)<span class="hljs-comment">// è®¾ç½®çˆ¶åŒ…å</span><br>                        .entity(<span class="hljs-string">&quot;entity&quot;</span>))<span class="hljs-comment">//å¯ä»¥æŒ‡å®šå®ä½“(DO)æ‰€åœ¨çš„åŒ…å</span><br>                .strategyConfig(builder -&gt; builder<br>                        <span class="hljs-comment">//addIncludeæŒ‡å®šåŒ…å«çš„è¡¨åï¼Œä¸è°ƒç”¨è¯¥æ–¹æ³•é»˜è®¤ä¸ºæ‰€æœ‰è¡¨ç”Ÿæˆä»£ç </span><br>                        <span class="hljs-comment">//addTablePrefixå¯ä»¥è¿‡æ»¤è¡¨å‰ç¼€ï¼Œå³t_userå˜æˆuser</span><br>                        .addInclude(<span class="hljs-string">&quot;m_user&quot;</span>).addTablePrefix(<span class="hljs-string">&quot;m_&quot;</span>)<br>                        .addInclude(<span class="hljs-string">&quot;m_blog&quot;</span>).addTablePrefix(<span class="hljs-string">&quot;m_&quot;</span>)<br>                        <span class="hljs-comment">// ç¦ç”¨ä¸ºå®ä½“ç±»ç”Ÿæˆåºåˆ—åŒ–IDï¼›formatFileNameæ ¼å¼åŒ–ç”Ÿæˆçš„å®ä½“ç±»åç§°ï¼Œå³t_user -&gt; UserDO</span><br>                        <span class="hljs-comment">//.entityBuilder().disableSerialVersionUID().formatFileName(&quot;%sDO&quot;)</span><br>                        <span class="hljs-comment">// formatMapperFileNameæ ¼å¼åŒ–Mapperæ¥å£åç§°ï¼Œå³t_user -&gt; UserMapper</span><br>                        <span class="hljs-comment">// formatXmlFileNameæ ¼å¼åŒ–Mapper.xmlæ–‡ä»¶åç§°ï¼Œå³t_user -&gt; UserMapper.xml</span><br>                        .mapperBuilder()<br>                        .formatMapperFileName(<span class="hljs-string">&quot;%sMapper&quot;</span>)<br>                        .formatXmlFileName(<span class="hljs-string">&quot;%sMapper&quot;</span>)<br>                        .serviceBuilder()<br>                        .formatServiceFileName(<span class="hljs-string">&quot;%sService&quot;</span>)<br>                        .build()<br>                )<br>                <span class="hljs-comment">// MyBatis-Plusä»£ç ç”Ÿæˆå™¨æ˜¯é€šè¿‡æ¨¡æ¿å¼•æ“æ¥æ¸²æŸ“æ–‡ä»¶çš„ï¼Œé»˜è®¤æ¨¡æ¿å¼•æ“æ˜¯Velocityï¼Œæ ¹æ®ä¾èµ–æˆ‘ä»¬ä½¿ç”¨Freemarker</span><br>                .templateEngine(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FreemarkerTemplateEngine</span>())<br>                .execute();<br>    &#125;<br><br>&#125;<br><br><br></code></pre></td></tr></table></figure>

<p>ç”Ÿæˆç»“æœï¼š<br>![[Pasted image 20220620183018.png|250]]</p>
<h5 id="MybatisPlus-generator-ç›¸å…³é—®é¢˜"><a href="#MybatisPlus-generator-ç›¸å…³é—®é¢˜" class="headerlink" title="MybatisPlus-generator ç›¸å…³é—®é¢˜"></a>MybatisPlus-generator ç›¸å…³é—®é¢˜</h5><ol>
<li><p><code>Cannot resolve symbol â€˜FastAutoGeneratorâ€™</code><br>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45203988/article/details/123756905">æ–°ç‰ˆæœ¬ä»£ç è‡ªåŠ¨ç”Ÿæˆ(MybatisPlus-generator) ä»£ç ç¤ºä¾‹+é—®é¢˜è§£å†³_å»ºæ¡¥ä¹‹é­‚çš„åšå®¢-CSDNåšå®¢</a><br>åŸå› ï¼šmybatis-plus-generatorç‰ˆæœ¬å¤ªä½ï¼Œæ¢æ–°çš„</p>
</li>
<li><p>å¦‚æœéœ€è¦æ˜¾ç¤ºjsonå›æ˜¾åˆ°æµè§ˆå™¨ï¼Œåˆ™éœ€è¦åœ¨ControlleræŠŠ<code>@Controller</code>æ”¹æˆ<code>@RestController</code></p>
</li>
</ol>
<h3 id="å®ç°å¢åˆ æ”¹æŸ¥"><a href="#å®ç°å¢åˆ æ”¹æŸ¥" class="headerlink" title="å®ç°å¢åˆ æ”¹æŸ¥"></a>å®ç°å¢åˆ æ”¹æŸ¥</h3><p>MybatisPluså·²ç»å®ç°äº†å¤§éƒ¨åˆ†CRUDæ“ä½œï¼Œå› æ­¤ï¼Œåªéœ€è¦ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>
<blockquote>
<p>controller -&gt; service -&gt; serviceImpl -&gt; mapper</p>
<p>controlleræ˜¯ä¸ºå‰ç«¯æä¾›çš„è®¿é—®å…¥å£ï¼Œä¸ç”¨å…³å¿ƒå…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ”¾åœ¨äº†serviceImplé‡Œï¼Œcontrolleråªéœ€è°ƒç”¨å®ƒå°è£…å¥½çš„æ–¹æ³•å³å¯ã€‚</p>
<p>serviceæä¾›ä¸šåŠ¡é€»è¾‘è¦ç”¨åˆ°çš„æ–¹æ³•ï¼ŒserviceImplæä¾›æ–¹æ³•çš„å…·ä½“å®ç°ã€‚è¯´äººè¯ï¼ŒServiceImplè´Ÿè´£äº†ä¸»è¦çš„åŠŸèƒ½ç¼–å†™ï¼ŒControlleræä¾›äº†ä½¿ç”¨çš„å…¥å£ã€‚</p>
<p>mapperä¸ºserviceImplæä¾›æ“ä½œæ•°æ®çš„æ–¹æ³•ï¼Œä½†æ–¹æ³•çš„å…·ä½“å®ç°(ä¹Ÿå°±æ˜¯SQLè¯­å¥)æ”¾åœ¨äº†mapperä¸‹çš„xmlæ–‡ä»¶é‡Œã€‚</p>
</blockquote>
<h5 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h5><p><code>UserController.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * &lt;p&gt;</span><br><span class="hljs-comment"> * å‰ç«¯æ§åˆ¶å™¨</span><br><span class="hljs-comment"> * &lt;/p&gt;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wangtaotao</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> 2022-06-20</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">findById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> &#123;<br>        <span class="hljs-keyword">return</span> userService.getById(id);<br>    &#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure>
<p>![[Pasted image 20220620190924.png]]</p>
<h5 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;/add&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">addById</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> &#123;<br>    <span class="hljs-keyword">return</span> userService.save(user);<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>@RequestBodyï¼šé€šè¿‡è·å–postè¯·æ±‚ä¸­çš„è¯·æ±‚ä½“</p>
</blockquote>
<p>![[Pasted image 20220620195105.png]]</p>
<h5 id="å¢åˆ æŸ¥æ”¹å…¨éƒ¨ä»£ç "><a href="#å¢åˆ æŸ¥æ”¹å…¨éƒ¨ä»£ç " class="headerlink" title="å¢åˆ æŸ¥æ”¹å…¨éƒ¨ä»£ç "></a>å¢åˆ æŸ¥æ”¹å…¨éƒ¨ä»£ç </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * &lt;p&gt;</span><br><span class="hljs-comment"> * å‰ç«¯æ§åˆ¶å™¨</span><br><span class="hljs-comment"> * &lt;/p&gt;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wangtaotao</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> 2022-06-20</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/findById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">findById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> &#123;<br>        <span class="hljs-keyword">return</span> userService.getById(id);<br>    &#125;<br><br><br>    <span class="hljs-meta">@PostMapping(&quot;/add&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">addById</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> &#123;<br>        <span class="hljs-keyword">return</span> userService.save(user);<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;deleteById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">deleteById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span> &#123;<br>        <span class="hljs-keyword">return</span> userService.removeById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@PostMapping(&quot;/update&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> &#123;<br>        <span class="hljs-keyword">return</span> userService.updateById(user);<br>    &#125;<br>    <span class="hljs-meta">@GetMapping(&quot;getAll&quot;)</span>  <br>	 <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">getAllUsers</span><span class="hljs-params">()</span>&#123;  <br>	     <span class="hljs-keyword">return</span> userService.list();  <br>	&#125;<br>	<br>	<span class="hljs-comment">// åˆ†é¡µæŸ¥è¯¢</span><br>    <br>    <span class="hljs-meta">@GetMapping(&quot;/page&quot;)</span><br>    <span class="hljs-keyword">public</span> IPage&lt;User&gt; <span class="hljs-title function_">findPage</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> Integer pageNum,</span><br><span class="hljs-params">                                <span class="hljs-meta">@RequestParam</span> Integer pageSize)</span> &#123;<br>        IPage&lt;User&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(pageNum, pageSize);<br>        <span class="hljs-keyword">return</span> userService.page(page);<br>    &#125;<br><br>	 <span class="hljs-comment">//åˆ†é¡µæŸ¥è¯¢ åŒ¹é…ç”¨æˆ·åä½¿ç”¨QueryWrapper</span><br>    <span class="hljs-meta">@GetMapping(&quot;/page&quot;)</span><br>    <span class="hljs-keyword">public</span> IPage&lt;User&gt; <span class="hljs-title function_">findPage</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> Integer pageNum,</span><br><span class="hljs-params">                                <span class="hljs-meta">@RequestParam</span> Integer pageSize,</span><br><span class="hljs-params">                                <span class="hljs-meta">@RequestParam(defaultValue = &quot;&quot;)</span> String username)</span> &#123;<br>        IPage&lt;User&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(pageNum, pageSize);<br>        QueryWrapper&lt;User&gt; queryWrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>        queryWrapper.like(<span class="hljs-string">&quot;username&quot;</span>, username);<br>        <span class="hljs-keyword">return</span> userService.page(page, queryWrapper);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>


<h2 id="åœ¨SpringBootä¸­é›†æˆSwagger"><a href="#åœ¨SpringBootä¸­é›†æˆSwagger" class="headerlink" title="åœ¨SpringBootä¸­é›†æˆSwagger"></a>åœ¨SpringBootä¸­é›†æˆSwagger</h2><h3 id="å‰åç«¯åˆ†ç¦»"><a href="#å‰åç«¯åˆ†ç¦»" class="headerlink" title="å‰åç«¯åˆ†ç¦»"></a>å‰åç«¯åˆ†ç¦»</h3><ul>
<li>åç«¯ï¼šåç«¯æ§åˆ¶å±‚ï¼ŒæœåŠ¡å±‚ï¼Œæ•°æ®è®¿é—®å±‚</li>
<li>å‰ç«¯ï¼šå‰ç«¯æ§åˆ¶å±‚ï¼Œè§†å›¾å±‚</li>
</ul>
<p>å‰ç«¯æµ‹è¯•åç«¯å·¥å…·Postman</p>
<p>åç«¯æä¾›æ¥å£ï¼Œéœ€è¦æ—¶æ—¶æ›´æ–°æ¶ˆæ¯å’Œæ”¹åŠ¨</p>
<h3 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h3><ul>
<li>Apiæ¡†æ¶</li>
<li>RestFul Api æ–‡æ¡£åœ¨çº¿è‡ªåŠ¨ç”Ÿæˆå·¥å…· &#x3D;&gt; <strong>Apiæ–‡æ¡£ä¸Apiå®šä¹‰åŒæ­¥æ›´æ–°</strong></li>
<li>åœ¨çº¿æµ‹è¯•Apiæ¥å£</li>
<li>æ”¯æŒå¤šç§è¯­è¨€</li>
</ul>
<h3 id="åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Swaggeréœ€è¦springfox"><a href="#åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Swaggeréœ€è¦springfox" class="headerlink" title="åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Swaggeréœ€è¦springfox"></a>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Swaggeréœ€è¦springfox</h3><ul>
<li>swagger2</li>
<li>ui</li>
</ul>
<h3 id="SpringBooté›†æˆSwagger3ï¼ˆæ–°ç‰ˆï¼‰"><a href="#SpringBooté›†æˆSwagger3ï¼ˆæ–°ç‰ˆï¼‰" class="headerlink" title="SpringBooté›†æˆSwagger3ï¼ˆæ–°ç‰ˆï¼‰"></a>SpringBooté›†æˆSwagger3ï¼ˆæ–°ç‰ˆï¼‰</h3><blockquote>
<p>æ³¨æ„ï¼šä¸è¦åŒæ—¶å¯¼å…¥2å’Œ3ï¼Œä¼šæŠ¥é”™</p>
</blockquote>
<h4 id="å¯¼ä¾èµ–"><a href="#å¯¼ä¾èµ–" class="headerlink" title="å¯¼ä¾èµ–"></a>å¯¼ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="ç¼–å†™é…ç½®æ–‡ä»¶-1"><a href="#ç¼–å†™é…ç½®æ–‡ä»¶-1" class="headerlink" title="ç¼–å†™é…ç½®æ–‡ä»¶"></a>ç¼–å†™é…ç½®æ–‡ä»¶</h4><blockquote>
<p>è·Ÿ2ä¸€æ ·ï¼Œåªæ˜¯æ³¨è§£æ¢äº†ä¸€ä¸ª</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ClassName: Swagger3Config &lt;br/&gt;</span><br><span class="hljs-comment"> * Description: &lt;br/&gt;</span><br><span class="hljs-comment"> * date: 2022/6/20 21:20&lt;br/&gt;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wangtaotao &lt;br/&gt;</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK 1.8</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableOpenApi</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwaggerConfig</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     é…ç½®Swaggerçš„Docketçš„Beanå®ä¾‹</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> Docket <span class="hljs-title function_">createRestApi</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Docket</span>(DocumentationType.SWAGGER_2)<br>                .apiInfo(apiInfo())<br>                .select()<br>                <span class="hljs-comment">//ä¸ºå½“å‰åŒ…ä¸‹controllerç”ŸæˆAPIæ–‡æ¡£</span><br>                .apis(RequestHandlerSelectors.basePackage(<span class="hljs-string">&quot;com.cqupt.controller&quot;</span>))<br>                .paths(PathSelectors.any())<br>                .build();<br>        <span class="hljs-comment">//æ·»åŠ ç™»å½•è®¤è¯</span><br><span class="hljs-comment">//                .securitySchemes(securitySchemes())</span><br><span class="hljs-comment">//                .securityContexts(securityContexts());</span><br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     é…ç½®Swaggerä¿¡æ¯ = apiInfo</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> ApiInfo <span class="hljs-title function_">apiInfo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiInfoBuilder</span>()<br>                <span class="hljs-comment">/*</span><br><span class="hljs-comment">                ä½œè€…ä¿¡æ¯</span><br><span class="hljs-comment">                 */</span><br>                .title(<span class="hljs-string">&quot;Apiæ–‡æ¡£&quot;</span>)<br>                .description(<span class="hljs-string">&quot;Apiæ–‡æ¡£&quot;</span>)<br>                .contact(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Contact</span>(<span class="hljs-string">&quot;wtt&quot;</span>,<span class="hljs-string">&quot;url&quot;</span>,<span class="hljs-string">&quot;email&quot;</span>))<br>                .version(<span class="hljs-string">&quot;1.0&quot;</span>)<br>                .build();<br>    &#125;<br><br><span class="hljs-comment">//    private List&lt;ApiKey&gt; securitySchemes() &#123;</span><br><span class="hljs-comment">//        //è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span><br><span class="hljs-comment">//        List&lt;ApiKey&gt; result = new ArrayList&lt;&gt;();</span><br><span class="hljs-comment">//        ApiKey apiKey = new ApiKey(&quot;Authorization&quot;, &quot;Authorization&quot;, &quot;header&quot;);</span><br><span class="hljs-comment">//        result.add(apiKey);</span><br><span class="hljs-comment">//        return result;</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    private List&lt;SecurityContext&gt; securityContexts() &#123;</span><br><span class="hljs-comment">//        //è®¾ç½®éœ€è¦ç™»å½•è®¤è¯çš„è·¯å¾„</span><br><span class="hljs-comment">//        List&lt;SecurityContext&gt; result = new ArrayList&lt;&gt;();</span><br><span class="hljs-comment">//        result.add(getContextByPath(&quot;/brand/.*&quot;));</span><br><span class="hljs-comment">//        return result;</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    private SecurityContext getContextByPath(String pathRegex)&#123;</span><br><span class="hljs-comment">//        return SecurityContext.builder()</span><br><span class="hljs-comment">//                .securityReferences(defaultAuth())</span><br><span class="hljs-comment">//                .forPaths(PathSelectors.regex(pathRegex))</span><br><span class="hljs-comment">//                .build();</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    private List&lt;SecurityReference&gt; defaultAuth() &#123;</span><br><span class="hljs-comment">//        List&lt;SecurityReference&gt; result = new ArrayList&lt;&gt;();</span><br><span class="hljs-comment">//        AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);</span><br><span class="hljs-comment">//        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];</span><br><span class="hljs-comment">//        authorizationScopes[0] = authorizationScope;</span><br><span class="hljs-comment">//        result.add(new SecurityReference(&quot;Authorization&quot;, authorizationScopes));</span><br><span class="hljs-comment">//        return result;</span><br><span class="hljs-comment">//    &#125;</span><br>&#125;<br><br></code></pre></td></tr></table></figure>
<h4 id="æµ‹è¯•è®¿é—®"><a href="#æµ‹è¯•è®¿é—®" class="headerlink" title="æµ‹è¯•è®¿é—®"></a>æµ‹è¯•è®¿é—®</h4><p><code>http://localhost:ç«¯å£å·/swagger-ui/index.html#/</code></p>
<h3 id="SpringBooté›†æˆSwagger2"><a href="#SpringBooté›†æˆSwagger2" class="headerlink" title="SpringBooté›†æˆSwagger2"></a>SpringBooté›†æˆSwagger2</h3><h4 id="å¯¼å…¥ä¾èµ–-6"><a href="#å¯¼å…¥ä¾èµ–-6" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Swagger-UI APIæ–‡æ¡£ç”Ÿäº§å·¥å…·--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="ç¼–å†™é…ç½®æ–‡ä»¶-2"><a href="#ç¼–å†™é…ç½®æ–‡ä»¶-2" class="headerlink" title="ç¼–å†™é…ç½®æ–‡ä»¶"></a>ç¼–å†™é…ç½®æ–‡ä»¶</h4><p><code>SwaggerConfig.java</code></p>
<blockquote>
<p>è¿™é‡Œæ³¨é‡Šæ‰äº†ç™»å½•è®¤è¯</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ClassName: SwaggerConfig &lt;br/&gt;</span><br><span class="hljs-comment"> * Description: &lt;br/&gt;</span><br><span class="hljs-comment"> * date: 2022/6/20 20:32&lt;br/&gt;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> wangtaotao &lt;br/&gt;</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@since</span> JDK 1.8</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableSwagger2</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwaggerConfig</span> &#123;<br>	<span class="hljs-comment">/**</span><br><span class="hljs-comment">	 é…ç½®Swaggerçš„Docketçš„Beanå®ä¾‹</span><br><span class="hljs-comment">	 */</span><br>	<span class="hljs-meta">@Bean</span><br>	<span class="hljs-keyword">public</span> Docket <span class="hljs-title function_">createRestApi</span><span class="hljs-params">()</span>&#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Docket</span>(DocumentationType.SWAGGER_2)<br>				.apiInfo(apiInfo())<br>				.select()<br>				<span class="hljs-comment">//ä¸ºå½“å‰åŒ…ä¸‹controllerç”ŸæˆAPIæ–‡æ¡£</span><br>				.apis(RequestHandlerSelectors.basePackage(<span class="hljs-string">&quot;com.cqupt.controller&quot;</span>))<br>				.paths(PathSelectors.any())<br>				.build();<br>				<span class="hljs-comment">//æ·»åŠ ç™»å½•è®¤è¯</span><br><span class="hljs-comment">//                .securitySchemes(securitySchemes())</span><br><span class="hljs-comment">//                .securityContexts(securityContexts());</span><br>	&#125;<br>	<span class="hljs-comment">/**</span><br><span class="hljs-comment">	 é…ç½®Swaggerä¿¡æ¯ = apiInfo</span><br><span class="hljs-comment">	 */</span><br>	<span class="hljs-keyword">private</span> ApiInfo <span class="hljs-title function_">apiInfo</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiInfoBuilder</span>()<br>				<span class="hljs-comment">/*</span><br><span class="hljs-comment">				ä½œè€…ä¿¡æ¯</span><br><span class="hljs-comment">				 */</span><br>				.title(<span class="hljs-string">&quot;Apiæ–‡æ¡£&quot;</span>)<br>				.description(<span class="hljs-string">&quot;Apiæ–‡æ¡£&quot;</span>)<br>				.contact(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Contact</span>(<span class="hljs-string">&quot;wtt&quot;</span>,<span class="hljs-string">&quot;url&quot;</span>,<span class="hljs-string">&quot;email&quot;</span>))<br>				.version(<span class="hljs-string">&quot;1.0&quot;</span>)<br>				.build();<br>	&#125;<br><br><span class="hljs-comment">//    private List&lt;ApiKey&gt; securitySchemes() &#123;</span><br><span class="hljs-comment">//        //è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span><br><span class="hljs-comment">//        List&lt;ApiKey&gt; result = new ArrayList&lt;&gt;();</span><br><span class="hljs-comment">//        ApiKey apiKey = new ApiKey(&quot;Authorization&quot;, &quot;Authorization&quot;, &quot;header&quot;);</span><br><span class="hljs-comment">//        result.add(apiKey);</span><br><span class="hljs-comment">//        return result;</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    private List&lt;SecurityContext&gt; securityContexts() &#123;</span><br><span class="hljs-comment">//        //è®¾ç½®éœ€è¦ç™»å½•è®¤è¯çš„è·¯å¾„</span><br><span class="hljs-comment">//        List&lt;SecurityContext&gt; result = new ArrayList&lt;&gt;();</span><br><span class="hljs-comment">//        result.add(getContextByPath(&quot;/brand/.*&quot;));</span><br><span class="hljs-comment">//        return result;</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    private SecurityContext getContextByPath(String pathRegex)&#123;</span><br><span class="hljs-comment">//        return SecurityContext.builder()</span><br><span class="hljs-comment">//                .securityReferences(defaultAuth())</span><br><span class="hljs-comment">//                .forPaths(PathSelectors.regex(pathRegex))</span><br><span class="hljs-comment">//                .build();</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//    private List&lt;SecurityReference&gt; defaultAuth() &#123;</span><br><span class="hljs-comment">//        List&lt;SecurityReference&gt; result = new ArrayList&lt;&gt;();</span><br><span class="hljs-comment">//        AuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);</span><br><span class="hljs-comment">//        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];</span><br><span class="hljs-comment">//        authorizationScopes[0] = authorizationScope;</span><br><span class="hljs-comment">//        result.add(new SecurityReference(&quot;Authorization&quot;, authorizationScopes));</span><br><span class="hljs-comment">//        return result;</span><br><span class="hljs-comment">//    &#125;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="æµ‹è¯•è®¿é—®-1"><a href="#æµ‹è¯•è®¿é—®-1" class="headerlink" title="æµ‹è¯•è®¿é—®"></a>æµ‹è¯•è®¿é—®</h4><p><code>http://localhost:ç«¯å£å·/swagger-ui.html</code>è®¿é—®</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Java/" class="category-chain-item">Java</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/Spring/" class="category-chain-item">Spring</a>
  
  
    <span>></span>
    
  <a href="/categories/Java/Spring/Spring-Boot/" class="category-chain-item">Spring Boot</a>
  
  

  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/SpringBoot/">#SpringBoot</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>SpringBoot</div>
      <div>http://conquers.github.io/posts/6f2612a2.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>wtt</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2022å¹´8æœˆ17æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/7273cdc.html" title="Maven">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Maven</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/a53e2688.html" title="Springbootæ”¯ä»˜å®æ²™ç®±æ”¯ä»˜">
                        <span class="hidden-mobile">Springbootæ”¯ä»˜å®æ²™ç®±æ”¯ä»˜</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Conquers/blog-comments');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        æ€»è®¿é—®é‡ 
        <span id="busuanzi_value_site_pv"></span>
         æ¬¡
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        æ€»è®¿å®¢æ•° 
        <span id="busuanzi_value_site_uv"></span>
         äºº
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
