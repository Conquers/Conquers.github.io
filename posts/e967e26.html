

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png">
  <link rel="icon" href="/img/avatar.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="wtt">
  <meta name="keywords" content="">
  
    <meta name="description" content="MySQLBrief🎉关键字写法顺序 123456789101112select 	...from	...where	...group by	...having	...order by	...  关键字执行顺序 0、案例所用表数据12345678MySQL&gt; show tables;+-----------------------+| Tables_in_bjpowernode |+---">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 基础篇">
<meta property="og:url" content="http://conquers.github.io/posts/e967e26.html">
<meta property="og:site_name" content="wtt&#39;s Blog">
<meta property="og:description" content="MySQLBrief🎉关键字写法顺序 123456789101112select 	...from	...where	...group by	...having	...order by	...  关键字执行顺序 0、案例所用表数据12345678MySQL&gt; show tables;+-----------------------+| Tables_in_bjpowernode |+---">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://conquers.github.io/Resources/banner-MySQL.png">
<meta property="article:published_time" content="2022-07-19T11:30:05.000Z">
<meta property="article:modified_time" content="2024-04-01T08:27:13.296Z">
<meta property="article:author" content="wtt">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://conquers.github.io/Resources/banner-MySQL.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>MySQL 基础篇 - wtt&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/mac.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"conquers.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="wtt's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>wtt&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="MySQL 基础篇"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-07-19 11:30" pubdate>
          2022年7月19日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          44k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          369 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MySQL 基础篇</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="Brief🎉"><a href="#Brief🎉" class="headerlink" title="Brief🎉"></a>Brief🎉</h2><p><strong>关键字写法顺序</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <br>	...<br><span class="hljs-keyword">from</span><br>	...<br><span class="hljs-keyword">where</span><br>	...<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span><br>	...<br><span class="hljs-keyword">having</span><br>	...<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	...<br></code></pre></td></tr></table></figure>

<p><strong>关键字执行顺序</strong><br><img src="/Resources/sql%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F.drawio%20(2).png" srcset="/img/loading.gif" lazyload></p>
<h2 id="0、案例所用表数据"><a href="#0、案例所用表数据" class="headerlink" title="0、案例所用表数据"></a>0、案例所用表数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">show</span> tables;<br><span class="hljs-operator">+</span><span class="hljs-comment">-----------------------+</span><br><span class="hljs-operator">|</span> Tables_in_bjpowernode <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------------------+</span><br><span class="hljs-operator">|</span> dept                            <span class="hljs-operator">|</span> 部门表<br><span class="hljs-operator">|</span> emp                            <span class="hljs-operator">|</span> 员工表<br><span class="hljs-operator">|</span> salgrade                     <span class="hljs-operator">|</span> 工资等级表<br><span class="hljs-operator">+</span><span class="hljs-comment">-----------------------+</span><br></code></pre></td></tr></table></figure>
<h3 id="表数据"><a href="#表数据" class="headerlink" title="表数据"></a>表数据</h3><p><img src="/Resources/Pasted%20image%2020220701110057.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20220701110057.png |400"><br><img src="/Resources/Pasted%20image%2020220701110104.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20220701110104.png |300"><br><img src="/Resources/Pasted%20image%2020220701110110.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20220701110110.png |300"></p>
<h3 id="表结构"><a href="#表结构" class="headerlink" title="表结构"></a>表结构</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs bash">desc 表名;<br><br>MySQL&gt; desc dept;<br>+--------+-------------+------+-----+---------+-------+<br>| Field  | Type        | Null | Key | Default | Extra |<br>+--------+-------------+------+-----+---------+-------+<br>| DEPTNO | int(2)      | NO   | PRI | NULL    |       |部门编号<br>| DNAME  | varchar(14) | YES  |     | NULL    |       |部门名字<br>| LOC    | varchar(13) | YES  |     | NULL    |       |地理位置<br>+--------+-------------+------+-----+---------+-------+<br>MySQL&gt; desc emp;<br>+----------+-------------+------+-----+---------+-------+<br>| Field    | Type        | Null | Key | Default | Extra |<br>+----------+-------------+------+-----+---------+-------+<br>| EMPNO    | int(4)      | NO   | PRI | NULL    |       |员工编号<br>| ENAME    | varchar(10) | YES  |     | NULL    |       |员工姓名<br>| JOB      | varchar(9)  | YES  |     | NULL    |       |工作岗位<br>| MGR      | int(4)      | YES  |     | NULL    |       |上级编号<br>| HIREDATE | <span class="hljs-built_in">date</span>        | YES  |     | NULL    |       |入职日期<br>| SAL      | double(7,2) | YES  |     | NULL    |       |工资<br>| COMM     | double(7,2) | YES  |     | NULL    |       |补助<br>| DEPTNO   | int(2)      | YES  |     | NULL    |       |部门编号<br>+----------+-------------+------+-----+---------+-------+<br>MySQL&gt; desc salgrade;<br>+-------+---------+------+-----+---------+-------+<br>| Field | Type    | Null | Key | Default | Extra |<br>+-------+---------+------+-----+---------+-------+<br>| GRADE | int(11) | YES  |     | NULL    |       |工资等级<br>| LOSAL | int(11) | YES  |     | NULL    |       |最低工资<br>| HISAL | int(11) | YES  |     | NULL    |       |最高工资<br>+-------+---------+------+-----+---------+-------+<br><br>describe缩写为：desc<br>MySQL&gt; describe dept;<br>+--------+-------------+------+-----+---------+-------+<br>| Field  | Type        | Null | Key | Default | Extra |<br>+--------+-------------+------+-----+---------+-------+<br>| DEPTNO | int(2)      | NO   | PRI | NULL    |       |<br>| DNAME  | varchar(14) | YES  |     | NULL    |       |<br>| LOC    | varchar(13) | YES  |     | NULL    |       |<br>+--------+-------------+------+-----+---------+-------+<br><br></code></pre></td></tr></table></figure>


<h2 id="1、基本概念：数据库、数据库管理系统、SQL"><a href="#1、基本概念：数据库、数据库管理系统、SQL" class="headerlink" title="1、基本概念：数据库、数据库管理系统、SQL"></a>1、基本概念：数据库、数据库管理系统、SQL</h2><h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><p>英文单词DataBase，简称DB。按照一定格式存储数据的一些文件的组合。<br>顾名思义：存储数据的仓库，实际上就是一堆文件。<br>这些文件中存储了具有特定格式的数据。</p>
<h3 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h3><p>DataBaseManagement，简称DBMS。<br>数据库管理系统是专门用来管理数据库中数据的，数据库管理系统可以对数据库当中的数据进行增删改查。</p>
<blockquote>
<p>常见的数据库管理系统：MySQL、Oracle、MS SqlServer、DB2、sybase等</p>
</blockquote>
<h3 id="SQL：结构化查询语言"><a href="#SQL：结构化查询语言" class="headerlink" title="SQL：结构化查询语言"></a>SQL：结构化查询语言</h3><p>程序员需要学习SQL语句，程序员通过编写SQL语句，然后DBMS负责执行SQL语句，最终来完成数据库中数据的增删改查操作。</p>
<p>SQL是一套标准，程序员主要学习的就是SQL语句，这个SQL在MySQL中可以使用，同时在Oracle中也可以使用，在DB2中也可以使用。</p>
<h3 id="三者之间的关系"><a href="#三者之间的关系" class="headerlink" title="三者之间的关系"></a>三者之间的关系</h3><p>DBMS–执行–&gt; SQL –操作–&gt; DB</p>
<p>先安装数据库管理系统MySQL，然后学习SQL语句怎么写，编写SQL语句之后，DBMS对SQL语句进行执行，最终来完成数据库的数据管理。</p>
<h3 id="数据库当中最基本的单元是表：table"><a href="#数据库当中最基本的单元是表：table" class="headerlink" title="数据库当中最基本的单元是表：table"></a>数据库当中最基本的单元是表：table</h3><p>数据库当中是以表格的形式表示数据的。</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-section">姓名	性别	年龄(列：字段) </span><br><span class="hljs-section">---------------------------</span><br>张三	男			20            -------&gt;行（记录）<br>李四	女			21            -------&gt;行（记录）<br>王五	男			22            -------&gt;行（记录）<br></code></pre></td></tr></table></figure>
<p>任何一张表都有行和列：</p>
<ul>
<li>行（row）：被称为数据&#x2F;记录。</li>
<li>列（column）：被称为字段。<ul>
<li>字段名：姓名字段，性别字段，年龄字段等</li>
<li>数据类型：字符串，数字，日期等</li>
<li>约束等：约束也有很多，其中一个叫做唯一性约束，这种约束添加之后，该字段中的数据不能重复。</li>
</ul>
</li>
</ul>
<h3 id="SQL语句的分类"><a href="#SQL语句的分类" class="headerlink" title="SQL语句的分类"></a>SQL语句的分类</h3><p>SQL语句有很多，最好进行分门别类，这样更容易记忆。</p>
<h4 id="DQL"><a href="#DQL" class="headerlink" title="DQL"></a>DQL</h4><ul>
<li>数据查询语言（凡是带有select关键字的都是查询语句）<ul>
<li>select</li>
<li>…</li>
</ul>
</li>
</ul>
<h4 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h4><ul>
<li>数据操作语言（凡是对表当中的数据进行增删改的都是DML）<ul>
<li>insert delete update</li>
<li>insert 增</li>
<li>delete 删</li>
<li>update 改<br>  <strong>这个主要是操作表中的数据data。</strong></li>
</ul>
</li>
</ul>
<h4 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h4><ul>
<li>数据定义语言<ul>
<li>凡是带有create、drop、alter的都是DDL。</li>
<li>DDL主要操作的是表的结构。不是表中的数据。</li>
<li>create：新建，等同于增</li>
<li>drop：删除</li>
<li>alter：修改<br>  <strong>这个增删改和DML不同，这个主要是对表结构进行操作。</strong></li>
</ul>
</li>
</ul>
<h4 id="TCL"><a href="#TCL" class="headerlink" title="TCL"></a>TCL</h4><ul>
<li>事务控制语言<ul>
<li>事务提交：commit;</li>
<li>事务回滚：rollback;</li>
</ul>
</li>
</ul>
<h4 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h4><ul>
<li>数据控制语言。<ul>
<li>授权grant</li>
<li>撤销权限revoke</li>
<li>….</li>
</ul>
</li>
</ul>
<h2 id="2、MySQL安装与启动"><a href="#2、MySQL安装与启动" class="headerlink" title="2、MySQL安装与启动"></a>2、MySQL安装与启动</h2><blockquote>
<p> Mac Homebrew</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 安装MySQL，需要配置一些内容</span><br>brew install MySQL@5.7<br><span class="hljs-comment"># 启动MySQL服务</span><br>MySQL.server start<br><span class="hljs-comment"># 进入MySQL客户端</span><br>MySQL -uroot -proot<br><span class="hljs-comment"># 退出</span><br><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>Docker</p>
</blockquote>
<p>参考：<a href="../../../Develop/%E5%BC%80%E5%8F%91%E8%99%9A%E6%8B%9F%E6%9C%BA/Docker%20%E5%AE%89%E8%A3%85%E5%AE%B9%E5%99%A8%E5%90%88%E9%9B%86.md#MySQL">Docker 安装 MySQL</a></p>
<blockquote>
<p>下载安装包手动安装</p>
</blockquote>
<h2 id="3、MySQL常用命令"><a href="#3、MySQL常用命令" class="headerlink" title="3、MySQL常用命令"></a>3、MySQL常用命令</h2><h3 id="查看MySQL中有哪些数据库？"><a href="#查看MySQL中有哪些数据库？" class="headerlink" title="查看MySQL中有哪些数据库？"></a>查看MySQL中有哪些数据库？</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">show databases;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：以分号结尾，分号是英文的分号。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">MySQL&gt; show databases;<br>+--------------------+<br>| Database           |<br>+--------------------+<br>| information_schema |<br>| MySQL              |<br>| performance_schema |<br>| <span class="hljs-built_in">test</span>               |<br>+--------------------+<br>MySQL默认自带了4个数据库。<br></code></pre></td></tr></table></figure>

<h3 id="选择使用某个数据库"><a href="#选择使用某个数据库" class="headerlink" title="选择使用某个数据库"></a>选择使用某个数据库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">use <span class="hljs-built_in">test</span>;<br></code></pre></td></tr></table></figure>

<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">create database bjpowernode;<br></code></pre></td></tr></table></figure>

<h3 id="查看某个数据库下所有表"><a href="#查看某个数据库下所有表" class="headerlink" title="查看某个数据库下所有表"></a>查看某个数据库下所有表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">MySQL&gt; show tables;<br></code></pre></td></tr></table></figure>

<h3 id="查看MySQL数据库的版本号"><a href="#查看MySQL数据库的版本号" class="headerlink" title="查看MySQL数据库的版本号"></a>查看MySQL数据库的版本号</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">select</span> version();<br></code></pre></td></tr></table></figure>

<h3 id="查看当前使用的是哪个数据库"><a href="#查看当前使用的是哪个数据库" class="headerlink" title="查看当前使用的是哪个数据库"></a>查看当前使用的是哪个数据库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">select</span> database();<br></code></pre></td></tr></table></figure>

<h3 id="导入数据："><a href="#导入数据：" class="headerlink" title="导入数据："></a>导入数据：</h3><ul>
<li>使用命令行 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">MySQL&gt; <span class="hljs-built_in">source</span> D:\course\03-MySQL\document\bjpowernode.sql<br></code></pre></td></tr></table></figure></li>
<li>使用数据库可视化软件<br>  <code>右键运行sql</code></li>
</ul>
<h2 id="4、MySQL中的数据类型"><a href="#4、MySQL中的数据类型" class="headerlink" title="4、MySQL中的数据类型"></a>4、MySQL中的数据类型</h2><h4 id="varchar-最长255"><a href="#varchar-最长255" class="headerlink" title="varchar(最长255)"></a>varchar(最长255)</h4><p>可变长度的字符串<br>比较智能，节省空间。<br>会根据实际的数据长度动态分配空间。</p>
<hr>
<p>优点：节省空间<br>缺点：需要动态分配空间，速度慢。</p>
<h4 id="char-最长255"><a href="#char-最长255" class="headerlink" title="char(最长255)"></a>char(最长255)</h4><p>定长字符串<br>不管实际的数据长度是多少。<br>分配固定长度的空间去存储数据。<br>使用不恰当的时候，可能会导致空间的浪费。</p>
<hr>
<p>优点：不需要动态分配空间，速度快。<br>缺点：使用不当可能会导致空间的浪费。</p>
<h4 id="varchar和char我们应该怎么选择？"><a href="#varchar和char我们应该怎么选择？" class="headerlink" title="varchar和char我们应该怎么选择？"></a>varchar和char我们应该怎么选择？</h4><ul>
<li>性别字段你选什么？因为性别是固定长度的字符串，所以选择char。</li>
<li>姓名字段你选什么？每一个人的名字长度不同，所以选择varchar。</li>
</ul>
<h4 id="int-最长11"><a href="#int-最长11" class="headerlink" title="int(最长11)"></a>int(最长11)</h4><p>数字中的整数型。等同于java的int。</p>
<h4 id="bigint"><a href="#bigint" class="headerlink" title="bigint"></a>bigint</h4><p>数字中的长整型。等同于java中的long。</p>
<h4 id="float"><a href="#float" class="headerlink" title="float"></a>float</h4><p>单精度浮点型数据</p>
<h4 id="double"><a href="#double" class="headerlink" title="double"></a>double</h4><p>双精度浮点型数据</p>
<h4 id="date"><a href="#date" class="headerlink" title="date"></a>date</h4><p>短日期类型：年月日<br>默认格式：%Y-%m-%d</p>
<h4 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h4><p>长日期类型：年月日时分秒<br>默认格式：%Y-%m-%d %h:%i:%s<br>在MySQL中可以使用now() 函数，获取长时期</p>
<h4 id="clob"><a href="#clob" class="headerlink" title="clob"></a>clob</h4><p>字符大对象<br>最多可以存储4G的字符串。<br>比如：存储一篇文章，存储一个说明。<br>超过255个字符的都要采用CLOB字符大对象来存储。<br>Character Large OBject:CLOB</p>
<h4 id="blob"><a href="#blob" class="headerlink" title="blob"></a>blob</h4><p>二进制大对象<br>Binary Large OBject<br>专门用来存储图片、声音、视频等流媒体数据。<br>往BLOB类型的字段上插入数据的时候，例如插入一个图片、视频等，<br>你需要使用IO流才行。</p>
<p>如：<br>t_movie 电影表（专门存储电影信息的）</p>
<table>
<thead>
<tr>
<th>编号</th>
<th>名字</th>
<th>故事情节</th>
<th>上映日期</th>
<th>时长</th>
<th>海报</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>no(bigint)</td>
<td>name(varchar)</td>
<td>history(clob)</td>
<td>playtime(date)</td>
<td>time(double)</td>
<td>image(blob)</td>
<td>type(char)</td>
</tr>
<tr>
<td>10000</td>
<td>哪吒</td>
<td>……..</td>
<td>2019-10-11</td>
<td>2.5</td>
<td>………..</td>
<td>‘1’</td>
</tr>
</tbody></table>
<h2 id="5、简单查询"><a href="#5、简单查询" class="headerlink" title="5、简单查询"></a>5、简单查询</h2><h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><h4 id="查询一个字段"><a href="#查询一个字段" class="headerlink" title="查询一个字段"></a>查询一个字段</h4><p><code>select 字段名 from 表名;</code></p>
<blockquote>
<p>select和from都是关键字。<br>字段名和表名都是标识符。</p>
</blockquote>
<h4 id="查询两个字段，或者多个字段"><a href="#查询两个字段，或者多个字段" class="headerlink" title="查询两个字段，或者多个字段"></a>查询两个字段，或者多个字段</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> 字段<span class="hljs-number">1</span>,字段<span class="hljs-number">2</span>,字段<span class="hljs-number">3</span> <span class="hljs-keyword">from</span> 表名;<br>使用逗号隔开`,`<br></code></pre></td></tr></table></figure>

<h4 id="查询全部字段"><a href="#查询全部字段" class="headerlink" title="查询全部字段"></a>查询全部字段</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dept;`<br></code></pre></td></tr></table></figure>
<blockquote>
<p>1、效率低<br>2、可读性差。</p>
</blockquote>
<h3 id="as"><a href="#as" class="headerlink" title="as"></a>as</h3><h4 id="as的基本使用"><a href="#as的基本使用" class="headerlink" title="as的基本使用"></a>as的基本使用</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> deptno,dname <span class="hljs-keyword">as</span> deptname <span class="hljs-keyword">from</span> dept;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> deptname   <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">40</span> <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：只是将显示的查询结果列名显示为deptname，原表列名还是叫：dname<br>记住：select语句是永远都不会进行修改操作的。（因为只负责查询）<strong>as关键字可以省略</strong>!</p>
</blockquote>
<h4 id="起别名的时候，别名里面有空格"><a href="#起别名的时候，别名里面有空格" class="headerlink" title="起别名的时候，别名里面有空格"></a>起别名的时候，别名里面有空格</h4><p>DBMS看到这样的语句，进行SQL语句的编译，不符合语法，编译报错。</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">select deptno,dname <span class="hljs-emphasis">&#x27;dept name&#x27;</span> from dept; //加单引号<br><span class="hljs-section">select deptno,dname &quot;dept name&quot; from dept; //加双引号</span><br><span class="hljs-section">+--------+------------+</span><br><span class="hljs-section">| deptno | dept name  |</span><br><span class="hljs-section">+--------+------------+</span><br>|     10 | ACCOUNTING |<br>|     20 | RESEARCH   |<br>|     30 | SALES      |<br><span class="hljs-section">|     40 | OPERATIONS |</span><br><span class="hljs-section">+--------+------------+</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>注意：在所有的数据库当中，字符串统一使用单引号括起来，单引号是标准，双引号在oracle数据库中用不了。但是在MySQL中可以使用。<br>再次强调：数据库中的字符串都是采用单引号括起来。这是标准的。</p>
</blockquote>
<p><strong>双引号不标准。</strong></p>
<h3 id="使用数学表达式"><a href="#使用数学表达式" class="headerlink" title="使用数学表达式"></a>使用数学表达式</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,sal<span class="hljs-operator">*</span><span class="hljs-number">12</span> <span class="hljs-keyword">from</span> emp; <br><span class="hljs-operator">/</span><span class="hljs-operator">/</span> 结论：字段可以使用数学表达式！<br></code></pre></td></tr></table></figure>

<h3 id="distinct-去重"><a href="#distinct-去重" class="headerlink" title="distinct 去重"></a>distinct 去重</h3><blockquote>
<p>注意：原表数据不会被修改，只是查询结果去重。<br>去重需要使用一个关键字：distinct</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> job <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+</span><br><span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+</span><br><span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,<span class="hljs-keyword">distinct</span> job <span class="hljs-keyword">from</span> emp;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>这样编写是错误的，语法错误。distinct只能出现在所有字段的最前方。</p>
</blockquote>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">distinct出现在job,deptno两个字段之前，表示两个字段联合起来去重。<br>```sql<br>MySQL&gt; select distinct job,deptno from emp;<br>+-----------+--------+<br>|<span class="hljs-string"> job       </span>|<span class="hljs-string"> deptno </span>|<br>+-----------+--------+<br>|<span class="hljs-string"> CLERK     </span>|<span class="hljs-string">     20 </span>|<br>|<span class="hljs-string"> SALESMAN  </span>|<span class="hljs-string">     30 </span>|<br>|<span class="hljs-string"> MANAGER   </span>|<span class="hljs-string">     20 </span>|<br>|<span class="hljs-string"> MANAGER   </span>|<span class="hljs-string">     30 </span>|<br>|<span class="hljs-string"> MANAGER   </span>|<span class="hljs-string">     10 </span>|<br>|<span class="hljs-string"> ANALYST   </span>|<span class="hljs-string">     20 </span>|<br>|<span class="hljs-string"> PRESIDENT </span>|<span class="hljs-string">     10 </span>|<br>|<span class="hljs-string"> CLERK     </span>|<span class="hljs-string">     30 </span>|<br>|<span class="hljs-string"> CLERK     </span>|<span class="hljs-string">     10 </span>|<br>+-----------+--------+<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql">统计一下工作岗位的数量？<br><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> job) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> job) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br><span class="hljs-operator">|</span>                   <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br></code></pre></td></tr></table></figure>

<h2 id="6、条件查询"><a href="#6、条件查询" class="headerlink" title="6、条件查询"></a>6、条件查询</h2><h3 id="什么是条件查询？"><a href="#什么是条件查询？" class="headerlink" title="什么是条件查询？"></a>什么是条件查询？</h3><p>不是将表中所有数据都查出来。是查询出来符合条件的。</p>
<p>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span><br>	字段<span class="hljs-number">1</span>,字段<span class="hljs-number">2</span>,字段<span class="hljs-number">3.</span>...<br><span class="hljs-keyword">from</span> <br>	表名<br><span class="hljs-keyword">where</span><br>	条件;<br></code></pre></td></tr></table></figure>

<h3 id="都有哪些条件？"><a href="#都有哪些条件？" class="headerlink" title="都有哪些条件？"></a>都有哪些条件？</h3><h4 id="x3D-等于"><a href="#x3D-等于" class="headerlink" title="&#x3D; 等于"></a>&#x3D; 等于</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资等于<span class="hljs-number">800</span>的员工姓名和编号？<br><span class="hljs-keyword">select</span> empno,ename <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">=</span> <span class="hljs-number">800</span>;<br>查询SMITH的编号和薪资？<br><span class="hljs-keyword">select</span> empno,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> ename <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;SMITH&#x27;</span>; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>字符串使用单引号<br></code></pre></td></tr></table></figure>
<h4 id="lt-gt-或-x3D-不等于"><a href="#lt-gt-或-x3D-不等于" class="headerlink" title="&lt;&gt;或!&#x3D; 不等于"></a>&lt;&gt;或!&#x3D; 不等于</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资不等于<span class="hljs-number">800</span>的员工姓名和编号？<br><span class="hljs-keyword">select</span> empno,ename <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">!=</span> <span class="hljs-number">800</span>;<br><span class="hljs-keyword">select</span> empno,ename <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-number">800</span>; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 小于号和大于号组成的不等号<br></code></pre></td></tr></table></figure>
<h4 id="lt-小于"><a href="#lt-小于" class="headerlink" title="&lt; 小于"></a>&lt; 小于</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资小于<span class="hljs-number">2000</span>的员工姓名和编号？<br>	MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> empno,ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&lt;</span> <span class="hljs-number">2000</span>;<br>	<span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+</span><br>	<span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br>	<span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7369</span> <span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7499</span> <span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7521</span> <span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7654</span> <span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7844</span> <span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7876</span> <span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7900</span> <span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>  <span class="hljs-number">7934</span> <span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+</span><br></code></pre></td></tr></table></figure>

<h4 id="lt-x3D-小于等于"><a href="#lt-x3D-小于等于" class="headerlink" title="&lt;&#x3D; 小于等于"></a>&lt;&#x3D; 小于等于</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资小于等于<span class="hljs-number">3000</span>的员工姓名和编号？<br><span class="hljs-keyword">select</span> empno,ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&lt;=</span> <span class="hljs-number">3000</span>;<br></code></pre></td></tr></table></figure>
<h4 id="gt-大于"><a href="#gt-大于" class="headerlink" title="&gt; 大于"></a>&gt; 大于</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资大于<span class="hljs-number">3000</span>的员工姓名和编号？<br><span class="hljs-keyword">select</span> empno,ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;</span> <span class="hljs-number">3000</span>;<br></code></pre></td></tr></table></figure>
<h4 id="gt-x3D-大于等于"><a href="#gt-x3D-大于等于" class="headerlink" title="&gt;&#x3D; 大于等于"></a>&gt;&#x3D; 大于等于</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资大于等于<span class="hljs-number">3000</span>的员工姓名和编号？<br><span class="hljs-keyword">select</span> empno,ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;=</span> <span class="hljs-number">3000</span>;<br></code></pre></td></tr></table></figure>
<h4 id="between-⋯-and-⋯-两个值之间-等同于-gt-x3D-and-lt-x3D"><a href="#between-⋯-and-⋯-两个值之间-等同于-gt-x3D-and-lt-x3D" class="headerlink" title="between ⋯ and ⋯. 两个值之间, 等同于 &gt;&#x3D; and &lt;&#x3D;"></a>between ⋯ and ⋯. 两个值之间, 等同于 &gt;&#x3D; and &lt;&#x3D;</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs sql">查询薪资在<span class="hljs-number">2450</span>和<span class="hljs-number">3000</span>之间的员工信息？包括<span class="hljs-number">2450</span>和<span class="hljs-number">3000</span><br><br>第一种方式：<span class="hljs-operator">&gt;=</span> <span class="hljs-keyword">and</span> <span class="hljs-operator">&lt;=</span> （<span class="hljs-keyword">and</span>是并且的意思。）<br><span class="hljs-keyword">select</span> empno,ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;=</span> <span class="hljs-number">2450</span> <span class="hljs-keyword">and</span> sal <span class="hljs-operator">&lt;=</span> <span class="hljs-number">3000</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+---------+</span><br><span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+---------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7566</span> <span class="hljs-operator">|</span> JONES <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7782</span> <span class="hljs-operator">|</span> CLARK <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7788</span> <span class="hljs-operator">|</span> SCOTT <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7902</span> <span class="hljs-operator">|</span> FORD  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+---------+</span><br><br><br>第二种方式：<span class="hljs-keyword">between</span> ⋯ <span class="hljs-keyword">and</span> ⋯<br><span class="hljs-keyword">select</span> <br>	empno,ename,sal <br><span class="hljs-keyword">from</span> <br>	emp <br><span class="hljs-keyword">where</span> <br>	sal <span class="hljs-keyword">between</span> <span class="hljs-number">2450</span> <span class="hljs-keyword">and</span> <span class="hljs-number">3000</span>;<br><br>注意：<br>	使用<span class="hljs-keyword">between</span> <span class="hljs-keyword">and</span>的时候，必须遵循左小右大。<br>	<span class="hljs-keyword">between</span> <span class="hljs-keyword">and</span>是闭区间，包括两端的值。<br></code></pre></td></tr></table></figure>
<h4 id="is-null-为-null（is-not-null-不为空）"><a href="#is-null-为-null（is-not-null-不为空）" class="headerlink" title="is null 为 null（is not null 不为空）"></a>is null 为 null（is not null 不为空）</h4><blockquote>
<p>查询某个字段为null或者不为null时，不能使用’&#x3D;’</p>
</blockquote>
<p>案例：查询哪些员工的津贴&#x2F;补助为null？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sql"><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> empno,ename,sal,comm <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> comm <span class="hljs-operator">=</span> <span class="hljs-keyword">null</span>;<br><span class="hljs-keyword">Empty</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> empno,ename,sal,comm <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> comm <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+------+</span><br><span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span> comm <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7369</span> <span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7566</span> <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7782</span> <span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7788</span> <span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7839</span> <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7876</span> <span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7900</span> <span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7902</span> <span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7934</span> <span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+------+</span><br><span class="hljs-number">10</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br></code></pre></td></tr></table></figure>

<p>案例：查询哪些员工的津贴&#x2F;补助不为null？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> empno,ename,sal,comm <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> comm <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+---------+</span><br><span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span> comm    <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+---------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7499</span> <span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">300.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7521</span> <span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">500.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7654</span> <span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">1400.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7844</span> <span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span>    <span class="hljs-number">0.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+---------+---------+</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：在数据库当中null不能使用等号进行衡量。需要使用is null。因为数据库中的null代表什么也没有，它不是一个值，所以不能使用等号衡量。</p>
</blockquote>
<h4 id="and-并且"><a href="#and-并且" class="headerlink" title="and 并且"></a>and 并且</h4><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">查询工作岗位是MANAGER并且工资大于2500的员工信息？<br><br>select <br><span class="hljs-code">	empno,ename,job,sal </span><br>from <br><span class="hljs-code">	emp </span><br>where <br><span class="hljs-code">	job = &#x27;MANAGER&#x27; and sal &gt; 2500;</span><br><br><span class="hljs-code">+-------+</span>-------<span class="hljs-code">+---------+</span>---------+<br><span class="hljs-section">| empno | ename | job     | sal     |</span><br><span class="hljs-section">+-------+-------+---------+---------+</span><br>|  7566 | JONES | MANAGER | 2975.00 |<br><span class="hljs-section">|  7698 | BLAKE | MANAGER | 2850.00 |</span><br><span class="hljs-section">+-------+-------+---------+---------+</span><br></code></pre></td></tr></table></figure>

<h4 id="or-或者"><a href="#or-或者" class="headerlink" title="or 或者"></a>or 或者</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">查询工作岗位是MANAGER和SALESMAN的员工？<br>select empno,ename,job from emp where job = &#x27;MANAGER&#x27;;<br>select empno,ename,job from emp where job = &#x27;SALESMAN&#x27;;<br><br>select <br>	empno,ename,job<br>from<br>	emp<br>where <br>	job = &#x27;MANAGER&#x27; or job = &#x27;SALESMAN&#x27;;<br><br>+-------+--------+----------+<br>|<span class="hljs-string"> empno </span>|<span class="hljs-string"> ename  </span>|<span class="hljs-string"> job      </span>|<br>+-------+--------+----------+<br>|<span class="hljs-string">  7499 </span>|<span class="hljs-string"> ALLEN  </span>|<span class="hljs-string"> SALESMAN </span>|<br>|<span class="hljs-string">  7521 </span>|<span class="hljs-string"> WARD   </span>|<span class="hljs-string"> SALESMAN </span>|<br>|<span class="hljs-string">  7566 </span>|<span class="hljs-string"> JONES  </span>|<span class="hljs-string"> MANAGER  </span>|<br>|<span class="hljs-string">  7654 </span>|<span class="hljs-string"> MARTIN </span>|<span class="hljs-string"> SALESMAN </span>|<br>|<span class="hljs-string">  7698 </span>|<span class="hljs-string"> BLAKE  </span>|<span class="hljs-string"> MANAGER  </span>|<br>|<span class="hljs-string">  7782 </span>|<span class="hljs-string"> CLARK  </span>|<span class="hljs-string"> MANAGER  </span>|<br>|<span class="hljs-string">  7844 </span>|<span class="hljs-string"> TURNER </span>|<span class="hljs-string"> SALESMAN </span>|<br>+-------+--------+----------+<br><br></code></pre></td></tr></table></figure>

<h4 id="and和or同时出现的话，有优先级问题吗？"><a href="#and和or同时出现的话，有优先级问题吗？" class="headerlink" title="and和or同时出现的话，有优先级问题吗？"></a>and和or同时出现的话，有优先级问题吗？</h4><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs abnf">查询工资大于<span class="hljs-number">2500</span>，并且部门编号为<span class="hljs-number">10</span>或<span class="hljs-number">20</span>部门的员工？<br>select <br>	*<br>from<br>	emp<br>where<br>	sal &gt; <span class="hljs-number">2500</span> and deptno <span class="hljs-operator">=</span> <span class="hljs-number">10</span> or deptno <span class="hljs-operator">=</span> <span class="hljs-number">20</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>
<p>当and和or同时出现时，会先执行and，后执行or。<br>即找出工资大于2500并且部门编号为10的员工，或者20部门所有员工找出来。</p>
<blockquote>
<p>如果想让or先执行，需要加“小括号”<br>以后在开发中，如果不确定优先级，就加小括号就行了。</p>
</blockquote>
<h4 id="in-包含，相当于多个-or-（not-in-不在这个范围中）"><a href="#in-包含，相当于多个-or-（not-in-不在这个范围中）" class="headerlink" title="in 包含，相当于多个 or （not in 不在这个范围中）"></a>in 包含，相当于多个 or （not in 不在这个范围中）</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">查询工作岗位是MANAGER和SALESMAN的员工？<br>select empno,ename,job from emp where job = &#x27;MANAGER&#x27; or job = &#x27;SALESMAN&#x27;;<br>select empno,ename,job from emp where job in(&#x27;MANAGER&#x27;, &#x27;SALESMAN&#x27;);<br>+-------+--------+----------+<br>|<span class="hljs-string"> empno </span>|<span class="hljs-string"> ename  </span>|<span class="hljs-string"> job      </span>|<br>+-------+--------+----------+<br>|<span class="hljs-string">  7499 </span>|<span class="hljs-string"> ALLEN  </span>|<span class="hljs-string"> SALESMAN </span>|<br>|<span class="hljs-string">  7521 </span>|<span class="hljs-string"> WARD   </span>|<span class="hljs-string"> SALESMAN </span>|<br>|<span class="hljs-string">  7566 </span>|<span class="hljs-string"> JONES  </span>|<span class="hljs-string"> MANAGER  </span>|<br>|<span class="hljs-string">  7654 </span>|<span class="hljs-string"> MARTIN </span>|<span class="hljs-string"> SALESMAN </span>|<br>|<span class="hljs-string">  7698 </span>|<span class="hljs-string"> BLAKE  </span>|<span class="hljs-string"> MANAGER  </span>|<br>|<span class="hljs-string">  7782 </span>|<span class="hljs-string"> CLARK  </span>|<span class="hljs-string"> MANAGER  </span>|<br>|<span class="hljs-string">  7844 </span>|<span class="hljs-string"> TURNER </span>|<span class="hljs-string"> SALESMAN </span>|<br>+-------+--------+----------+<br><br>not in 表示不在这几个值当中的数据。<br>select ename,sal from emp where sal not in(800, 5000, 3000);<br>+--------+---------+<br>|<span class="hljs-string"> ename  </span>|<span class="hljs-string"> sal     </span>|<br>+--------+---------+<br>|<span class="hljs-string"> ALLEN  </span>|<span class="hljs-string"> 1600.00 </span>|<br>|<span class="hljs-string"> WARD   </span>|<span class="hljs-string"> 1250.00 </span>|<br>|<span class="hljs-string"> JONES  </span>|<span class="hljs-string"> 2975.00 </span>|<br>|<span class="hljs-string"> MARTIN </span>|<span class="hljs-string"> 1250.00 </span>|<br>|<span class="hljs-string"> BLAKE  </span>|<span class="hljs-string"> 2850.00 </span>|<br>|<span class="hljs-string"> CLARK  </span>|<span class="hljs-string"> 2450.00 </span>|<br>|<span class="hljs-string"> TURNER </span>|<span class="hljs-string"> 1500.00 </span>|<br>|<span class="hljs-string"> ADAMS  </span>|<span class="hljs-string"> 1100.00 </span>|<br>|<span class="hljs-string"> JAMES  </span>|<span class="hljs-string">  950.00 </span>|<br>|<span class="hljs-string"> MILLER </span>|<span class="hljs-string"> 1300.00 </span>|<br>+--------+---------+<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：in不是一个区间。in后面跟的是具体的值。</p>
</blockquote>
<h4 id="not-可以取非，主要用在-is-或-in-中"><a href="#not-可以取非，主要用在-is-或-in-中" class="headerlink" title="not 可以取非，主要用在 is 或 in 中"></a>not 可以取非，主要用在 is 或 in 中</h4><ul>
<li>is null</li>
<li>is not null</li>
<li>in</li>
<li>not in</li>
</ul>
<h4 id="like：模糊查询"><a href="#like：模糊查询" class="headerlink" title="like：模糊查询"></a>like：模糊查询</h4><p>支持%或下划线匹配<br>%匹配任意多个字符<br>下划线：任意一个字符。</p>
<blockquote>
<p>（%是一个特殊的符号，_ 也是一个特殊符号）</p>
</blockquote>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">找出名字中含有O的？<br><span class="hljs-section">MySQL&gt; select ename from emp where ename like &#x27;%O%&#x27;;</span><br><span class="hljs-section">+-------+</span><br><span class="hljs-section">| ename |</span><br><span class="hljs-section">+-------+</span><br>| JONES |<br>| SCOTT |<br><span class="hljs-section">| FORD  |</span><br><span class="hljs-section">+-------+</span><br><br>找出名字以T结尾的？<br><span class="hljs-code">	select ename from emp where ename like &#x27;%T&#x27;;</span><br><span class="hljs-code">	</span><br>找出名字以K开始的？<br><span class="hljs-code">	select ename from emp where ename like &#x27;K%&#x27;;</span><br><br>找出第二个字每是A的？<br><span class="hljs-code">	select ename from emp where ename like &#x27;_A%&#x27;;</span><br><br>找出第三个字母是R的？<br><span class="hljs-code">	select ename from emp where ename like &#x27;__R%&#x27;;</span><br></code></pre></td></tr></table></figure>

<h4 id="当名字含有-时，需要用转义字符"><a href="#当名字含有-时，需要用转义字符" class="headerlink" title="当名字含有_时，需要用转义字符"></a>当名字含有_时，需要用转义字符</h4><p>找出名字中有<code>_</code>的？</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">select name from t_student where name like <span class="hljs-emphasis">&#x27;%_%&#x27;</span>; //这样不行。<br><br><span class="hljs-section">MySQL&gt; select name from t_student where name like &#x27;%\_%&#x27;; // \转义字符。</span><br><span class="hljs-section">+----------+</span><br><span class="hljs-section">| name     |</span><br><span class="hljs-section">+----------+</span><br><span class="hljs-section">| jack_son |</span><br><span class="hljs-section">+----------+</span><br></code></pre></td></tr></table></figure>

<h2 id="7、排序"><a href="#7、排序" class="headerlink" title="7、排序"></a>7、排序</h2><h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span><br><span class="hljs-keyword">from</span><br>	表名<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	字段名<span class="hljs-number">1</span>; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 默认是升序！！！<br></code></pre></td></tr></table></figure>
<h4 id="降序-desc"><a href="#降序-desc" class="headerlink" title="降序 desc"></a>降序 desc</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <br>	字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span><br><span class="hljs-keyword">from</span><br>	表名<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	字段名<span class="hljs-number">1</span> <span class="hljs-keyword">desc</span>;<br></code></pre></td></tr></table></figure>
<h4 id="升序-asc"><a href="#升序-asc" class="headerlink" title="升序 asc"></a>升序 asc</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <br>	字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span><br><span class="hljs-keyword">from</span><br>	表名<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	字段名<span class="hljs-number">1</span> <span class="hljs-keyword">asc</span>;<br></code></pre></td></tr></table></figure>

<h3 id="多个字段排序"><a href="#多个字段排序" class="headerlink" title="多个字段排序"></a>多个字段排序</h3><p>语法格式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span><br><span class="hljs-keyword">from</span><br>	表名<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	字段名<span class="hljs-number">1</span> <span class="hljs-keyword">asc</span>,字段名<span class="hljs-number">2</span> <span class="hljs-keyword">desc</span>;<br>	<br>字段名<span class="hljs-number">1</span>在前，起主导，只有字段名<span class="hljs-number">1</span>相等的时候，才会考虑启用字段名<span class="hljs-number">2</span>排序。<br></code></pre></td></tr></table></figure>

<h3 id="了解：根据字段的位置排序"><a href="#了解：根据字段的位置排序" class="headerlink" title="了解：根据字段的位置排序"></a>了解：根据字段的位置排序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> 字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span> <span class="hljs-keyword">from</span> 表名 <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-number">2</span>; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">2</span>表示第二列。<br>按照查询结果的第<span class="hljs-number">2</span>列排序。<br><br>了解一下，不建议在开发中这样写，因为不健壮。<br>因为列的顺序很容易发生改变，列顺序修改之后，<span class="hljs-number">2</span>就废了。<br></code></pre></td></tr></table></figure>
<h3 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">找出工资在<span class="hljs-number">1250</span>到<span class="hljs-number">3000</span>之间的员工信息，要求按照薪资降序排列。<br><span class="hljs-keyword">select</span> <br>	ename,sal<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">where</span><br>	sal <span class="hljs-keyword">between</span> <span class="hljs-number">1250</span> <span class="hljs-keyword">and</span> <span class="hljs-number">3000</span><br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	sal <span class="hljs-keyword">desc</span>;<br></code></pre></td></tr></table></figure>

<h2 id="8、数据处理函数"><a href="#8、数据处理函数" class="headerlink" title="8、数据处理函数"></a>8、数据处理函数</h2><h3 id="8-1、数据处理函数又被称为单行处理函数"><a href="#8-1、数据处理函数又被称为单行处理函数" class="headerlink" title="8.1、数据处理函数又被称为单行处理函数"></a>8.1、数据处理函数又被称为单行处理函数</h3><p>单行处理函数的特点：一个输入对应一个输出。</p>
<p>和单行处理函数相对的是：多行处理函数。（多行处理函数特点：多个输入，对应1个输出！）</p>
<h3 id="8-2、单行处理函数"><a href="#8-2、单行处理函数" class="headerlink" title="8.2、单行处理函数"></a>8.2、单行处理函数</h3><p><code>函数名（操作的数据）</code></p>
<h4 id="lower-转换小写"><a href="#lower-转换小写" class="headerlink" title="lower 转换小写"></a>lower 转换小写</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">lower</span>(ename) <span class="hljs-keyword">as</span> ename <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+</span><br><span class="hljs-operator">|</span> smith  <span class="hljs-operator">|</span><br>.....<br><span class="hljs-operator">|</span> adams  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> miller <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+</span><br><span class="hljs-number">14</span>个输入，最后还是<span class="hljs-number">14</span>个输出。这是单行处理函数的特点。<br></code></pre></td></tr></table></figure>
<h4 id="upper-转换大写"><a href="#upper-转换大写" class="headerlink" title="upper 转换大写"></a>upper 转换大写</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_student;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> lisi     <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> wangwu   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> jack_son <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">upper</span>(name) <span class="hljs-keyword">as</span> name <span class="hljs-keyword">from</span> t_student;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> ZHANGSAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> LISI     <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WANGWU   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JACK_SON <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br></code></pre></td></tr></table></figure>
<h4 id="substr-取子串"><a href="#substr-取子串" class="headerlink" title="substr 取子串"></a>substr 取子串</h4><p><code>substr( 被截取的字符串, 起始下标,截取的长度)</code></p>
<blockquote>
<p>substr用于oracle，而substring 用于sql server<br>注意：起始下标从1开始，没有0.</p>
</blockquote>
<p>案例：找出员工名字第一个字母是A的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	ename <br><span class="hljs-keyword">from</span> <br>	emp <br><span class="hljs-keyword">where</span> <br>	substr(ename,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;A&#x27;</span>;<br></code></pre></td></tr></table></figure>

<h4 id="concat-字符串的拼接"><a href="#concat-字符串的拼接" class="headerlink" title="concat 字符串的拼接"></a>concat 字符串的拼接</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> concat(empno,ename) <span class="hljs-keyword">from</span> emp;<br>	<span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br>	<span class="hljs-operator">|</span> concat(empno,ename) <span class="hljs-operator">|</span><br>	<span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br>	<span class="hljs-operator">|</span> <span class="hljs-number">7369</span>SMITH           <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span> <span class="hljs-number">7499</span>ALLEN           <span class="hljs-operator">|</span><br>	........<br>	<span class="hljs-operator">|</span> <span class="hljs-number">7902</span>FORD            <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span> <span class="hljs-number">7934</span>MILLER          <span class="hljs-operator">|</span><br>	<span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br></code></pre></td></tr></table></figure>

<h4 id="length-取长度"><a href="#length-取长度" class="headerlink" title="length 取长度"></a>length 取长度</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> length(ename) enamelength <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-operator">|</span> enamelength <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br>.....<br><span class="hljs-operator">|</span>           <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">6</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br></code></pre></td></tr></table></figure>
<h4 id="trim-去空格"><a href="#trim-去空格" class="headerlink" title="trim 去空格"></a>trim 去空格</h4><blockquote>
<p>为什么不能输入的时候不输入空格？<br>因为这个值可能是传过来的数据，比如说前端传过来的名字，后端拿这个名字去数据库查</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> ename <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;  KING&#x27;</span>;<br><span class="hljs-keyword">Empty</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> ename <span class="hljs-operator">=</span> <span class="hljs-built_in">trim</span>(<span class="hljs-string">&#x27;   KING&#x27;</span>);<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-----------+------+------------+---------+------+--------+</span><br><span class="hljs-operator">|</span> EMPNO <span class="hljs-operator">|</span> ENAME <span class="hljs-operator">|</span> JOB       <span class="hljs-operator">|</span> MGR  <span class="hljs-operator">|</span> HIREDATE   <span class="hljs-operator">|</span> SAL     <span class="hljs-operator">|</span> COMM <span class="hljs-operator">|</span> DEPTNO <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-----------+------+------------+---------+------+--------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7839</span> <span class="hljs-operator">|</span> KING  <span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-number">1981</span><span class="hljs-number">-11</span><span class="hljs-number">-17</span> <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-----------+------+------------+---------+------+--------+</span><br></code></pre></td></tr></table></figure>

<h4 id="str-to-date-将字符串转换成日期"><a href="#str-to-date-将字符串转换成日期" class="headerlink" title="str_to_date 将字符串转换成日期"></a>str_to_date 将字符串转换成日期</h4><p>将字符串varchar类型转换成date类型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> t_user;<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_user(<br>	id <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>),<br>	birth <span class="hljs-type">date</span> <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 生日也可以使用<span class="hljs-type">date</span>日期类型<br>);<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_user(<br>	id <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>),<br>	birth <span class="hljs-type">char</span>(<span class="hljs-number">10</span>) <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 生日可以使用字符串，没问题。<br>	生日：<span class="hljs-number">1990</span><span class="hljs-number">-10</span><span class="hljs-number">-11</span> （<span class="hljs-number">10</span>个字符）<br>);<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：数据库中的有一条命名规范：<br>所有的标识符都是全部小写，单词和单词之间使用下划线进行衔接。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">desc</span> t_user;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------------+------+-----+---------+-------+</span><br><span class="hljs-operator">|</span> Field <span class="hljs-operator">|</span> Type        <span class="hljs-operator">|</span> <span class="hljs-keyword">Null</span> <span class="hljs-operator">|</span> Key <span class="hljs-operator">|</span> <span class="hljs-keyword">Default</span> <span class="hljs-operator">|</span> Extra <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------------+------+-----+---------+-------+</span><br><span class="hljs-operator">|</span> id    <span class="hljs-operator">|</span> <span class="hljs-type">int</span>(<span class="hljs-number">11</span>)     <span class="hljs-operator">|</span> YES  <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>    <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> name  <span class="hljs-operator">|</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>) <span class="hljs-operator">|</span> YES  <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>    <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> birth <span class="hljs-operator">|</span> <span class="hljs-type">date</span>        <span class="hljs-operator">|</span> YES  <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>    <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------------+------+-----+---------+-------+</span><br></code></pre></td></tr></table></figure>

<p>插入数据时：<br><code>insert into t_user(id,name,birth) values(1, &#39;zhangsan&#39;, &#39;01-10-1990&#39;);</code><br>出问题了：原因是类型不匹配。数据库birth是date类型，这里给了一个字符串varchar。</p>
<p>怎么办？可以使用str_to_date函数进行类型转换。<br><code>str_to_date函数可以将字符串转换成日期类型date？</code><br>语法格式：<br><code>str_to_date(&#39;字符串日期&#39;, &#39;日期格式&#39;)</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs SQL">MySQL的日期格式：<br>	<span class="hljs-operator">%</span>Y	年<br>	<span class="hljs-operator">%</span>m 月<br>	<span class="hljs-operator">%</span>d 日<br>	<span class="hljs-operator">%</span>h	时<br>	<span class="hljs-operator">%</span>i	分<br>	<span class="hljs-operator">%</span>s	秒<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_user(id,name,birth) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;zhangsan&#x27;</span>, str_to_date(<span class="hljs-string">&#x27;01-10-1990&#x27;</span>,<span class="hljs-string">&#x27;%d-%m-%Y&#x27;</span>));<br></code></pre></td></tr></table></figure>

<p>str_to_date函数可以把字符串varchar转换成日期date类型数据，<br>通常使用在插入insert方面，因为插入的时候需要一个日期类型的数据，<br>需要通过该函数将字符串转换成date。</p>
<p>如果你提供的日期字符串是这个格式，str_to_date函数就不需要了！！！<br>%Y-%m-%d<br><code>insert into t_user(id,name,birth) values(2, &#39;lisi&#39;, &#39;1990-10-01&#39;);</code></p>
<h4 id="date-format-格式化日期转换为字符串"><a href="#date-format-格式化日期转换为字符串" class="headerlink" title="date_format 格式化日期转换为字符串"></a>date_format 格式化日期转换为字符串</h4><p>将date类型转换成具有一定格式的varchar字符串类型。<br><code>date_format(日期类型数据, &#39;日期格式&#39;)</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> id,name,date_format(birth, <span class="hljs-string">&#x27;%m/%d/%Y&#x27;</span>) <span class="hljs-keyword">as</span> birth <span class="hljs-keyword">from</span> t_user;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span> birth      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span> <span class="hljs-number">10</span><span class="hljs-operator">/</span><span class="hljs-number">01</span><span class="hljs-operator">/</span><span class="hljs-number">1990</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> lisi     <span class="hljs-operator">|</span> <span class="hljs-number">10</span><span class="hljs-operator">/</span><span class="hljs-number">01</span><span class="hljs-operator">/</span><span class="hljs-number">1990</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------+</span><br></code></pre></td></tr></table></figure>

<h4 id="format-设置千分位"><a href="#format-设置千分位" class="headerlink" title="format 设置千分位"></a>format 设置千分位</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,sal <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><br>格式化数字：format(数字, <span class="hljs-string">&#x27;格式&#x27;</span>)<br><span class="hljs-keyword">select</span> ename,format(sal, <span class="hljs-string">&#x27;$999,999&#x27;</span>) <span class="hljs-keyword">as</span> sal <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal   <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> <span class="hljs-number">800</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1</span>,<span class="hljs-number">300</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-------+</span><br></code></pre></td></tr></table></figure>
<h4 id="case-when-then-when-then-else-end-当什么怎么样，当什么怎么样"><a href="#case-when-then-when-then-else-end-当什么怎么样，当什么怎么样" class="headerlink" title="case..when..then..when..then..else..end 当什么怎么样，当什么怎么样"></a>case..when..then..when..then..else..end 当什么怎么样，当什么怎么样</h4><blockquote>
<p>注意：不修改数据库，只是将查询结果显示</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs sql">当员工的工作岗位是MANAGER的时候，工资上调<span class="hljs-number">10</span><span class="hljs-operator">%</span>，当工作岗位是SALESMAN的时候，工资上调<span class="hljs-number">50</span><span class="hljs-operator">%</span>,其它正常。<br><span class="hljs-keyword">select</span> <br>	ename,<br>	job, <br>	sal <span class="hljs-keyword">as</span> oldsal,<br>	(<span class="hljs-keyword">case</span> job <span class="hljs-keyword">when</span> <span class="hljs-string">&#x27;MANAGER&#x27;</span> <span class="hljs-keyword">then</span> sal<span class="hljs-operator">*</span><span class="hljs-number">1.1</span> <span class="hljs-keyword">when</span> <span class="hljs-string">&#x27;SALESMAN&#x27;</span> <span class="hljs-keyword">then</span> sal<span class="hljs-operator">*</span><span class="hljs-number">1.5</span> <span class="hljs-keyword">else</span> sal <span class="hljs-keyword">end</span>) <span class="hljs-keyword">as</span> newsal <br><span class="hljs-keyword">from</span> <br>	emp;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+---------+---------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> oldsal  <span class="hljs-operator">|</span> newsal  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+---------+---------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">2400.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">1875.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">3272.50</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">1875.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">3135.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">2695.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">2250.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+---------+---------+</span><br></code></pre></td></tr></table></figure>

<h4 id="round-四舍五入"><a href="#round-四舍五入" class="headerlink" title="round 四舍五入"></a>round 四舍五入</h4><p>四舍五入的规则</p>
<ul>
<li>0 - 整数</li>
<li>1 - 一位小数</li>
<li>2 - 两位小数</li>
<li>-1 - 十位</li>
<li>依此类推<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs SQL">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> round(<span class="hljs-number">1236.567</span>, <span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">from</span> emp; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>保留整数位。<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+</span><br><span class="hljs-operator">|</span> <span class="hljs-keyword">result</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+</span><br><span class="hljs-operator">|</span>   <span class="hljs-number">1237</span> <span class="hljs-operator">|</span><br>...<br><span class="hljs-operator">|</span>   <span class="hljs-number">1237</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>   <span class="hljs-number">1237</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+</span><br><br><span class="hljs-keyword">select</span> round(<span class="hljs-number">1236.567</span>, <span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">from</span> emp; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>保留<span class="hljs-number">1</span>个小数<br><span class="hljs-keyword">select</span> round(<span class="hljs-number">1236.567</span>, <span class="hljs-number">2</span>) <span class="hljs-keyword">as</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">from</span> emp; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>保留<span class="hljs-number">2</span>个小数<br><span class="hljs-keyword">select</span> round(<span class="hljs-number">1236.567</span>, <span class="hljs-number">-1</span>) <span class="hljs-keyword">as</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">from</span> emp; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 保留到十位。<br><span class="hljs-keyword">select</span> round(<span class="hljs-number">1236.567</span>, <span class="hljs-number">-2</span>) <span class="hljs-keyword">as</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">from</span> emp;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="rand-生成随机数"><a href="#rand-生成随机数" class="headerlink" title="rand() 生成随机数"></a>rand() 生成随机数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> round(rand()<span class="hljs-operator">*</span><span class="hljs-number">100</span>,<span class="hljs-number">0</span>) <span class="hljs-keyword">from</span> emp; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-number">100</span>以内的随机数<br><span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br><span class="hljs-operator">|</span> round(rand()<span class="hljs-operator">*</span><span class="hljs-number">100</span>,<span class="hljs-number">0</span>) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br><span class="hljs-operator">|</span>                  <span class="hljs-number">76</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>                  <span class="hljs-number">29</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>                  <span class="hljs-number">42</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>                  <span class="hljs-number">28</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">---------------------+</span><br></code></pre></td></tr></table></figure>

<h4 id="ifnull-可以将-null-转换成一个具体值"><a href="#ifnull-可以将-null-转换成一个具体值" class="headerlink" title="ifnull 可以将 null 转换成一个具体值"></a>ifnull 可以将 null 转换成一个具体值</h4><p>ifnull是空处理函数。专门处理空的。</p>
<blockquote>
<p>在所有数据库当中，只要有NULL参与的数学运算，最终结果就是NULL。<br>为了避免这个现象，需要使用ifnull函数。</p>
</blockquote>
<p>ifnull函数用法：ifnull(数据, 被当做哪个值)<br>如果“数据”为NULL的时候，把这个数据结构当做哪个值。</p>
<hr>
<p>没有使用ifnull的时候</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sql">计算每个员工的年薪？<br>年薪 <span class="hljs-operator">=</span> (月薪 <span class="hljs-operator">+</span> 月补助) <span class="hljs-operator">*</span> <span class="hljs-number">12</span><br><br><span class="hljs-keyword">select</span> ename, (sal <span class="hljs-operator">+</span> comm) <span class="hljs-operator">*</span> <span class="hljs-number">12</span> <span class="hljs-keyword">as</span> yearsal <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> yearsal  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>     <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">22800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">21000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span>     <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">31800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span>     <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br></code></pre></td></tr></table></figure>
<p>使用ifnull的时候：补助为NULL的时候，将补助当做0</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename, (sal <span class="hljs-operator">+</span> ifnull(comm, <span class="hljs-number">0</span>)) <span class="hljs-operator">*</span> <span class="hljs-number">12</span> <span class="hljs-keyword">as</span> yearsal <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> yearsal  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">9600.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">22800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">21000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">35700.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">31800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">34200.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br></code></pre></td></tr></table></figure>

<h2 id="9、分组函数"><a href="#9、分组函数" class="headerlink" title="9、分组函数"></a>9、分组函数</h2><h3 id="分组函数又被称为多行处理函数"><a href="#分组函数又被称为多行处理函数" class="headerlink" title="分组函数又被称为多行处理函数"></a>分组函数又被称为多行处理函数</h3><p>多行处理函数的特点：输入多行，最终输出一行。</p>
<ul>
<li>1、count  计数</li>
<li>2、sum	求和</li>
<li>3、avg	平均值</li>
<li>4、max	最大值</li>
<li>5、min	最小值</li>
</ul>
<blockquote>
<p>注意：<br>分组函数在使用的时候必须先进行分组，然后才能用。<br>如果你没有对数据进行分组，整张表默认为一组。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs sql">找出最高工资？<br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><br>找出最低工资？<br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">min</span>(sal) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">min</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span>   <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><br>计算工资和：<br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(sal) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">sum</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-number">29025.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><br>计算平均工资：<br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">avg</span>(sal) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">avg</span>(sal)    <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-number">2073.214286</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-number">14</span>个工资全部加起来，然后除以<span class="hljs-number">14</span>。<br><br>计算员工数量？<br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(ename) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(ename) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------------+</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">14</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------------+</span><br></code></pre></td></tr></table></figure>
<h3 id="分组函数在使用的时候需要注意哪些？"><a href="#分组函数在使用的时候需要注意哪些？" class="headerlink" title="分组函数在使用的时候需要注意哪些？"></a>分组函数在使用的时候需要注意哪些？</h3><h4 id="1-分组函数自动忽略NULL，你不需要提前对NULL进行处理。"><a href="#1-分组函数自动忽略NULL，你不需要提前对NULL进行处理。" class="headerlink" title="1. 分组函数自动忽略NULL，你不需要提前对NULL进行处理。"></a>1. 分组函数自动忽略NULL，你不需要提前对NULL进行处理。</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(comm) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">sum</span>(comm) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+</span><br><span class="hljs-operator">|</span>   <span class="hljs-number">2200.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+</span><br></code></pre></td></tr></table></figure>
<h4 id="2-分组函数中count-和count-具体字段-有什么区别？"><a href="#2-分组函数中count-和count-具体字段-有什么区别？" class="headerlink" title="2. 分组函数中count(*)和count(具体字段)有什么区别？"></a>2. 分组函数中<code>count(*)</code>和<code>count(具体字段)</code>有什么区别？</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span>       <span class="hljs-number">14</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(comm) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(comm) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br><span class="hljs-operator">|</span>           <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------------+</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p><code>count(具体字段)</code>：表示统计该字段下所有不为NULL的元素的总数。<br><code>count(*)</code>：统计表当中的总行数。（只要有一行数据count则++）</p>
<p>因为每一行记录不可能都为NULL，一行数据中有一列不为NULL，则这行数据就是有效的。</p>
</blockquote>
<h4 id="3-分组函数不能够直接使用在where子句中。"><a href="#3-分组函数不能够直接使用在where子句中。" class="headerlink" title="3. 分组函数不能够直接使用在where子句中。"></a>3. 分组函数不能够直接使用在where子句中。</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">找出比最低工资高的员工信息。<br><span class="hljs-keyword">select</span> ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;</span> <span class="hljs-built_in">min</span>(sal);<br></code></pre></td></tr></table></figure>
<p>表面上没问题，运行一下？<br><code>ERROR 1111 (HY000): Invalid use of group function</code><br>?????????????????????????????????????????????????????????????????????<br>学完[[#为什么分组函数不能直接使用在where后面？]]之后就明白了了。</p>
<h4 id="4-所有的分组函数可以组合起来一起用。"><a href="#4-所有的分组函数可以组合起来一起用。" class="headerlink" title="4. 所有的分组函数可以组合起来一起用。"></a>4. 所有的分组函数可以组合起来一起用。</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(sal),<span class="hljs-built_in">min</span>(sal),<span class="hljs-built_in">max</span>(sal),<span class="hljs-built_in">avg</span>(sal),<span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> emp;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+----------+----------+-------------+----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">sum</span>(sal) <span class="hljs-operator">|</span> <span class="hljs-built_in">min</span>(sal) <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span> <span class="hljs-built_in">avg</span>(sal)    <span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+----------+----------+-------------+----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-number">29025.00</span> <span class="hljs-operator">|</span>   <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span> <span class="hljs-number">2073.214286</span> <span class="hljs-operator">|</span>       <span class="hljs-number">14</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+----------+----------+-------------+----------+</span><br></code></pre></td></tr></table></figure>

<h2 id="10、分组查询⭐⭐⭐⭐⭐"><a href="#10、分组查询⭐⭐⭐⭐⭐" class="headerlink" title="10、分组查询⭐⭐⭐⭐⭐"></a>10、分组查询⭐⭐⭐⭐⭐</h2><h3 id="1、什么是分组查询？"><a href="#1、什么是分组查询？" class="headerlink" title="1、什么是分组查询？"></a>1、什么是分组查询？</h3><p>在实际的应用中，可能有这样的需求，需要先进行分组，然后对每一组的数据进行操作。<br>这个时候我们需要使用分组查询，怎么进行分组查询呢？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span><br>	...<br><span class="hljs-keyword">from</span><br>	...<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span><br>	...<br></code></pre></td></tr></table></figure>

<h4 id="为什么分组函数不能直接使用在where后面？"><a href="#为什么分组函数不能直接使用在where后面？" class="headerlink" title="为什么分组函数不能直接使用在where后面？"></a>为什么分组函数不能直接使用在where后面？</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;</span> <span class="hljs-built_in">min</span>(sal);<span class="hljs-operator">/</span><span class="hljs-operator">/</span>报错。<br></code></pre></td></tr></table></figure>
<p>因为分组函数在使用的时候必须先分组之后才能使用。<br>where执行的时候，还没有分组。所以where后面不能出现分组函数。<br>[[#关键字执行顺序：]]</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">sum</span>(sal) <span class="hljs-keyword">from</span> emp;<br></code></pre></td></tr></table></figure>
<p>这个没有分组，为啥sum()函数可以用呢？<br>因为select在group by之后执行。</p>
<h3 id="2、案例：找出每个工作岗位的工资和？"><a href="#2、案例：找出每个工作岗位的工资和？" class="headerlink" title="2、案例：找出每个工作岗位的工资和？"></a>2、案例：找出每个工作岗位的工资和？</h3><p>实现思路：按照工作岗位分组，然后对工资求和。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	job,<span class="hljs-built_in">sum</span>(sal)<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span><br>	job;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+----------+</span><br><span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> <span class="hljs-built_in">sum</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+----------+</span><br><span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span>  <span class="hljs-number">6000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">4150.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span>  <span class="hljs-number">8275.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span>  <span class="hljs-number">5600.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+----------+</span><br></code></pre></td></tr></table></figure>
<p>以上这个语句的执行顺序:</p>
<ol>
<li>先从emp表中查询数据。</li>
<li>根据job字段进行分组。</li>
<li>然后对每一组的数据进行sum(sal)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,job,<span class="hljs-built_in">sum</span>(sal) <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> job;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-----------+----------+</span><br><span class="hljs-operator">|</span> ename <span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> <span class="hljs-built_in">sum</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-----------+----------+</span><br><span class="hljs-operator">|</span> SCOTT <span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span>  <span class="hljs-number">6000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">4150.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span>  <span class="hljs-number">8275.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING  <span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span>  <span class="hljs-number">5600.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-----------+----------+</span><br></code></pre></td></tr></table></figure>
以上语句在MySQL中可以执行，但是毫无意义。<br>以上语句在oracle中执行报错。<br>oracle的语法比MySQL的语法严格。（MySQL的语法相对来说松散一些！）</li>
</ol>
<p><strong>重点结论：</strong><br>在一条select语句当中，如果有group by语句的话，select后面只能跟：<br>参加分组的字段，以及分组函数。<br>其它的一律不能跟。</p>
<h3 id="3、案例：找出每个部门的最高薪资"><a href="#3、案例：找出每个部门的最高薪资" class="headerlink" title="3、案例：找出每个部门的最高薪资"></a>3、案例：找出每个部门的最高薪资</h3><p>实现思路<br>按照部门编号分组，求每一组的最大值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span>后面添加ename字段没有意义，另外oracle会报错。<br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> ename,deptno,<span class="hljs-built_in">max</span>(sal) <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> deptno;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+----------+</span><br><span class="hljs-operator">|</span> ename <span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+----------+</span><br><span class="hljs-operator">|</span> CLARK <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+----------+</span><br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> deptno,<span class="hljs-built_in">max</span>(sal) <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> deptno;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br></code></pre></td></tr></table></figure>
<h3 id="4、案例：找出“每个部门，不同工作岗位”的最高薪资？"><a href="#4、案例：找出“每个部门，不同工作岗位”的最高薪资？" class="headerlink" title="4、案例：找出“每个部门，不同工作岗位”的最高薪资？"></a>4、案例：找出“每个部门，不同工作岗位”的最高薪资？</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+---------+--------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+---------+--------+</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+---------+--------+</span><br>技巧：两个字段联合成<span class="hljs-number">1</span>个字段看。（两个字段联合分组）<br><span class="hljs-keyword">select</span> <br>	deptno, job, <span class="hljs-built_in">max</span>(sal)<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span><br>	deptno, job;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+----------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span>  <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span>  <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>  <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span>  <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span>   <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span>  <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span>  <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-----------+----------+</span><br></code></pre></td></tr></table></figure>

<h3 id="5、使用having可以对分完组之后的数据进一步过滤。"><a href="#5、使用having可以对分完组之后的数据进一步过滤。" class="headerlink" title="5、使用having可以对分完组之后的数据进一步过滤。"></a>5、使用having可以对分完组之后的数据进一步过滤。</h3><p>having不能单独使用，having不能代替where，having必须和group by联合使用。<br>案例：找出每个部门最高薪资，要求显示最高薪资大于3000的？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs SQL">第一步：找出每个部门最高薪资<br>按照部门编号分组，求每一组最大值。<br><span class="hljs-keyword">select</span> deptno,<span class="hljs-built_in">max</span>(sal) <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> deptno;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><br>第二步：要求显示最高薪资大于<span class="hljs-number">3000</span><br><span class="hljs-keyword">select</span> <br>	deptno,<span class="hljs-built_in">max</span>(sal) <br><span class="hljs-keyword">from</span> <br>	emp <br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> <br>	deptno<br><span class="hljs-keyword">having</span><br>	<span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">&gt;</span> <span class="hljs-number">3000</span>;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><br><br>思考一个问题：以上的<span class="hljs-keyword">sql</span>语句执行效率是不是低？<br>比较低，实际上可以这样考虑：先将大于<span class="hljs-number">3000</span>的都找出来，然后再分组。<br><span class="hljs-keyword">select</span> <br>	deptno,<span class="hljs-built_in">max</span>(sal)<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">where</span><br>	sal <span class="hljs-operator">&gt;</span> <span class="hljs-number">3000</span><br><span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span><br>	deptno;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">max</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span>  <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><br>优化策略：<br><span class="hljs-keyword">where</span>和<span class="hljs-keyword">having</span>，优先选择<span class="hljs-keyword">where</span>，<span class="hljs-keyword">where</span>实在完成不了了，再选择<span class="hljs-keyword">having</span>。<br></code></pre></td></tr></table></figure>

<h3 id="6、什么时候使用having"><a href="#6、什么时候使用having" class="headerlink" title="6、什么时候使用having"></a>6、什么时候使用having</h3><p>即having筛选的条件是分组函数<br>[[#为什么分组函数不能直接使用在where后面？]]</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs SQL">找出每个部门平均薪资，要求显示平均薪资高于<span class="hljs-number">2500</span>的。<br><br>第一步：找出每个部门平均薪资<br>	<span class="hljs-keyword">select</span> deptno,<span class="hljs-built_in">avg</span>(sal) <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> deptno;<br>	<span class="hljs-operator">+</span><span class="hljs-comment">--------+-------------+</span><br>	<span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">avg</span>(sal)    <span class="hljs-operator">|</span><br>	<span class="hljs-operator">+</span><span class="hljs-comment">--------+-------------+</span><br>	<span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> <span class="hljs-number">2916.666667</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> <span class="hljs-number">2175.000000</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> <span class="hljs-number">1566.666667</span> <span class="hljs-operator">|</span><br>	<span class="hljs-operator">+</span><span class="hljs-comment">--------+-------------+</span><br><br>第二步：要求显示平均薪资高于<span class="hljs-number">2500</span>的<br>	<span class="hljs-keyword">select</span> <br>		deptno,<span class="hljs-built_in">avg</span>(sal) <br>	<span class="hljs-keyword">from</span> <br>		emp <br>	<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> <br>		deptno<br>	<span class="hljs-keyword">having</span><br>		<span class="hljs-built_in">avg</span>(sal) <span class="hljs-operator">&gt;</span> <span class="hljs-number">2500</span>;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-------------+</span><br><span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> <span class="hljs-built_in">avg</span>(sal)    <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-------------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> <span class="hljs-number">2916.666667</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+-------------+</span><br></code></pre></td></tr></table></figure>

<h2 id="11、连接查询"><a href="#11、连接查询" class="headerlink" title="11、连接查询"></a>11、连接查询</h2><h3 id="1、什么是连接查询？"><a href="#1、什么是连接查询？" class="headerlink" title="1、什么是连接查询？"></a>1、什么是连接查询？</h3><p>从一张表中单独查询，称为单表查询。<br>emp表和dept表联合起来查询数据，从emp表中取员工名字，从dept表中取部门名字。<br>这种跨表查询，多张表联合起来查询数据，被称为连接查询。<br><img src="/Resources/Pasted%20image%2020220707103552.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220707103552.png"><br><img src="/Resources/Pasted%20image%2020220707103523.png" srcset="/img/loading.gif" lazyload alt="Pasted image 20220707103523.png|300"></p>
<h3 id="2、连接查询的分类？"><a href="#2、连接查询的分类？" class="headerlink" title="2、连接查询的分类？"></a>2、连接查询的分类？</h3><ul>
<li>根据语法的年代分类：<ul>
<li>SQL92：1992年的时候出现的语法</li>
<li>SQL99：1999年的时候出现的语法</li>
</ul>
</li>
</ul>
<blockquote>
<p>我们这里重点学习SQL99.(这个过程中简单演示一个SQL92的例子)</p>
</blockquote>
<ul>
<li>根据表连接的方式分类：<ul>
<li>内连接：<ul>
<li>等值连接</li>
<li>非等值连接</li>
<li>自连接</li>
</ul>
</li>
<li>外连接<ul>
<li>左外连接（左连接）</li>
<li>右外连接（右连接）</li>
</ul>
</li>
<li>全连接(几乎不用)</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3、当两张表进行连接查询时，没有任何条件的限制会发生什么现象？"><a href="#3、当两张表进行连接查询时，没有任何条件的限制会发生什么现象？" class="headerlink" title="3、当两张表进行连接查询时，没有任何条件的限制会发生什么现象？"></a>3、当两张表进行连接查询时，没有任何条件的限制会发生什么现象？</h3><h4 id="案例：查询每个员工所在部门名称？"><a href="#案例：查询每个员工所在部门名称？" class="headerlink" title="案例：查询每个员工所在部门名称？"></a>案例：查询每个员工所在部门名称？</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> ename,deptno <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dept;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+----------+</span><br><span class="hljs-operator">|</span> DEPTNO <span class="hljs-operator">|</span> DNAME      <span class="hljs-operator">|</span> LOC      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span> <span class="hljs-keyword">NEW</span> YORK <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span> DALLAS   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span> CHICAGO  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">40</span> <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span> BOSTON   <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+----------+</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql">两张表连接没有任何条件限制：<br><span class="hljs-keyword">select</span> ename,dname <span class="hljs-keyword">from</span> emp, dept;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> dname      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span><br>...<br><span class="hljs-number">56</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><span class="hljs-number">14</span> <span class="hljs-operator">*</span> <span class="hljs-number">4</span> <span class="hljs-operator">=</span> <span class="hljs-number">56</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ad-orange">当两张表进行连接查询，没有任何条件限制的时候，最终查询结果条数，是<br>两张表条数的乘积，这种现象被称为：笛卡尔积现象。（笛卡尔发现的，这是<br>一个数学现象。）<br></code></pre></td></tr></table></figure>
<h3 id="4、怎么避免笛卡尔积现象？"><a href="#4、怎么避免笛卡尔积现象？" class="headerlink" title="4、怎么避免笛卡尔积现象？"></a>4、怎么避免笛卡尔积现象？</h3><p>&#x3D;&#x3D;连接时加条件，满足这个条件的记录被筛选出来！&#x3D;&#x3D;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">select</span> <br>	ename,dname <br><span class="hljs-keyword">from</span> <br>	emp, dept<br><span class="hljs-keyword">where</span><br>	emp.deptno <span class="hljs-operator">=</span> dept.deptno;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>思考：最终查询的结果条数是14条，但是匹配的过程中，匹配的次数减少了吗？</p>
<p>答：还是56次，只不过进行了四选一。次数没有减少。</p>
</blockquote>
<hr>
<h2 id="优化效率："><a href="#优化效率：" class="headerlink" title="优化效率："></a>优化效率：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	emp.ename,dept.dname <br><span class="hljs-keyword">from</span> <br>	emp, dept<br><span class="hljs-keyword">where</span><br>	emp.deptno <span class="hljs-operator">=</span> dept.deptno;<br></code></pre></td></tr></table></figure></h2><p>起别名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> 表起别名。很重要。效率问题。<br><span class="hljs-keyword">select</span> <br>	e.ename,d.dname <br><span class="hljs-keyword">from</span> <br>	emp e, dept d<br><span class="hljs-keyword">where</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>SQL92语法。<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> dname      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ad-blue">注意：通过笛卡尔积现象得出，表的连接次数越多效率越低。<br>尽量避免表的连接次数。<br></code></pre></td></tr></table></figure>

<h3 id="5、内连接之等值连接。"><a href="#5、内连接之等值连接。" class="headerlink" title="5、内连接之等值连接。"></a>5、内连接之等值连接。</h3><h4 id="案例：查询每个员工所在部门名称，显示员工名和部门名？"><a href="#案例：查询每个员工所在部门名称，显示员工名和部门名？" class="headerlink" title="案例：查询每个员工所在部门名称，显示员工名和部门名？"></a>案例：查询每个员工所在部门名称，显示员工名和部门名？</h4><p>emp e表和dept d表进行连接。条件是：e.deptno &#x3D; d.deptno</p>
<h5 id="SQL92语法："><a href="#SQL92语法：" class="headerlink" title="SQL92语法："></a>SQL92语法：</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	emp e, dept d<br><span class="hljs-keyword">where</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno;<br><br></code></pre></td></tr></table></figure>
<blockquote>
<p>sql92的缺点：结构不清晰，表的连接条件，和后期进一步筛选的条件，都放到了where后面。</p>
</blockquote>
<h5 id="SQL99语法："><a href="#SQL99语法：" class="headerlink" title="SQL99语法："></a>SQL99语法：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ad-light-gray">&#x27;,&#x27;     -&gt; &#x27;join&#x27;<br>&#x27;where&#x27; -&gt; &#x27;on&#x27;<br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	emp e<br><span class="hljs-keyword">join</span><br>	dept d<br><span class="hljs-keyword">on</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>sql99优点：表连接的条件是独立的，连接之后，如果还需要进一步筛选，再往后继续添加where</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">inner</span>可以省略（带着<span class="hljs-keyword">inner</span>可读性更好！！！一眼就能看出来是内连接）<br><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	emp e<br><span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span><br>	dept d<br><span class="hljs-keyword">on</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 条件是等量关系，所以被称为等值连接。<br></code></pre></td></tr></table></figure>

<p>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	...<br><span class="hljs-keyword">from</span><br>	a<br><span class="hljs-keyword">join</span><br>	b<br><span class="hljs-keyword">on</span><br>	a和b的连接条件<br><span class="hljs-keyword">where</span><br>	筛选条件<br></code></pre></td></tr></table></figure>

<h3 id="6、内连接之非等值连接"><a href="#6、内连接之非等值连接" class="headerlink" title="6、内连接之非等值连接"></a>6、内连接之非等值连接</h3><p>案例：找出每个员工的薪资等级，要求显示员工名、薪资、薪资等级？</p>
<p>表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> emp; e<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="hljs-operator">|</span> EMPNO <span class="hljs-operator">|</span> ENAME  <span class="hljs-operator">|</span> JOB       <span class="hljs-operator">|</span> MGR  <span class="hljs-operator">|</span> HIREDATE   <span class="hljs-operator">|</span> SAL     <span class="hljs-operator">|</span> COMM    <span class="hljs-operator">|</span> DEPTNO <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7369</span> <span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">7902</span> <span class="hljs-operator">|</span> <span class="hljs-number">1980</span><span class="hljs-number">-12</span><span class="hljs-number">-17</span> <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span>    <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7499</span> <span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> <span class="hljs-number">1981</span><span class="hljs-number">-02</span><span class="hljs-number">-20</span> <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">300.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7521</span> <span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> <span class="hljs-number">1981</span><span class="hljs-number">-02</span><span class="hljs-number">-22</span> <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span>  <span class="hljs-number">500.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7566</span> <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span> <span class="hljs-number">1981</span><span class="hljs-number">-04</span><span class="hljs-number">-02</span> <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span>    <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span><br>....<br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> salgrade; s<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-------+</span><br><span class="hljs-operator">|</span> GRADE <span class="hljs-operator">|</span> LOSAL <span class="hljs-operator">|</span> HISAL <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span>   <span class="hljs-number">700</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1200</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1201</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1400</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1401</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2001</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">5</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3001</span> <span class="hljs-operator">|</span>  <span class="hljs-number">9999</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-------+</span><br></code></pre></td></tr></table></figure>
<p>语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename, e.sal, s.grade<br><span class="hljs-keyword">from</span><br>	emp e<br><span class="hljs-keyword">join</span><br>	salgrade s<br><span class="hljs-keyword">on</span><br>	e.sal <span class="hljs-keyword">between</span> s.losal <span class="hljs-keyword">and</span> s.hisal; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 条件不是一个等量关系，称为非等值连接。<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+-------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span> grade <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+-------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+-------+</span><br></code></pre></td></tr></table></figure>

<h3 id="7、内连接之自连接"><a href="#7、内连接之自连接" class="headerlink" title="7、内连接之自连接"></a>7、内连接之自连接</h3><p>案例：查询员工的上级领导，要求显示员工名和对应的领导名？<br>表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> empno,ename,mgr <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> mgr  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7369</span> <span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> <span class="hljs-number">7902</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7499</span> <span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7521</span> <span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7566</span> <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7654</span> <span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7782</span> <span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7788</span> <span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">7566</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7839</span> <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7844</span> <span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7876</span> <span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">7788</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7900</span> <span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7902</span> <span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">7566</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7934</span> <span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">7782</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br></code></pre></td></tr></table></figure>
<p>技巧：一张表看成两张表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs sql">emp a 员工表<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> mgr  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7369</span> <span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> <span class="hljs-number">7902</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7499</span> <span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7521</span> <span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7566</span> <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7654</span> <span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7782</span> <span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7788</span> <span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">7566</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7839</span> <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7844</span> <span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7876</span> <span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">7788</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7900</span> <span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7902</span> <span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">7566</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7934</span> <span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">7782</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><br>emp b 领导表<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><span class="hljs-operator">|</span> empno <span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> mgr  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7369</span> <span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> <span class="hljs-number">7902</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7499</span> <span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7521</span> <span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7566</span> <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7654</span> <span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7698</span> <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7782</span> <span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">7839</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7788</span> <span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">7566</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7839</span> <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7844</span> <span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7876</span> <span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">7788</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7900</span> <span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> <span class="hljs-number">7698</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7902</span> <span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">7566</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">7934</span> <span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">7782</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+--------+------+</span><br></code></pre></td></tr></table></figure>
<p>语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	a.ename <span class="hljs-keyword">as</span> <span class="hljs-string">&#x27;员工名&#x27;</span>, b.ename <span class="hljs-keyword">as</span> <span class="hljs-string">&#x27;领导名&#x27;</span><br><span class="hljs-keyword">from</span><br>	emp a<br><span class="hljs-keyword">join</span><br>	emp b<br><span class="hljs-keyword">on</span><br>	a.mgr <span class="hljs-operator">=</span> b.empno; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>员工的领导编号 <span class="hljs-operator">=</span> 领导的员工编号<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br><span class="hljs-operator">|</span> 员工名 <span class="hljs-operator">|</span> 领导名<span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br></code></pre></td></tr></table></figure>
<p>13条记录，没有KING。《内连接》<br>以上就是内连接中的：自连接，技巧：一张表看做两张表。</p>
<h3 id="8、外连接"><a href="#8、外连接" class="headerlink" title="8、外连接"></a>8、外连接</h3><blockquote>
<p>内连接：（A和B连接，AB两张表没有主次关系。平等的。）<br>内连接的特点：完成能够匹配上这个条件的数据查询出来。</p>
</blockquote>
<hr>
<h4 id="外连接（右外连接）："><a href="#外连接（右外连接）：" class="headerlink" title="外连接（右外连接）："></a>外连接（右外连接）：</h4><p>right代表什么：表示将join关键字右边的这张表看成主表，主要是为了将这张表的数据全部查询出来，捎带着关联查询左边的表。<br>&#x3D;&#x3D;在外连接当中，两张表连接，产生了主次关系。&#x3D;&#x3D;<br>案例：查询每个员工的名字和员工所在的部门名字，要求显示所有员工的名字和部门名字。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	emp e <br><span class="hljs-keyword">right</span> <span class="hljs-keyword">join</span> <br>	dept d<br><span class="hljs-keyword">on</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno;<br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">outer</span>是可以省略的，带着可读性强。<br><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	emp e <br><span class="hljs-keyword">right</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> <br>	dept d<br><span class="hljs-keyword">on</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno;<br><br></code></pre></td></tr></table></figure>
<h4 id="外连接（左外连接）"><a href="#外连接（左外连接）" class="headerlink" title="外连接（左外连接）"></a>外连接（左外连接）</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	dept d <br><span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> <br>	emp e<br><span class="hljs-keyword">on</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno;<br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">outer</span>是可以省略的，带着可读性强。<br><span class="hljs-keyword">select</span> <br>	e.ename,d.dname<br><span class="hljs-keyword">from</span><br>	dept d <br><span class="hljs-keyword">left</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> <br>	emp e<br><span class="hljs-keyword">on</span><br>	e.deptno <span class="hljs-operator">=</span> d.deptno;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> dname      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>   <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ad-Light-red">带有right的是右外连接，又叫做右连接。<br>带有left的是左外连接，又叫做左连接。<br>任何一个右连接都有左连接的写法。<br>任何一个左连接都有右连接的写法。<br></code></pre></td></tr></table></figure>

<p>思考：外连接的查询结果条数一定是 &gt;&#x3D; 内连接的查询结果条数？<br>答：正确。</p>
<hr>
<p>案例：查询每个员工的上级领导，要求显示所有员工的名字和领导名。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	a.ename <span class="hljs-keyword">as</span> <span class="hljs-string">&#x27;员工名&#x27;</span>, b.ename <span class="hljs-keyword">as</span> <span class="hljs-string">&#x27;领导名&#x27;</span><br><span class="hljs-keyword">from</span><br>	emp a<br><span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span><br>	emp b<br><span class="hljs-keyword">on</span><br>	a.mgr <span class="hljs-operator">=</span> b.empno; <br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br><span class="hljs-operator">|</span> 员工名  <span class="hljs-operator">|</span> 领导名  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+</span><br></code></pre></td></tr></table></figure>

<h3 id="9、三张表，四张表怎么连接？"><a href="#9、三张表，四张表怎么连接？" class="headerlink" title="9、三张表，四张表怎么连接？"></a>9、三张表，四张表怎么连接？</h3><p>语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	...<br><span class="hljs-keyword">from</span><br>	a<br><span class="hljs-keyword">join</span><br>	b<br><span class="hljs-keyword">on</span><br>	a和b的连接条件<br><span class="hljs-keyword">join</span><br>	c<br><span class="hljs-keyword">on</span><br>	a和c的连接条件<br><span class="hljs-keyword">right</span> <span class="hljs-keyword">join</span><br>	d<br><span class="hljs-keyword">on</span><br>	a和d的连接条件<br></code></pre></td></tr></table></figure>
<p>&#x3D;&#x3D;一条SQL中内连接和外连接可以混合。都可以出现！&#x3D;&#x3D;</p>
<h4 id="案例：找出每个员工的部门名称以及工资等级，要求显示员工名、部门名、薪资、薪资等级？"><a href="#案例：找出每个员工的部门名称以及工资等级，要求显示员工名、部门名、薪资、薪资等级？" class="headerlink" title="案例：找出每个员工的部门名称以及工资等级，要求显示员工名、部门名、薪资、薪资等级？"></a>案例：找出每个员工的部门名称以及工资等级，要求显示员工名、部门名、薪资、薪资等级？</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs sql"><br><span class="hljs-keyword">select</span> <br>	e.ename,e.sal,d.dname,s.grade<br><span class="hljs-keyword">from</span><br>	emp e<br><span class="hljs-keyword">join</span><br>	dept d<br><span class="hljs-keyword">on</span> <br>	e.deptno <span class="hljs-operator">=</span> d.deptno<br><span class="hljs-keyword">join</span><br>	salgrade s<br><span class="hljs-keyword">on</span><br>	e.sal <span class="hljs-keyword">between</span> s.losal <span class="hljs-keyword">and</span> s.hisal;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+------------+-------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span> dname      <span class="hljs-operator">|</span> grade <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+------------+-------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span>     <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+------------+-------+</span><br></code></pre></td></tr></table></figure>

<h4 id="案例：找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级？"><a href="#案例：找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级？" class="headerlink" title="案例：找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级？"></a>案例：找出每个员工的部门名称以及工资等级，还有上级领导，要求显示员工名、领导名、部门名、薪资、薪资等级？</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename,e.sal,d.dname,s.grade,l.ename<br><span class="hljs-keyword">from</span><br>	emp e<br><span class="hljs-keyword">join</span><br>	dept d<br><span class="hljs-keyword">on</span> <br>	e.deptno <span class="hljs-operator">=</span> d.deptno<br><span class="hljs-keyword">join</span><br>	salgrade s<br><span class="hljs-keyword">on</span><br>	e.sal <span class="hljs-keyword">between</span> s.losal <span class="hljs-keyword">and</span> s.hisal<br><span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span><br>	emp l<br><span class="hljs-keyword">on</span><br>	e.mgr <span class="hljs-operator">=</span> l.empno;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+------------+-------+-------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span> dname      <span class="hljs-operator">|</span> grade <span class="hljs-operator">|</span> ename <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+------------+-------+-------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>  <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span> FORD  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span> KING  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span> KING  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span> KING  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span> JONES <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span>     <span class="hljs-number">5</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span> SCOTT <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span> JONES <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span> CLARK <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+------------+-------+-------+</span><br></code></pre></td></tr></table></figure>

<h2 id="12、子查询"><a href="#12、子查询" class="headerlink" title="12、子查询"></a>12、子查询</h2><h3 id="1、什么是子查询？"><a href="#1、什么是子查询？" class="headerlink" title="1、什么是子查询？"></a>1、什么是子查询？</h3><p>select语句中嵌套select语句，被嵌套的select语句称为子查询。</p>
<h3 id="2、子查询都可以出现在哪里"><a href="#2、子查询都可以出现在哪里" class="headerlink" title="2、子查询都可以出现在哪里"></a>2、子查询都可以出现在哪里</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span><br>	..(<span class="hljs-keyword">select</span>).<br><span class="hljs-keyword">from</span><br>	..(<span class="hljs-keyword">select</span>).<br><span class="hljs-keyword">where</span><br>	..(<span class="hljs-keyword">select</span>).<br></code></pre></td></tr></table></figure>

<h3 id="3、where子句中的子查询"><a href="#3、where子句中的子查询" class="headerlink" title="3、where子句中的子查询"></a>3、where子句中的子查询</h3><p>案例：找出比最低工资高的员工姓名和工资？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	ename,sal<br><span class="hljs-keyword">from</span><br>	emp <br><span class="hljs-keyword">where</span><br>	sal <span class="hljs-operator">&gt;</span> <span class="hljs-built_in">min</span>(sal);<br>ERROR <span class="hljs-number">1111</span> (HY000): Invalid use <span class="hljs-keyword">of</span> <span class="hljs-keyword">group</span> <span class="hljs-keyword">function</span><br><span class="hljs-keyword">where</span>子句中不能直接使用分组函数。	<br></code></pre></td></tr></table></figure>

<p><strong>实现思路：</strong><br>第一步：查询最低工资是多少</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">min</span>(sal) <span class="hljs-keyword">from</span> emp;<br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span> <span class="hljs-built_in">min</span>(sal) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br><span class="hljs-operator">|</span>   <span class="hljs-number">800.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----------+</span><br></code></pre></td></tr></table></figure>
<p>第二步：找出&gt;800的</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;</span> <span class="hljs-number">800</span>;<br></code></pre></td></tr></table></figure>
<p>第三步：合并</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> sal <span class="hljs-operator">&gt;</span> (<span class="hljs-keyword">select</span> <span class="hljs-built_in">min</span>(sal) <span class="hljs-keyword">from</span> emp);<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span> <span class="hljs-number">1100.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>  <span class="hljs-number">950.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br></code></pre></td></tr></table></figure>

<h3 id="4、from子句中的子查询"><a href="#4、from子句中的子查询" class="headerlink" title="4、from子句中的子查询"></a>4、from子句中的子查询</h3><blockquote>
<p>注意：from后面的子查询，可以将子查询的查询结果当做一张临时表。（技巧）</p>
</blockquote>
<p>案例：找出每个岗位的平均工资的薪资等级。</p>
<p>第一步：找出每个岗位的平均工资（按照岗位分组求平均值）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> job,<span class="hljs-built_in">avg</span>(sal) <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> job;<br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+-------------+</span><br><span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> avgsal      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+-------------+</span><br><span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span> <span class="hljs-number">3000.000000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">1037.500000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2758.333333</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span> <span class="hljs-number">5000.000000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1400.000000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+-------------+</span><br>t表<br></code></pre></td></tr></table></figure>

<p>第二步：克服心理障碍，把以上的查询结果就当做一张真实存在的表t。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> salgrade;<br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-------+</span><br><span class="hljs-operator">|</span> GRADE <span class="hljs-operator">|</span> LOSAL <span class="hljs-operator">|</span> HISAL <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span>   <span class="hljs-number">700</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1200</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1201</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1400</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">3</span> <span class="hljs-operator">|</span>  <span class="hljs-number">1401</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span>  <span class="hljs-number">2001</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3000</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">5</span> <span class="hljs-operator">|</span>  <span class="hljs-number">3001</span> <span class="hljs-operator">|</span>  <span class="hljs-number">9999</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+-------+-------+</span><br>s表<br></code></pre></td></tr></table></figure>
<p>t表和s表进行表连接，条件：t表avg(sal) between s.losal and s.hisal;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	t.<span class="hljs-operator">*</span>, s.grade<br><span class="hljs-keyword">from</span><br>	(<span class="hljs-keyword">select</span> job,<span class="hljs-built_in">avg</span>(sal) <span class="hljs-keyword">as</span> avgsal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> job) t   <br><span class="hljs-keyword">join</span><br>	salgrade s<br><span class="hljs-keyword">on</span><br>	t.avgsal <span class="hljs-keyword">between</span> s.losal <span class="hljs-keyword">and</span> s.hisal;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+-------------+-------+</span><br><span class="hljs-operator">|</span> job       <span class="hljs-operator">|</span> avgsal      <span class="hljs-operator">|</span> grade <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+-------------+-------+</span><br><span class="hljs-operator">|</span> CLERK     <span class="hljs-operator">|</span> <span class="hljs-number">1037.500000</span> <span class="hljs-operator">|</span>     <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SALESMAN  <span class="hljs-operator">|</span> <span class="hljs-number">1400.000000</span> <span class="hljs-operator">|</span>     <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ANALYST   <span class="hljs-operator">|</span> <span class="hljs-number">3000.000000</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MANAGER   <span class="hljs-operator">|</span> <span class="hljs-number">2758.333333</span> <span class="hljs-operator">|</span>     <span class="hljs-number">4</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> PRESIDENT <span class="hljs-operator">|</span> <span class="hljs-number">5000.000000</span> <span class="hljs-operator">|</span>     <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-----------+-------------+-------+</span><br></code></pre></td></tr></table></figure>

<h3 id="5、select后面出现的子查询（这个内容不需要掌握，了解即可！！！）"><a href="#5、select后面出现的子查询（这个内容不需要掌握，了解即可！！！）" class="headerlink" title="5、select后面出现的子查询（这个内容不需要掌握，了解即可！！！）"></a>5、select后面出现的子查询（这个内容不需要掌握，了解即可！！！）</h3><p>案例：找出每个员工的部门名称，要求显示员工名，部门名？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	e.ename,e.deptno,(<span class="hljs-keyword">select</span> d.dname <span class="hljs-keyword">from</span> dept d <span class="hljs-keyword">where</span> e.deptno <span class="hljs-operator">=</span> d.deptno) <span class="hljs-keyword">as</span> dname <br><span class="hljs-keyword">from</span> <br>	emp e;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+------------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> deptno <span class="hljs-operator">|</span> dname      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+------------+</span><br><span class="hljs-operator">|</span> SMITH  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> KING   <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ADAMS  <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JAMES  <span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD   <span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+--------+------------+</span><br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>错误：ERROR <span class="hljs-number">1242</span> (<span class="hljs-number">21000</span>): Subquery <span class="hljs-keyword">returns</span> more than <span class="hljs-number">1</span> <span class="hljs-type">row</span><br><span class="hljs-keyword">select</span> <br>	e.ename,e.deptno,(<span class="hljs-keyword">select</span> dname <span class="hljs-keyword">from</span> dept) <span class="hljs-keyword">as</span> dname<br><span class="hljs-keyword">from</span><br>	emp e;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：对于select后面的子查询来说，这个子查询只能一次返回1条结果，<br>多于1条，就报错了。！</p>
</blockquote>
<h2 id="13、union合并查询结果集"><a href="#13、union合并查询结果集" class="headerlink" title="13、union合并查询结果集"></a>13、union合并查询结果集</h2><p>案例：查询工作岗位是MANAGER和SALESMAN的员工？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> ename,job <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;MANAGER&#x27;</span> <span class="hljs-keyword">or</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;SALESMAN&#x27;</span>;<br><span class="hljs-keyword">select</span> ename,job <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-keyword">in</span>(<span class="hljs-string">&#x27;MANAGER&#x27;</span>,<span class="hljs-string">&#x27;SALESMAN&#x27;</span>);<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> job      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> MANAGER  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> MANAGER  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> MANAGER  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><br><span class="hljs-keyword">select</span> ename,job <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;MANAGER&#x27;</span><br><span class="hljs-keyword">union</span><br><span class="hljs-keyword">select</span> ename,job <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;SALESMAN&#x27;</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> job      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> MANAGER  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> MANAGER  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> MANAGER  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> SALESMAN <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+----------+</span><br></code></pre></td></tr></table></figure>
<p>union的效率要高一些。对于表连接来说，每连接一次新表，<br>则匹配的次数满足笛卡尔积，成倍的翻。。。</p>
<p>union可以减少匹配的次数。在减少匹配次数的情况下，<br>还可以完成两个结果集的拼接。</p>
<hr>
<p>a 连接 b 连接 c<br>a 10条记录<br>b 10条记录<br>c 10条记录<br>匹配次数是：1000</p>
<p>a 连接 b一个结果：10 * 10 –&gt; 100次<br>a 连接 c一个结果：10 * 10 –&gt; 100次<br>使用union的话是：100次 + 100次 &#x3D; 200次。（union把乘法变成了加法运算）</p>
<p>union在使用的时候的注意事项：</p>
<ul>
<li>要求两个结果集的列数相同。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> 错误的：<span class="hljs-keyword">union</span>在进行结果集合并的时候<br><span class="hljs-keyword">select</span> ename,job <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;MANAGER&#x27;</span><br><span class="hljs-keyword">union</span><br><span class="hljs-keyword">select</span> ename <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;SALESMAN&#x27;</span>;<br></code></pre></td></tr></table></figure></li>
<li>要求：结果集合并时列和列的数据类型也要一致。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-operator">/</span><span class="hljs-operator">/</span> MySQL可以，oracle语法严格 ，不可以，报错。<br><span class="hljs-keyword">select</span> ename,job <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;MANAGER&#x27;</span><br><span class="hljs-keyword">union</span><br><span class="hljs-keyword">select</span> ename,sal <span class="hljs-keyword">from</span> emp <span class="hljs-keyword">where</span> job <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;SALESMAN&#x27;</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> job     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> JONES  <span class="hljs-operator">|</span> MANAGER <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> MANAGER <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> MANAGER <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600</span>    <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> WARD   <span class="hljs-operator">|</span> <span class="hljs-number">1250</span>    <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MARTIN <span class="hljs-operator">|</span> <span class="hljs-number">1250</span>    <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500</span>    <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="14、limit（非常重要）"><a href="#14、limit（非常重要）" class="headerlink" title="14、limit（非常重要）"></a>14、limit（非常重要）</h2><h3 id="1、limit作用：将查询结果集的一部分取出来。通常使用在分页查询当中。"><a href="#1、limit作用：将查询结果集的一部分取出来。通常使用在分页查询当中。" class="headerlink" title="1、limit作用：将查询结果集的一部分取出来。通常使用在分页查询当中。"></a>1、limit作用：将查询结果集的一部分取出来。通常使用在分页查询当中。</h3><p>百度默认：一页显示10条记录。<br>分页的作用是为了提高用户的体验，因为一次全部都查出来，用户体验差。<br>可以一页一页翻页看。</p>
<h3 id="2、limit怎么用呢？"><a href="#2、limit怎么用呢？" class="headerlink" title="2、limit怎么用呢？"></a>2、limit怎么用呢？</h3><p>完整用法：<code>limit startIndex, length</code>startIndex是起始下标，length是长度。起始下标从0开始。</p>
<p>缺省用法：limit 5; 这是取前5.</p>
<p>按照薪资降序，取出排名在前5名的员工？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	ename,sal<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <br>	sal <span class="hljs-keyword">desc</span><br>limit <span class="hljs-number">5</span>; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>取前<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	ename,sal<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <br>	sal <span class="hljs-keyword">desc</span><br>limit <span class="hljs-number">0</span>,<span class="hljs-number">5</span>;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+---------+</span><br><span class="hljs-operator">|</span> ename <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+---------+</span><br><span class="hljs-operator">|</span> KING  <span class="hljs-operator">|</span> <span class="hljs-number">5000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> SCOTT <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> FORD  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+---------+</span><br></code></pre></td></tr></table></figure>
<h3 id="3、注意：MySQL当中limit在order-by之后执行！！！！！！"><a href="#3、注意：MySQL当中limit在order-by之后执行！！！！！！" class="headerlink" title="3、注意：MySQL当中limit在order by之后执行！！！！！！"></a>3、注意：MySQL当中limit在order by之后执行！！！！！！</h3><h3 id="4、取出工资排名在-3-5-名的员工？"><a href="#4、取出工资排名在-3-5-名的员工？" class="headerlink" title="4、取出工资排名在[3-5]名的员工？"></a>4、取出工资排名在[3-5]名的员工？</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	ename,sal<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span><br>	sal <span class="hljs-keyword">desc</span><br>limit<br>	<span class="hljs-number">2</span>, <span class="hljs-number">3</span>;<br><br><span class="hljs-number">2</span>表示起始位置从下标<span class="hljs-number">2</span>开始，就是第三条记录。<br><span class="hljs-number">3</span>表示长度。<br><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+---------+</span><br><span class="hljs-operator">|</span> ename <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+---------+</span><br><span class="hljs-operator">|</span> FORD  <span class="hljs-operator">|</span> <span class="hljs-number">3000.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> JONES <span class="hljs-operator">|</span> <span class="hljs-number">2975.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> BLAKE <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">-------+---------+</span><br></code></pre></td></tr></table></figure>
<h3 id="5、取出工资排名在-5-9-名的员工？"><a href="#5、取出工资排名在-5-9-名的员工？" class="headerlink" title="5、取出工资排名在[5-9]名的员工？"></a>5、取出工资排名在[5-9]名的员工？</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <br>	ename,sal<br><span class="hljs-keyword">from</span><br>	emp<br><span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <br>	sal <span class="hljs-keyword">desc</span><br>limit<br>	<span class="hljs-number">4</span>, <span class="hljs-number">5</span>;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> ename  <span class="hljs-operator">|</span> sal     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br><span class="hljs-operator">|</span> BLAKE  <span class="hljs-operator">|</span> <span class="hljs-number">2850.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> CLARK  <span class="hljs-operator">|</span> <span class="hljs-number">2450.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> ALLEN  <span class="hljs-operator">|</span> <span class="hljs-number">1600.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> TURNER <span class="hljs-operator">|</span> <span class="hljs-number">1500.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> MILLER <span class="hljs-operator">|</span> <span class="hljs-number">1300.00</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+---------+</span><br></code></pre></td></tr></table></figure>
<h3 id="6、分页"><a href="#6、分页" class="headerlink" title="6、分页"></a>6、分页</h3><p>每页显示3条记录</p>
<ul>
<li>第1页：limit 0,3		[0 1 2]</li>
<li>第2页：limit 3,3		[3 4 5]</li>
<li>第3页：limit 6,3		[6 7 8]</li>
<li>第4页：limit 9,3		[9 10 11]</li>
</ul>
<p>每页显示pageSize条记录<br>第pageNo页：limit (pageNo - 1) * pageSize  , pageSize</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>	<span class="hljs-comment">// 用户提交过来一个页码，以及每页显示的记录条数</span><br>	<span class="hljs-type">int</span> <span class="hljs-variable">pageNo</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>; <span class="hljs-comment">//第5页</span><br>	<span class="hljs-type">int</span> <span class="hljs-variable">pageSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>; <span class="hljs-comment">//每页显示10条</span><br><br>	<span class="hljs-type">int</span> <span class="hljs-variable">startIndex</span> <span class="hljs-operator">=</span> (pageNo - <span class="hljs-number">1</span>) * pageSize;<br>	<span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;select ...limit &quot;</span> + startIndex + <span class="hljs-string">&quot;, &quot;</span> + pageSize;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>记公式：<br><code>limit (pageNo-1)*pageSize , pageSize</code></p>
<h2 id="15、创表删表-表结构增删改"><a href="#15、创表删表-表结构增删改" class="headerlink" title="15、创表删表+表结构增删改"></a>15、创表删表+表结构增删改</h2><h3 id="创表删表"><a href="#创表删表" class="headerlink" title="创表删表"></a>创表删表</h3><h4 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h4><p>属于DDL语句，DDL包括：create drop alter<br>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> 表名(字段名<span class="hljs-number">1</span> 数据类型, 字段名<span class="hljs-number">2</span> 数据类型, 字段名<span class="hljs-number">3</span> 数据类型);<br><br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> 表名(<br>	字段名<span class="hljs-number">1</span> 数据类型, <br>	字段名<span class="hljs-number">2</span> 数据类型, <br>	字段名<span class="hljs-number">3</span> 数据类型<br>);<br><br>表名：建议以t_ 或者 tbl_开始，可读性强。见名知意。<br>字段名：见名知意。<br>表名和字段名都属于标识符。<br></code></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">学号、姓名、年龄、性别、邮箱地址<br><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_student(<br>	<span class="hljs-keyword">no</span> <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">32</span>),<br>	sex <span class="hljs-type">char</span>(<span class="hljs-number">1</span>),<br>	age <span class="hljs-type">int</span>(<span class="hljs-number">3</span>),<br>	email <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>)<br>);<br></code></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql">删除表：<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> t_student; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 当这张表不存在的时候会报错！<br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span> 如果这张表存在的话，删除<br><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">exists</span> t_student;<br></code></pre></td></tr></table></figure>
<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> 表名; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 这不是删除表中的数据，这是把表删除。<br></code></pre></td></tr></table></figure>

<h4 id="快速创建表？【了解内容】"><a href="#快速创建表？【了解内容】" class="headerlink" title="快速创建表？【了解内容】"></a>快速创建表？【了解内容】</h4><p>原理：<br>将一个查询结果当做一张表新建！！！！！<br>这个可以完成表的快速复制！！！！<br>表创建出来，同时表中的数据也存在了！！！</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> emp2 <span class="hljs-keyword">as</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> emp;<br></code></pre></td></tr></table></figure>

<h3 id="表结构增删改"><a href="#表结构增删改" class="headerlink" title="表结构增删改"></a>表结构增删改</h3><h4 id="什么是对表结构的修改？"><a href="#什么是对表结构的修改？" class="headerlink" title="什么是对表结构的修改？"></a>什么是对表结构的修改？</h4><p>添加一个字段，删除一个字段，修改一个字段！！！</p>
<p>对表结构的修改需要使用：alter</p>
<p>属于DDL语句</p>
<p>DDL包括：<code>create drop alter</code></p>
<ul>
<li><p>第一：在实际的开发中，需求一旦确定之后，表一旦设计好之后，很少的进行表结构的修改。因为开发进行中的时候，修改表结构，成本比较高。修改表的结构，对应的java代码就需要进行大量的修改。成本是比较高的。这个责任应该由设计人员来承担！</p>
</li>
<li><p>第二：由于修改表结构的操作很少，所以我们不需要掌握，如果有一天真的要修改表结构，你可以使用工具！！！！</p>
</li>
<li><p>修改表结构的操作是不需要写到java程序中的。实际上也不是java程序员的范畴。</p>
</li>
</ul>
<h2 id="16、表数据增删改"><a href="#16、表数据增删改" class="headerlink" title="16、表数据增删改"></a>16、表数据增删改</h2><h3 id="insert"><a href="#insert" class="headerlink" title="insert"></a>insert</h3><h4 id="insert-使用"><a href="#insert-使用" class="headerlink" title="insert 使用"></a>insert 使用</h4><p>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> 表名(字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span>,字段名<span class="hljs-number">3.</span>..) <span class="hljs-keyword">values</span>(值<span class="hljs-number">1</span>,值<span class="hljs-number">2</span>,值<span class="hljs-number">3</span>);<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：字段名和值要一一对应。什么是一一对应？<br>数量要对应。数据类型要对应。</p>
</blockquote>
<p>实例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_student(<span class="hljs-keyword">no</span>,name,sex,age,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">20</span>,<span class="hljs-string">&#x27;zhangsan@123.com&#x27;</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_student(email,name,sex,age,<span class="hljs-keyword">no</span>) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;lisi@123.com&#x27;</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">20</span>,<span class="hljs-number">2</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_student(<span class="hljs-keyword">no</span>) <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>);<br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------+------+------------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-keyword">no</span>   <span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span> sex  <span class="hljs-operator">|</span> age  <span class="hljs-operator">|</span> email            <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------+------+------------------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span> m    <span class="hljs-operator">|</span>   <span class="hljs-number">20</span> <span class="hljs-operator">|</span> zhangsan<span class="hljs-variable">@123</span>.com <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> lisi     <span class="hljs-operator">|</span> f    <span class="hljs-operator">|</span>   <span class="hljs-number">20</span> <span class="hljs-operator">|</span> lisi<span class="hljs-variable">@123</span>.com     <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">3</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>             <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------+------+------------------+</span><br><br></code></pre></td></tr></table></figure>

<blockquote>
<p>注意：insert语句但凡是执行成功了，那么必然会多一条记录。<br>没有给其它字段指定值的话，默认值是NULL。</p>
</blockquote>
<h4 id="省略insert语句中的“字段名”"><a href="#省略insert语句中的“字段名”" class="headerlink" title="省略insert语句中的“字段名”"></a>省略insert语句中的“字段名”</h4><p>前面的字段名省略的话，等于都写上了！所以值也要都写上！</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_student <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>); <span class="hljs-operator">/</span><span class="hljs-operator">/</span>错误的<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_student <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;lisi&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-number">20</span>, <span class="hljs-string">&#x27;lisi@123.com&#x27;</span>);<br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+------+--------------+</span><br><span class="hljs-operator">|</span> <span class="hljs-keyword">no</span>   <span class="hljs-operator">|</span> name <span class="hljs-operator">|</span> sex  <span class="hljs-operator">|</span> age  <span class="hljs-operator">|</span> email        <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+------+--------------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> m    <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>         <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> lisi <span class="hljs-operator">|</span> f    <span class="hljs-operator">|</span>   <span class="hljs-number">20</span> <span class="hljs-operator">|</span> lisi<span class="hljs-variable">@123</span>.com <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+------+------+--------------+</span><br></code></pre></td></tr></table></figure>

<h4 id="insert语句一次插入多条记录"><a href="#insert语句一次插入多条记录" class="headerlink" title="insert语句一次插入多条记录"></a>insert语句一次插入多条记录</h4><p>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_user(字段名<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span>) <span class="hljs-keyword">values</span>(),(),(),();<br></code></pre></td></tr></table></figure>
<p>实例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_user(id,name,birth,create_time) <span class="hljs-keyword">values</span><br>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;zs&#x27;</span>,<span class="hljs-string">&#x27;1980-10-11&#x27;</span>,now()), <br>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>,<span class="hljs-string">&#x27;1981-10-11&#x27;</span>,now()),<br>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;wangwu&#x27;</span>,<span class="hljs-string">&#x27;1982-10-11&#x27;</span>,now());<br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_user;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+--------+------------+---------------------+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> name   <span class="hljs-operator">|</span> birth      <span class="hljs-operator">|</span> create_time         <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+--------+------------+---------------------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span> zs     <span class="hljs-operator">|</span> <span class="hljs-number">1980</span><span class="hljs-number">-10</span><span class="hljs-number">-11</span> <span class="hljs-operator">|</span> <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-19</span> <span class="hljs-number">09</span>:<span class="hljs-number">37</span>:<span class="hljs-number">01</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> lisi   <span class="hljs-operator">|</span> <span class="hljs-number">1981</span><span class="hljs-number">-10</span><span class="hljs-number">-11</span> <span class="hljs-operator">|</span> <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-19</span> <span class="hljs-number">09</span>:<span class="hljs-number">37</span>:<span class="hljs-number">01</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">3</span> <span class="hljs-operator">|</span> wangwu <span class="hljs-operator">|</span> <span class="hljs-number">1982</span><span class="hljs-number">-10</span><span class="hljs-number">-11</span> <span class="hljs-operator">|</span> <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-19</span> <span class="hljs-number">09</span>:<span class="hljs-number">37</span>:<span class="hljs-number">01</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+--------+------------+---------------------+</span><br></code></pre></td></tr></table></figure>

<h4 id="将查询结果插入到一张表当中？insert相关的！！！【了解内容】"><a href="#将查询结果插入到一张表当中？insert相关的！！！【了解内容】" class="headerlink" title="将查询结果插入到一张表当中？insert相关的！！！【了解内容】"></a>将查询结果插入到一张表当中？insert相关的！！！【了解内容】</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> dept_bak <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dept; <span class="hljs-operator">/</span><span class="hljs-operator">/</span>很少用！<br><br>MySQL<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> dept_bak;<br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+----------+</span><br><span class="hljs-operator">|</span> DEPTNO <span class="hljs-operator">|</span> DNAME      <span class="hljs-operator">|</span> LOC      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+----------+</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span> <span class="hljs-keyword">NEW</span> YORK <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span> DALLAS   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span> CHICAGO  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">40</span> <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span> BOSTON   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">10</span> <span class="hljs-operator">|</span> ACCOUNTING <span class="hljs-operator">|</span> <span class="hljs-keyword">NEW</span> YORK <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">20</span> <span class="hljs-operator">|</span> RESEARCH   <span class="hljs-operator">|</span> DALLAS   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">30</span> <span class="hljs-operator">|</span> SALES      <span class="hljs-operator">|</span> CHICAGO  <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>     <span class="hljs-number">40</span> <span class="hljs-operator">|</span> OPERATIONS <span class="hljs-operator">|</span> BOSTON   <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">--------+------------+----------+</span><br></code></pre></td></tr></table></figure>

<h3 id="update（DML）"><a href="#update（DML）" class="headerlink" title="update（DML）"></a>update（DML）</h3><p>语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> 表名 <br><br><span class="hljs-keyword">set</span> 字段名<span class="hljs-number">1</span><span class="hljs-operator">=</span>值<span class="hljs-number">1</span>,字段名<span class="hljs-number">2</span><span class="hljs-operator">=</span>值<span class="hljs-number">2</span>,字段名<span class="hljs-number">3</span><span class="hljs-operator">=</span>值<span class="hljs-number">3.</span>.. <br><br><span class="hljs-keyword">where</span> <br>	条件;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：没有条件限制会导致所有数据全部更新。</p>
</blockquote>
<p>实例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> t_user <span class="hljs-keyword">set</span> name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;jack&#x27;</span>, birth <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;2000-10-11&#x27;</span> <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------+---------------------+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span> birth      <span class="hljs-operator">|</span> create_time         <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------+---------------------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span> <span class="hljs-number">1990</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span> <span class="hljs-operator">|</span> <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span> <span class="hljs-number">15</span>:<span class="hljs-number">49</span>:<span class="hljs-number">50</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> jack     <span class="hljs-operator">|</span> <span class="hljs-number">2000</span><span class="hljs-number">-10</span><span class="hljs-number">-11</span> <span class="hljs-operator">|</span> <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span> <span class="hljs-number">15</span>:<span class="hljs-number">51</span>:<span class="hljs-number">23</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------+---------------------+</span><br></code></pre></td></tr></table></figure>

<h3 id="delete-（DML）"><a href="#delete-（DML）" class="headerlink" title="delete （DML）"></a>delete （DML）</h3><p>语法格式:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <br><br><span class="hljs-keyword">from</span> 表名 <br><br><span class="hljs-keyword">where</span> <br>	条件;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>注意：没有条件，整张表的数据会全部删除！</p>
</blockquote>
<p>实例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> t_user <span class="hljs-keyword">where</span> id <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> t_user; <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 删除所有！<br></code></pre></td></tr></table></figure>
<h4 id="快速删除表中的数据？【truncate比较重要，必须掌握】"><a href="#快速删除表中的数据？【truncate比较重要，必须掌握】" class="headerlink" title="快速删除表中的数据？【truncate比较重要，必须掌握】"></a>快速删除表中的数据？【truncate比较重要，必须掌握】</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">truncate</span> <span class="hljs-keyword">table</span> dept_bak; （这种操作属于DDL操作。）<br></code></pre></td></tr></table></figure>
<p>delete语句删除数据的原理：（delete属于DML语句！！！）<br>表中的数据被删除了，但是这个数据在硬盘上的真实存储空间不会被释放！！！</p>
<ul>
<li>缺点是：删除效率比较低。</li>
<li>优点是：支持回滚，后悔了可以再恢复数据！！！</li>
</ul>
<hr>
<p>truncate语句删除数据的原理：<br>这种删除效率比较高，表被一次截断，物理删除。</p>
<ul>
<li>优点：快速。</li>
<li>缺点：不支持回滚。</li>
</ul>
<h2 id="17、-约束⭐⭐⭐⭐⭐"><a href="#17、-约束⭐⭐⭐⭐⭐" class="headerlink" title="17、 约束⭐⭐⭐⭐⭐"></a>17、 约束⭐⭐⭐⭐⭐</h2><h3 id="1、基本概念"><a href="#1、基本概念" class="headerlink" title="1、基本概念"></a>1、基本概念</h3><p>约束对应的英语单词：constraint</p>
<p>在创建表的时候，我们可以给表中的字段加上一些约束，来保证这个表中数据的完整性、有效性！！！🏷</p>
<p>约束的作用就是为了保证：表中的数据有效！！</p>
<h3 id="2、约束包括哪些？"><a href="#2、约束包括哪些？" class="headerlink" title="2、约束包括哪些？"></a>2、约束包括哪些？</h3><ul>
<li>非空约束：not null ✔</li>
<li>唯一性约束: unique ✔</li>
<li>主键约束: primary key （简称PK）✔</li>
<li>外键约束：foreign key（简称FK）✔</li>
<li>检查约束：check（MySQL不支持，oracle支持）</li>
</ul>
<h3 id="3、非空约束：not-null"><a href="#3、非空约束：not-null" class="headerlink" title="3、非空约束：not null"></a>3、非空约束：not null</h3><p>非空约束not null约束的字段不能为NULL。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>	id <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>  <span class="hljs-operator">/</span><span class="hljs-operator">/</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>只有列级约束，没有表级约束！<br>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id) <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>);<br>ERROR <span class="hljs-number">1364</span> (HY000): Field <span class="hljs-string">&#x27;name&#x27;</span> doesn<span class="hljs-string">&#x27;t have a default value</span><br></code></pre></td></tr></table></figure>
<h3 id="4、唯一性约束-unique"><a href="#4、唯一性约束-unique" class="headerlink" title="4、唯一性约束: unique"></a>4、唯一性约束: unique</h3><p>唯一性约束unique约束的字段不能重复，但是可以为NULL。</p>
<h4 id="列级约束"><a href="#列级约束" class="headerlink" title="列级约束"></a>列级约束</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>	id <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">unique</span>, <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 约束添加在列的后面，这种约束被称为列级约束。<br>	email <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>)<br>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;wangwu&#x27;</span>,<span class="hljs-string">&#x27;wangwu@123.com&#x27;</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;wangwu&#x27;</span>,<span class="hljs-string">&#x27;wangwu@sina.com&#x27;</span>);<br>ERROR <span class="hljs-number">1062</span> (<span class="hljs-number">23000</span>): Duplicate entry <span class="hljs-string">&#x27;wangwu&#x27;</span> <span class="hljs-keyword">for</span> key <span class="hljs-string">&#x27;name&#x27;</span><br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id) <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>);<br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------------+</span><br><span class="hljs-operator">|</span> id   <span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span> email            <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------------+</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">1</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span> zhangsan<span class="hljs-variable">@123</span>.com <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> lisi     <span class="hljs-operator">|</span> lisi<span class="hljs-variable">@123</span>.com     <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">3</span> <span class="hljs-operator">|</span> wangwu   <span class="hljs-operator">|</span> wangwu<span class="hljs-variable">@123</span>.com   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>    <span class="hljs-number">4</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>             <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+----------+------------------+</span><br></code></pre></td></tr></table></figure>
<h4 id="表级约束"><a href="#表级约束" class="headerlink" title="表级约束"></a>表级约束</h4><p>多个字段联合起来唯一！！！</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>	id <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),<br>	email <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),<br>	<span class="hljs-keyword">unique</span>(name,email) <span class="hljs-operator">/</span><span class="hljs-operator">/</span> 约束没有添加在列的后面，这种约束被称为表级约束。<br>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-string">&#x27;zhangsan@123.com&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-string">&#x27;zhangsan@sina.com&#x27;</span>);<br><br></code></pre></td></tr></table></figure>

<h3 id="unique-和not-null联合"><a href="#unique-和not-null联合" class="headerlink" title="unique 和not null联合"></a>unique 和not null联合</h3><p>在MySQL当中，如果一个字段同时被not null和unique约束的话，<br>该字段自动变成主键字段。（注意：oracle中不一样！）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>id <span class="hljs-type">int</span>,<br>name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">unique</span><br>);<br></code></pre></td></tr></table></figure>

<h3 id="5、主键约束（primary-key，简称PK）⭐⭐⭐⭐⭐"><a href="#5、主键约束（primary-key，简称PK）⭐⭐⭐⭐⭐" class="headerlink" title="5、主键约束（primary key，简称PK）⭐⭐⭐⭐⭐"></a>5、主键约束（primary key，简称PK）⭐⭐⭐⭐⭐</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ul>
<li>主键约束：就是一种约束。</li>
<li>主键字段：该字段上添加了主键约束，这样的字段叫做：主键字段</li>
<li>主键值：主键字段中的每一个值都叫做：主键值。</li>
</ul>
<h4 id="什么是主键？有啥用？"><a href="#什么是主键？有啥用？" class="headerlink" title="什么是主键？有啥用？"></a>什么是主键？有啥用？</h4><p>主键值是每一行记录的唯一标识。</p>
<blockquote>
<p>❗注意：任何一张表都应该有主键，没有主键，表无效！！</p>
</blockquote>
<p>主键的特征：<code>not null + unique</code>（主键值不能是NULL，同时也不能重复！）</p>
<h4 id="列级约束-单一主键"><a href="#列级约束-单一主键" class="headerlink" title="列级约束-单一主键"></a>列级约束-单一主键</h4><p>1个字段做主键，叫做：单一主键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key,  <span class="hljs-operator">/</span><span class="hljs-operator">/</span>列级约束<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>)<br>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name) <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>);<br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>错误：不能重复<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name) <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;wangwu&#x27;</span>);<br>ERROR <span class="hljs-number">1062</span> (<span class="hljs-number">23000</span>): Duplicate entry <span class="hljs-string">&#x27;2&#x27;</span> <span class="hljs-keyword">for</span> key <span class="hljs-string">&#x27;PRIMARY&#x27;</span><br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>错误：不能为<span class="hljs-keyword">NULL</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(name) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;zhaoliu&#x27;</span>);<br>ERROR <span class="hljs-number">1364</span> (HY000): Field <span class="hljs-string">&#x27;id&#x27;</span> doesn<span class="hljs-string">&#x27;t have a default value</span><br></code></pre></td></tr></table></figure>
<h4 id="表级约束-复合主键"><a href="#表级约束-复合主键" class="headerlink" title="表级约束-复合主键"></a>表级约束-复合主键</h4><p>表级约束主要是给多个字段联合起来添加约束</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>	id <span class="hljs-type">int</span>,<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),<br>	email <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),<br>	<span class="hljs-keyword">primary</span> key(id,name)<br>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;zhangsan&#x27;</span>,<span class="hljs-string">&#x27;zhangsan@123.com&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>,<span class="hljs-string">&#x27;lisi@123.com&#x27;</span>);<br><br><span class="hljs-operator">/</span><span class="hljs-operator">/</span>错误：不能重复<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(id,name,email) <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;lisi&#x27;</span>,<span class="hljs-string">&#x27;lisi@123.com&#x27;</span>);<br>ERROR <span class="hljs-number">1062</span> (<span class="hljs-number">23000</span>): Duplicate entry <span class="hljs-string">&#x27;1-lisi&#x27;</span> <span class="hljs-keyword">for</span> key <span class="hljs-string">&#x27;PRIMARY&#x27;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ad-Light-red">在实际开发中不建议使用：复合主键。建议使用单一主键！<br><br>因为主键值存在的意义就是这行记录的身份证号，只要意义达到即可，单一主键可以做到。<br><br>复合主键比较复杂，不建议使用！！！<br></code></pre></td></tr></table></figure>

<p>主键值建议使用：</p>
<ul>
<li>int</li>
<li>bigint</li>
<li>char</li>
<li>等类型。</li>
</ul>
<p>不建议使用：varchar来做主键。主键值一般都是数字，一般都是定长的！</p>
<hr>
<h4 id="其他主键分类"><a href="#其他主键分类" class="headerlink" title="其他主键分类"></a>其他主键分类</h4><ul>
<li>自然主键：主键值是一个自然数，和业务没关系。</li>
<li>业务主键：主键值和业务紧密关联，例如拿银行卡账号做主键值。这就是业务主键！</li>
</ul>
<p>在实际开发中使用自然主键使用比较多。<br>因为主键只要做到不重复就行，不需要有意义。<br>业务主键不好，因为主键一旦和业务挂钩，那么当业务发生变动的时候，可能会影响到主键值，所以业务主键不建议使用。尽量使用自然主键。</p>
<h4 id="auto-increment自增"><a href="#auto-increment自增" class="headerlink" title="auto_increment自增"></a>auto_increment自增</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t_vip(<br>	id <span class="hljs-type">int</span> <span class="hljs-keyword">primary</span> key auto_increment, <span class="hljs-operator">/</span><span class="hljs-operator">/</span>auto_increment表示自增，从<span class="hljs-number">1</span>开始，以<span class="hljs-number">1</span>递增！<br>	name <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>)<br>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(name) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;zhangsan&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(name) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;zhangsan&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t_vip(name) <span class="hljs-keyword">values</span>(<span class="hljs-string">&#x27;zhangsan&#x27;</span>);<br><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t_vip;<br><br><span class="hljs-operator">+</span><span class="hljs-comment">----+----------+</span><br><span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> name     <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+----------+</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">2</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span>  <span class="hljs-number">3</span> <span class="hljs-operator">|</span> zhangsan <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">----+----------+</span><br></code></pre></td></tr></table></figure>

<h3 id="6、外键约束（foreign-key，简称FK）⭐⭐⭐⭐⭐"><a href="#6、外键约束（foreign-key，简称FK）⭐⭐⭐⭐⭐" class="headerlink" title="6、外键约束（foreign key，简称FK）⭐⭐⭐⭐⭐"></a>6、外键约束（foreign key，简称FK）⭐⭐⭐⭐⭐</h3><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><ul>
<li>外键约束：一种约束（foreign key）</li>
<li>外键字段：该字段上添加了外键约束</li>
<li>外键值：外键字段当中的每一个值。</li>
</ul>
<h4 id="业务背景：请设计数据库表，来描述“班级和学生”的信息？"><a href="#业务背景：请设计数据库表，来描述“班级和学生”的信息？" class="headerlink" title="业务背景：请设计数据库表，来描述“班级和学生”的信息？"></a>业务背景：请设计数据库表，来描述“班级和学生”的信息？</h4><h5 id="第一种方案：班级，学生一张表"><a href="#第一种方案：班级，学生一张表" class="headerlink" title="第一种方案：班级，学生一张表"></a>第一种方案：班级，学生一张表</h5><table>
<thead>
<tr>
<th>t_student no(pk)</th>
<th>name</th>
<th>classno</th>
<th>classname</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>100</td>
<td>北京市大兴区亦庄镇第二中学高三1班</td>
</tr>
<tr>
<td>2</td>
<td>lucy</td>
<td>100</td>
<td>北京市大兴区亦庄镇第二中学高三1班</td>
</tr>
<tr>
<td>3</td>
<td>lilei</td>
<td>100</td>
<td>北京市大兴区亦庄镇第二中学高三1班</td>
</tr>
</tbody></table>
<p>分析以上方案的缺点：</p>
<ul>
<li>数据冗余，空间浪费！！！！</li>
<li>这个设计是比较失败的！</li>
</ul>
<hr>
<h5 id="第二种方案：班级一张表、学生一张表"><a href="#第二种方案：班级一张表、学生一张表" class="headerlink" title="第二种方案：班级一张表、学生一张表"></a>第二种方案：班级一张表、学生一张表</h5><p>t_class 班级表</p>
<table>
<thead>
<tr>
<th>classno(pk)</th>
<th>classname</th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td>北京市大兴区亦庄镇第二中学高三1班</td>
</tr>
<tr>
<td>101</td>
<td>北京市大兴区亦庄镇第二中学高三1班</td>
</tr>
</tbody></table>
<p>t_student 学生表</p>
<table>
<thead>
<tr>
<th>no(pk)</th>
<th>name</th>
<th>cno(FK引用t_class这张表的classno)</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>jack</td>
<td>100</td>
</tr>
<tr>
<td>2</td>
<td>lucy</td>
<td>100</td>
</tr>
<tr>
<td>3</td>
<td>lilei</td>
<td>101</td>
</tr>
</tbody></table>
<p>当cno字段没有任何约束的时候，可能会导致数据无效。可能出现一个102，但是102班级不存在。</p>
<p>所以为了保证cno字段中的值都是100和101，需要给cno字段添加外键约束。</p>
<p>那么：cno字段就是外键字段。cno字段中的每一个值都是外键值。</p>
<p><img src="/Resources/fk.drawio.png" srcset="/img/loading.gif" lazyload alt="Resources/fk.drawio.png"></p>
<blockquote>
<p>🔔思考：子表中的外键引用的父表中的某个字段，被引用的这个字段必须是主键吗？<br>不一定是主键，但至少具有unique约束。</p>
</blockquote>
<blockquote>
<p>🔔测试：外键可以为NULL吗？<br>外键值可以为NULL。</p>
</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Database/" class="category-chain-item">Database</a>
  
  
    <span>></span>
    
  <a href="/categories/Database/MySQL/" class="category-chain-item">MySQL</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/MySQL/">#MySQL</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>MySQL 基础篇</div>
      <div>http://conquers.github.io/posts/e967e26.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>wtt</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年7月19日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Conquers/blog-comments');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
