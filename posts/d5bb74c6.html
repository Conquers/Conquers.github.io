

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar.png">
  <link rel="icon" href="/img/avatar.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="wtt">
  <meta name="keywords" content="">
  
    <meta name="description" content="ElasticSearch üõ¨ÂÖ®ÊñáÊ£ÄÁ¥¢ÂÖ®ÊñáÊ£ÄÁ¥¢ÊòØËÆ°ÁÆóÊú∫Á®ãÂ∫èÈÄöËøáÊâ´ÊèèÊñáÁ´†‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËØçÔºåÂØπÊØè‰∏Ä‰∏™ËØçÂª∫Á´ã‰∏Ä‰∏™Á¥¢ÂºïÔºåÊåáÊòéËØ•ËØçÂú®ÊñáÁ´†‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞Âíå‰ΩçÁΩÆ„ÄÇÂΩìÁî®Êà∑Êü•ËØ¢Êó∂Ê†πÊçÆÂª∫Á´ãÁöÑÁ¥¢ÂºïÊü•ÊâæÔºåÁ±ª‰ºº‰∫éÈÄöËøáÂ≠óÂÖ∏ÁöÑÊ£ÄÁ¥¢Â≠óË°®Êü•Â≠óÁöÑËøáÁ®ã„ÄÇ Ê£ÄÁ¥¢Ôºö  Á¥¢Ôºö(Âª∫Á´ã Á¥¢Âºï)  Ê£ÄÔºö(Ê£ÄÁ¥¢ Á¥¢Âºï)  ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text Retrieval(Ê£ÄÁ¥¢ÔºâÔºâ‰ª•ÊñáÊú¨‰Ωú‰∏∫Ê£ÄÁ¥¢ÂØπË±°ÔºåÊâæÂá∫Âê´ÊúâÊåáÂÆöËØçÊ±áÁöÑÊñáÊú¨„ÄÇÂÖ®Èù¢„ÄÅÂáÜÁ°ÆÂíåÂø´ÈÄüÊòØË°°ÈáèÂÖ®ÊñáÊ£ÄÁ¥¢">
<meta property="og:type" content="article">
<meta property="og:title" content="ElasticSearch 6.x‰ΩøÁî®ÊïôÁ®ã">
<meta property="og:url" content="http://conquers.github.io/posts/d5bb74c6.html">
<meta property="og:site_name" content="wtt&#39;s Blog">
<meta property="og:description" content="ElasticSearch üõ¨ÂÖ®ÊñáÊ£ÄÁ¥¢ÂÖ®ÊñáÊ£ÄÁ¥¢ÊòØËÆ°ÁÆóÊú∫Á®ãÂ∫èÈÄöËøáÊâ´ÊèèÊñáÁ´†‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËØçÔºåÂØπÊØè‰∏Ä‰∏™ËØçÂª∫Á´ã‰∏Ä‰∏™Á¥¢ÂºïÔºåÊåáÊòéËØ•ËØçÂú®ÊñáÁ´†‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞Âíå‰ΩçÁΩÆ„ÄÇÂΩìÁî®Êà∑Êü•ËØ¢Êó∂Ê†πÊçÆÂª∫Á´ãÁöÑÁ¥¢ÂºïÊü•ÊâæÔºåÁ±ª‰ºº‰∫éÈÄöËøáÂ≠óÂÖ∏ÁöÑÊ£ÄÁ¥¢Â≠óË°®Êü•Â≠óÁöÑËøáÁ®ã„ÄÇ Ê£ÄÁ¥¢Ôºö  Á¥¢Ôºö(Âª∫Á´ã Á¥¢Âºï)  Ê£ÄÔºö(Ê£ÄÁ¥¢ Á¥¢Âºï)  ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text Retrieval(Ê£ÄÁ¥¢ÔºâÔºâ‰ª•ÊñáÊú¨‰Ωú‰∏∫Ê£ÄÁ¥¢ÂØπË±°ÔºåÊâæÂá∫Âê´ÊúâÊåáÂÆöËØçÊ±áÁöÑÊñáÊú¨„ÄÇÂÖ®Èù¢„ÄÅÂáÜÁ°ÆÂíåÂø´ÈÄüÊòØË°°ÈáèÂÖ®ÊñáÊ£ÄÁ¥¢">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://conquers.github.io/Resources/banner-elastic.jpg">
<meta property="article:published_time" content="2022-07-19T03:31:39.000Z">
<meta property="article:modified_time" content="2023-07-18T02:37:49.408Z">
<meta property="article:author" content="wtt">
<meta property="article:tag" content="ElasticSearch">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://conquers.github.io/Resources/banner-elastic.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ElasticSearch 6.x‰ΩøÁî®ÊïôÁ®ã - wtt&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ‰∏ªÈ¢ò‰æùËµñÁöÑÂõæÊ†áÂ∫ìÔºå‰∏çË¶ÅËá™Ë°å‰øÆÊîπ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/mac.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"conquers.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="wtt's Blog" type="application/atom+xml">
</head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>wtt&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>È¶ñÈ°µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>ÂΩíÊ°£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>ÂàÜÁ±ª</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Ê†áÁ≠æ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>ÂÖ≥‰∫é</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ElasticSearch 6.x‰ΩøÁî®ÊïôÁ®ã"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-07-19 11:31" pubdate>
          2022Âπ¥7Êúà19Êó• ‰∏≠Âçà
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          26k Â≠ó
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          218 ÂàÜÈíü
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">ElasticSearch 6.x‰ΩøÁî®ÊïôÁ®ã</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="ElasticSearch"><a href="#ElasticSearch" class="headerlink" title="ElasticSearch"></a>ElasticSearch</h1><p><img src="/Resources/elastic.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="üõ¨ÂÖ®ÊñáÊ£ÄÁ¥¢"><a href="#üõ¨ÂÖ®ÊñáÊ£ÄÁ¥¢" class="headerlink" title="üõ¨ÂÖ®ÊñáÊ£ÄÁ¥¢"></a>üõ¨ÂÖ®ÊñáÊ£ÄÁ¥¢</h2><p><strong>ÂÖ®ÊñáÊ£ÄÁ¥¢</strong>ÊòØËÆ°ÁÆóÊú∫Á®ãÂ∫èÈÄöËøá<strong>Êâ´Êèè</strong>ÊñáÁ´†‰∏≠ÁöÑÊØè‰∏Ä‰∏™ËØçÔºåÂØπÊØè‰∏Ä‰∏™ËØç<strong>Âª∫Á´ã</strong>‰∏Ä‰∏™Á¥¢ÂºïÔºåÊåáÊòéËØ•ËØçÂú®ÊñáÁ´†‰∏≠Âá∫Áé∞ÁöÑ<strong>Ê¨°Êï∞</strong>Âíå<strong>‰ΩçÁΩÆ</strong>„ÄÇÂΩìÁî®Êà∑Êü•ËØ¢Êó∂Ê†πÊçÆÂª∫Á´ãÁöÑÁ¥¢ÂºïÊü•ÊâæÔºåÁ±ª‰ºº‰∫éÈÄöËøáÂ≠óÂÖ∏ÁöÑÊ£ÄÁ¥¢Â≠óË°®Êü•Â≠óÁöÑËøáÁ®ã„ÄÇ</p>
<p>Ê£ÄÁ¥¢Ôºö</p>
<ul>
<li>Á¥¢Ôºö(<em>Âª∫Á´ã</em> Á¥¢Âºï) </li>
<li>Ê£ÄÔºö(<em>Ê£ÄÁ¥¢</em> Á¥¢Âºï)</li>
</ul>
<p>ÂÖ®ÊñáÊ£ÄÁ¥¢ÔºàFull-Text Retrieval(Ê£ÄÁ¥¢ÔºâÔºâ‰ª•ÊñáÊú¨‰Ωú‰∏∫Ê£ÄÁ¥¢ÂØπË±°ÔºåÊâæÂá∫Âê´ÊúâÊåáÂÆöËØçÊ±áÁöÑÊñáÊú¨„ÄÇ<strong>ÂÖ®Èù¢„ÄÅÂáÜÁ°ÆÂíåÂø´ÈÄüÊòØË°°ÈáèÂÖ®ÊñáÊ£ÄÁ¥¢Á≥ªÁªüÁöÑÂÖ≥ÈîÆÊåáÊ†á„ÄÇ</strong></p>
<p>ÂÖ≥‰∫éÂÖ®ÊñáÊ£ÄÁ¥¢ÔºåÊàë‰ª¨Ë¶ÅÁü•ÈÅìÔºö</p>
<ol>
<li><p>Âè™Â§ÑÁêÜ<em>ÊñáÊú¨</em>„ÄÇ</p>
</li>
<li><p>‰∏çÂ§ÑÁêÜ<em>ËØ≠‰πâ</em>„ÄÇ</p>
</li>
<li><p>ÊêúÁ¥¢Êó∂Ëã±Êñá<em>‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô</em>„ÄÇ</p>
</li>
<li><p>ÁªìÊûúÂàóË°®Êúâ<em>Áõ∏ÂÖ≥Â∫¶ÊéíÂ∫è</em>„ÄÇ</p>
</li>
</ol>
<hr>
<h2 id="üöÅElastic-Search"><a href="#üöÅElastic-Search" class="headerlink" title="üöÅElastic Search"></a>üöÅElastic Search</h2><p><img src="/Resources/Pasted%20image%2020220720115306.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220720115306.png"><br>ÂÆòÊñπÁΩëÁ´ôÔºö<a target="_blank" rel="noopener" href="https://www.elastic.co/cn/">ÂÖçË¥π‰∏îÂºÄÊîæÁöÑÊêúÁ¥¢ÔºöElasticsearch„ÄÅELK Âíå Kibana ÁöÑÂºÄÂèëËÄÖ | Elastic</a><br>ÂÆòÊñπÊñáÊ°£Ôºö<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/index.html">Elasticsearch Guide | Elastic</a></p>
<p><strong>ElasticSearch</strong> ÁÆÄÁß∞ <em>ES</em> ÔºåÊòØ<strong>Âü∫‰∫éApache LuceneÊûÑÂª∫ÁöÑÂºÄÊ∫êÊêúÁ¥¢ÂºïÊìéÔºåÊòØÂΩìÂâçÊµÅË°åÁöÑ‰ºÅ‰∏öÁ∫ßÊêúÁ¥¢ÂºïÊìé„ÄÇ</strong>LuceneÊú¨Ë∫´Â∞±ÂèØ‰ª•Ë¢´ËÆ§‰∏∫ËøÑ‰ªä‰∏∫Ê≠¢ÊÄßËÉΩÊúÄÂ•ΩÁöÑ‰∏ÄÊ¨æÂºÄÊ∫êÊêúÁ¥¢ÂºïÊìéÂ∑•ÂÖ∑ÂåÖÔºå‰ΩÜÊòØLuceneÁöÑAPIÁõ∏ÂØπÂ§çÊùÇÔºåÈúÄË¶ÅÊ∑±ÂéöÁöÑÊêúÁ¥¢ÁêÜËÆ∫„ÄÇÂæàÈöæÈõÜÊàêÂà∞ÂÆûÈôÖÁöÑÂ∫îÁî®‰∏≠Âéª„ÄÇ<strong>‰ΩÜÊòØESÊòØÈááÁî®javaËØ≠Ë®ÄÁºñÂÜôÔºåÊèê‰æõ‰∫ÜÁÆÄÂçïÊòìÁî®ÁöÑRestFul APIÔºåÂºÄÂèëËÄÖÂèØ‰ª•‰ΩøÁî®ÂÖ∂ÁÆÄÂçïÁöÑRestFul APIÔºåÂºÄÂèëÁõ∏ÂÖ≥ÁöÑÊêúÁ¥¢ÂäüËÉΩÔºå‰ªéËÄåÈÅøÂÖçLuceneÁöÑÂ§çÊùÇÊÄß„ÄÇ</strong></p>
<h3 id="ESÁöÑÂ∫îÁî®Âú∫ÊôØ"><a href="#ESÁöÑÂ∫îÁî®Âú∫ÊôØ" class="headerlink" title="ESÁöÑÂ∫îÁî®Âú∫ÊôØ"></a>ESÁöÑÂ∫îÁî®Âú∫ÊôØ</h3><p><strong>ES‰∏ªË¶Å‰ª•ËΩªÈáèÁ∫ßJSON‰Ωú‰∏∫Êï∞ÊçÆÂ≠òÂÇ®Ê†ºÂºèÔºåËøôÁÇπ‰∏éMongoDBÊúâÁÇπÁ±ª‰ººÔºå‰ΩÜÂÆÉÂú®ËØªÂÜôÊÄßËÉΩ‰∏ä‰ºò‰∫é MongoDB „ÄÇÂêåÊó∂‰πüÊîØÊåÅÂú∞ÁêÜ‰ΩçÁΩÆÊü•ËØ¢ÔºåËøòÊñπ‰æøÂú∞ÁêÜ‰ΩçÁΩÆÂíåÊñáÊú¨Ê∑∑ÂêàÊü•ËØ¢ „ÄÇ ‰ª•ÂèäÂú®ÁªüËÆ°„ÄÅÊó•ÂøóÁ±ªÊï∞ÊçÆÂ≠òÂÇ®ÂíåÂàÜÊûê„ÄÅÂèØËßÜÂåñËøôÊñπÈù¢ÊòØÂºïÈ¢ÜËÄÖ„ÄÇ</strong></p>
<ul>
<li><p>ÂõΩÂ§ñ:<br><em>Wikipedia</em>(Áª¥Âü∫ÁôæÁßë)‰ΩøÁî®ESÊèê‰æõÂÖ®ÊñáÊêúÁ¥¢Âπ∂È´ò‰∫ÆÂÖ≥ÈîÆÂ≠ó„ÄÅ<em>StackOverflow</em>(ITÈóÆÁ≠îÁΩëÁ´ô)ÁªìÂêàÂÖ®ÊñáÊêúÁ¥¢‰∏éÂú∞ÁêÜ‰ΩçÁΩÆÊü•ËØ¢„ÄÅ<em>Github</em>‰ΩøÁî®ElasticsearchÊ£ÄÁ¥¢1300‰∫øË°åÁöÑ‰ª£Á†Å„ÄÇ</p>
</li>
<li><p>ÂõΩÂÜÖ:<br>ÁôæÂ∫¶(Âú®‰∫ëÂàÜÊûê„ÄÅÁΩëÁõü„ÄÅÈ¢ÑÊµã„ÄÅÊñáÂ∫ì„ÄÅÈí±ÂåÖ„ÄÅÈ£éÊéßÁ≠â‰∏öÂä°‰∏äÈÉΩÂ∫îÁî®‰∫ÜESÔºåÂçïÈõÜÁæ§ÊØèÂ§©ÂØºÂÖ•30TB+Êï∞ÊçÆÔºå ÊÄªÂÖ±ÊØèÂ§©60TB+)„ÄÅÊñ∞Êµ™ „ÄÅÈòøÈáåÂ∑¥Â∑¥„ÄÅËÖæËÆØÁ≠âÂÖ¨Âè∏ÂùáÊúâÂØπESÁöÑ‰ΩøÁî®„ÄÇ</p>
</li>
</ul>
<p>&#x3D;&#x3D;‰ΩøÁî®ÊØîËæÉÂπøÊ≥õÁöÑÂπ≥Âè∞ELK(ElasticSearch, Logstash, Kibana)„ÄÇ&#x3D;&#x3D;</p>
<hr>
<h2 id="ü™êÂÆâË£ÖElasticSearch"><a href="#ü™êÂÆâË£ÖElasticSearch" class="headerlink" title="ü™êÂÆâË£ÖElasticSearch"></a>ü™êÂÆâË£ÖElasticSearch</h2><h3 id="ÁéØÂ¢ÉÂáÜÂ§á"><a href="#ÁéØÂ¢ÉÂáÜÂ§á" class="headerlink" title="ÁéØÂ¢ÉÂáÜÂ§á"></a>ÁéØÂ¢ÉÂáÜÂ§á</h3><p><a target="_blank" rel="noopener" href="http://localhost:4000/posts/dcb3f659.html#elasticsearch">Docker ÂÆâË£Ö Elasticsearch</a></p>
<hr>
<h2 id="üååElasticSearch-Âü∫Êú¨Ê¶ÇÂøµ"><a href="#üååElasticSearch-Âü∫Êú¨Ê¶ÇÂøµ" class="headerlink" title="üååElasticSearch Âü∫Êú¨Ê¶ÇÂøµ"></a>üååElasticSearch Âü∫Êú¨Ê¶ÇÂøµ</h2><ul>
<li><p><strong>1„ÄÅÊé•ËøëÂÆûÊó∂(NRT Near Real Time)</strong><br>ElasticsearchÊòØ‰∏Ä‰∏™Êé•ËøëÂÆûÊó∂ÁöÑÊêúÁ¥¢Âπ≥Âè∞„ÄÇËøôÊÑèÂë≥ÁùÄÔºå‰ªéÁ¥¢Âºï‰∏Ä‰∏™ÊñáÊ°£Áõ¥Âà∞Ëøô‰∏™ÊñáÊ°£ËÉΩÂ§üË¢´ÊêúÁ¥¢Âà∞Êúâ‰∏Ä‰∏™ËΩªÂæÆÁöÑÂª∂Ëøü(ÈÄöÂ∏∏ÊòØ <em>1ÁßíÂÜÖ</em> )</p>
</li>
<li><p><strong>2„ÄÅÁ¥¢Âºï(index)</strong><br><em>‰∏Ä‰∏™Á¥¢ÂºïÂ∞±ÊòØ‰∏Ä‰∏™Êã•ÊúâÂá†ÂàÜÁõ∏‰ººÁâπÂæÅÁöÑÊñáÊ°£ÁöÑÈõÜÂêà</em>„ÄÇÊØîÂ¶ÇËØ¥Ôºå‰Ω†ÂèØ‰ª•Êúâ‰∏Ä‰∏™ÂÆ¢Êà∑Êï∞ÊçÆÁöÑÁ¥¢ÂºïÔºåÂè¶‰∏Ä‰∏™‰∫ßÂìÅÁõÆÂΩïÁöÑÁ¥¢ÂºïÔºåËøòÊúâ‰∏Ä‰∏™ËÆ¢ÂçïÊï∞ÊçÆÁöÑÁ¥¢Âºï„ÄÇ‰∏Ä‰∏™Á¥¢ÂºïÁî±‰∏Ä‰∏™ÂêçÂ≠óÊù•Ê†áËØÜÔºàÂøÖÈ°ªÂÖ®ÈÉ®ÊòØÂ∞èÂÜôÂ≠óÊØçÁöÑÔºâÔºåÂπ∂‰∏îÂΩìÊàë‰ª¨Ë¶ÅÂØπËøô‰∏™Á¥¢Âºï‰∏≠ÁöÑÊñáÊ°£ËøõË°åÁ¥¢Âºï„ÄÅÊêúÁ¥¢„ÄÅÊõ¥Êñ∞ÂíåÂà†Èô§ÁöÑÊó∂ÂÄôÔºåÈÉΩË¶Å‰ΩøÁî®Âà∞Ëøô‰∏™ÂêçÂ≠ó„ÄÇ<em>Á¥¢ÂºïÁ±ª‰ºº‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠ Database ÁöÑÊ¶ÇÂøµ</em>„ÄÇÂú®‰∏Ä‰∏™ÈõÜÁæ§‰∏≠ÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥ÔºåÂèØ‰ª•ÂÆö‰πâ‰ªªÊÑèÂ§öÁöÑÁ¥¢Âºï„ÄÇ</p>
</li>
<li><p><strong>3„ÄÅÁ±ªÂûã(type)</strong><br><em>Âú®‰∏Ä‰∏™Á¥¢Âºï‰∏≠Ôºå‰Ω†ÂèØ‰ª•ÂÆö‰πâ‰∏ÄÁßçÊàñÂ§öÁßçÁ±ªÂûã</em>„ÄÇ‰∏Ä‰∏™Á±ªÂûãÊòØ‰Ω†ÁöÑÁ¥¢ÂºïÁöÑ‰∏Ä‰∏™ÈÄªËæë‰∏äÁöÑÂàÜÁ±ª&#x2F;ÂàÜÂå∫ÔºåÂÖ∂ËØ≠‰πâÂÆåÂÖ®Áî±‰Ω†Êù•ÂÆö„ÄÇÈÄöÂ∏∏Ôºå‰ºö‰∏∫ÂÖ∑Êúâ‰∏ÄÁªÑÂÖ±ÂêåÂ≠óÊÆµÁöÑÊñáÊ°£ÂÆö‰πâ‰∏Ä‰∏™Á±ªÂûã„ÄÇÊØîÂ¶ÇËØ¥ÔºåÊàë‰ª¨ÂÅáËÆæ‰Ω†ËøêËê•‰∏Ä‰∏™ÂçöÂÆ¢Âπ≥Âè∞Âπ∂‰∏îÂ∞Ü‰Ω†ÊâÄÊúâÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âà∞‰∏Ä‰∏™Á¥¢Âºï‰∏≠„ÄÇÂú®Ëøô‰∏™Á¥¢Âºï‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰∏∫Áî®Êà∑Êï∞ÊçÆÂÆö‰πâ‰∏Ä‰∏™Á±ªÂûãÔºå‰∏∫ÂçöÂÆ¢Êï∞ÊçÆÂÆö‰πâÂè¶‰∏Ä‰∏™Á±ªÂûãÔºåÂΩìÁÑ∂Ôºå‰πüÂèØ ‰ª•‰∏∫ËØÑËÆ∫Êï∞ÊçÆÂÆö‰πâÂè¶‰∏Ä‰∏™Á±ªÂûã„ÄÇ<em>Á±ªÂûãÁ±ª‰ºº‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠TableÁöÑÊ¶ÇÂøµ</em>„ÄÇ</p>
<blockquote>
<p>NOTE: Âú®5.xÁâàÊú¨‰ª•ÂâçÂèØ‰ª•Âú®‰∏Ä‰∏™Á¥¢Âºï‰∏≠ÂÆö‰πâÂ§ö‰∏™Á±ªÂûã,6.x‰πãÂêéÁâàÊú¨‰πüÂèØ‰ª•‰ΩøÁî®,‰ΩÜÊòØ‰∏çÊé®Ëçê,Âú®7~8.xÁâàÊú¨‰∏≠ÂΩªÂ∫ïÁßªÈô§‰∏Ä‰∏™Á¥¢Âºï‰∏≠ÂàõÂª∫Â§ö‰∏™Á±ªÂûã</p>
</blockquote>
</li>
<li><p><strong>4„ÄÅÊò†Â∞Ñ(Mapping)</strong><br><em>Mapping</em>ÊòØES‰∏≠ÁöÑ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÂÜÖÂÆπÔºå<em>ÂÆÉÁ±ª‰ºº‰∫é‰º†ÁªüÂÖ≥Á≥ªÂûãÊï∞ÊçÆ‰∏≠tableÁöÑschemaÔºåÁî®‰∫éÂÆö‰πâ‰∏Ä‰∏™Á¥¢Âºï(index)‰∏≠ÁöÑÁ±ªÂûã(type)ÁöÑÊï∞ÊçÆÁöÑÁªìÊûÑ</em>„ÄÇ Âú®ES‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ÂàõÂª∫type(Áõ∏ÂΩì‰∫étable)Âíåmapping(Áõ∏ÂÖ≥‰∏éschema),‰πüÂèØ‰ª•ÈááÁî®ÈªòËÆ§ÂàõÂª∫ÊñπÂºè„ÄÇÂú®ÈªòËÆ§ÈÖçÁΩÆ‰∏ãÔºåESÂèØ‰ª•Ê†πÊçÆÊèíÂÖ•ÁöÑÊï∞ÊçÆËá™Âä®Âú∞ÂàõÂª∫typeÂèäÂÖ∂mapping„ÄÇ <em>mapping‰∏≠‰∏ªË¶ÅÂåÖÊã¨Â≠óÊÆµÂêç„ÄÅÂ≠óÊÆµÊï∞ÊçÆÁ±ªÂûãÂíåÂ≠óÊÆµÁ¥¢ÂºïÁ±ªÂûã</em></p>
</li>
</ul>
<p><strong>5„ÄÅÊñáÊ°£(document)</strong><br>‰∏Ä‰∏™ÊñáÊ°£ÊòØ‰∏Ä‰∏™ÂèØË¢´Á¥¢ÂºïÁöÑ<em>Âü∫Á°Ä‰ø°ÊÅØÂçïÂÖÉ</em>Ôºå<em>Á±ª‰ºº‰∫éË°®‰∏≠ÁöÑ‰∏ÄÊù°ËÆ∞ÂΩï</em>„ÄÇÊØîÂ¶ÇÔºå‰Ω†ÂèØ‰ª•Êã•ÊúâÊüê‰∏Ä‰∏™ÂëòÂ∑•ÁöÑÊñáÊ°£Ôºå‰πüÂèØ‰ª•Êã•ÊúâÊüê‰∏™ÂïÜÂìÅÁöÑ‰∏Ä‰∏™ÊñáÊ°£„ÄÇÊñáÊ°£‰ª•ÈááÁî®‰∫ÜËΩªÈáèÁ∫ßÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèJSON(JavaScript Object Notation)Êù•Ë°®Á§∫„ÄÇ</p>
<p><img src="/Resources/Pasted%20image%2020220721085020.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721085020.png"></p>
<h3 id="Á¥¢ÂºïÂ∫ìÂ∫ïÂ±ÇÂéüÁêÜÂàÜÊûê"><a href="#Á¥¢ÂºïÂ∫ìÂ∫ïÂ±ÇÂéüÁêÜÂàÜÊûê" class="headerlink" title="Á¥¢ÂºïÂ∫ìÂ∫ïÂ±ÇÂéüÁêÜÂàÜÊûê"></a>Á¥¢ÂºïÂ∫ìÂ∫ïÂ±ÇÂéüÁêÜÂàÜÊûê</h3><p>ElasticSearch ÂØπ‰∫é‰∏çÂêåÁöÑÊúçÂä°Âª∫Á´ã‰∫Ü‰∏çÂêåÁöÑÁ¥¢ÂºïÔºåÊØè‰∏™Á¥¢ÂºïÂèàÂàõÂª∫‰∫ÜÁ±ªÂûãÔºà6‰ª•ÂêéÂè™ËÉΩÂàõÂª∫‰∏Ä‰∏™ÔºâÔºåÂêåÊó∂ÂØπÁ±ªÂûãËøõË°å‰∫ÜÁ∫¶ÊùüÔºåÁé∞Âú®Êàë‰ª¨ÂæÄES‰∏≠Á¥¢ÂºïÊñáÊ°£ÔºåÂÆÉÂÜÖÈÉ®ÊòØÊÄéÊ†∑Â∑•‰ΩúÁöÑÂë¢Ôºü<br><img src="/Resources/Pasted%20image%2020220725114905.png" srcset="/img/loading.gif" lazyload></p>
<ul>
<li><p>Áé∞Âú®Êàë‰ª¨Ê∑ªÂä†ÊåâÁÖßÂÖ∂Á±ªÂûãÁöÑÁ∫¶ÊùüÊ∑ªÂä†‚ÄúÂº†‰∏â‚ÄùËøôÊù°Êï∞ÊçÆÔºåESÊãøÂà∞ËøôÊù°Êï∞ÊçÆ</p>
</li>
<li><p>È¶ñÂÖàÊääÊï¥‰∏™ÊñáÊ°£ËøõË°åÂÇ®Â≠òÂú®ÂÖÉÊï∞ÊçÆÂå∫ÔºåÂêåÊó∂‰ºöÁîüÊàêÂØπÂ∫îÁöÑ‚Äù_id‚ÄùÔºåÊØîÂ¶ÇËøôÈáå‰∏∫0ÔºåÂà∞Êó∂ÂÄôÊàë‰ª¨Êãø0ÂéªÊü•ËØ¢ÔºåÂ∞±ÂèØ‰ª•ÂæóÂà∞Ëøô‰∏™ÊñáÊ°£Ôºõ</p>
</li>
<li><p>ÁÑ∂ÂêéÊåâÁÖßÂàÜËØçÂô®ÔºàÊâÄË∞ìÂàÜËØçÂô®Â∞±ÊòØÂØπ‰Ω†ËæìÂÖ•ÁöÑÊï∞ÊçÆÔºåÊåâÁÖß‰∏ÄÂÆöÁöÑËßÑÂàôËøõË°åÂàíÂàÜÔºåËøôÈáå‰ª•Ê†áÂáÜÂàÜËØçÂô®‰∏∫‰æãÔºâËøõË°åÂàíÂàÜÔºåÂõ†‰∏∫nameÂ±ûÊÄßÊòØ‚Äùtext‚ÄùÁ±ªÂûãÔºåÊâÄ‰ª•ÈúÄË¶ÅÂàÜËØçÔºåÊåâÁÖßËßÑÂàôÔºåËøõË°åÂçïÂ≠óÂàíÂàÜÔºåÂÖàÂàÜ‚ÄúÂº†‚ÄùÔºåÁÑ∂ÂêéËÆ∞ÂΩïËøô‰∏™Â≠óÂú®Âè≥ËæπÂì™‰∏™ÊñáÊ°£‰∏≠Âá∫Áé∞ÔºåÂêåÊó∂Âá∫Áé∞‰∫ÜÂá†Ê¨°ÔºàÂΩìÁÑ∂ËøôÈáåÂè™ÊòØÁÆÄÂçïÂàó‰∏æ‰∏Ä‰∏ãÔºåÂÆûÈôÖÊÉÖÂÜµÂèØËÉΩÊõ¥Â§çÊùÇÔºâÔºåÂÜçÂàÜ‚Äú‰∏â‚ÄùÔºå‰∏ÄÊ†∑ÁöÑÊìç‰ΩúÔºõÊé•‰∏ãÊù•ÊòØ‚Äùage‚ÄùÂ±ûÊÄßÔºåÂõ†‰∏∫ageÊòØ‚ÄùInteger‚ÄùÁ±ªÂûãÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÂàÜËØçÔºåÁõ¥Êé•Â≠òÂÇ®ÔºåËÆ∞ÂΩï„ÄÇ‰∏ÄÁõ¥Â¶ÇÊ≠§Êìç‰ΩúÔºåÁõ¥Âà∞ÂØπËæìÂÖ•ÁöÑÊï∞ÊçÆÂÆåÊàê‚Ä¶</p>
</li>
<li><p>Áé∞Âú®Êàë‰ª¨Ë¶ÅÊèíÂÖ•Á¨¨‰∫åÊù°Êï∞ÊçÆÔºåÂêåÊ†∑ÊòØÁé∞Âú®ÂÖÉÊï∞ÊçÆÂå∫ËøõË°åÂÇ®Â≠òÔºå‰∏∫ÂÖ∂ÂàÜÈÖç‚Äù_id‚ÄùÔºåÁÑ∂ÂêéÊòØÁ¥¢ÂºïÂå∫Êìç‰ΩúÔºåÁé∞Âú®‚ÄùÂº†‚ÄùËøô‰∏™Â≠ó‰∏ç‰ªÖÂú®0ÊñáÊ°£Âá∫Áé∞Ôºå‰πüÂá∫Áé∞Âú®1ÊñáÊ°£„ÄÇ</p>
</li>
<li><p>ÈúÄÊ±ÇÔºö Áé∞Âú®Áî®Êà∑ÊÉ≥Ë¶ÅÊü•Êâæaddress‰∏∫‚ÄùÂåó‰∫¨‚ÄùÁöÑÊñáÊ°£ÔºåES‰ºöËøõË°å‰∏§Ê¨°ÊêúÁ¥¢ÔºåÂÖàÊòØÂú®Á¥¢ÂºïÂå∫ÔºàÂàÜËØçÂêéÂ≠òÊîæÁöÑÊï∞ÊçÆÔºâÊâæÂà∞Áõ∏ÂåπÈÖçÁöÑÊñáÊ°£ÁöÑ‚Äùid‚ÄùÔºåÂÜçÊòØÊåâÁÖß‚Äùid‚ÄùÂéªÊâæÂà∞ÂÖÉÊï∞ÊçÆÂå∫ÂØπÂ∫îÁöÑÊñáÊ°£ÔºåÊúÄÂêéÊåâÁÖßÔºöÊØîÂ¶ÇÂú®0ÊñáÊ°£Âá∫Áé∞ÁöÑÊ¨°Êï∞Â§öÔºåÂ∞±Êää0ÊñáÊ°£ÊéíÂú®ÂâçÈù¢ÔºåÂ±ïÁ§∫ÁªôÁî®Êà∑„ÄÇ</p>
</li>
<li><p><strong>ÊÄªÁªìÔºö Á¥¢ÂºïÂ∫ìÂÇ®Â≠òÊï∞ÊçÆÔºåÂàÜ‰∏∫Á¥¢ÂºïÂå∫ÂíåÂÖÉÊï∞ÊçÆÂå∫ÔºåÂÖÉÊï∞ÊçÆÂå∫ÂÇ®Â≠òÂÆåÊï¥ÊñáÊ°£ÔºåÁ¥¢ÂºïÂå∫Â≠òÊîæÂàÜËØçËøáÂêéÁöÑÊï∞ÊçÆ</strong></p>
</li>
</ul>
<hr>
<h2 id="üåàKibana"><a href="#üåàKibana" class="headerlink" title="üåàKibana"></a>üåàKibana</h2><p>KibanaÊòØ‰∏Ä‰∏™ÈíàÂØπElasticsearchÁöÑÂºÄÊ∫êÂàÜÊûêÂèä<strong>ÂèØËßÜÂåñÂπ≥Âè∞</strong>Ôºå‰ΩøÁî®KibanaÂèØ‰ª•Êü•ËØ¢„ÄÅÊü•ÁúãÂπ∂‰∏éÂ≠òÂÇ®Âú®ESÁ¥¢ÂºïÁöÑÊï∞ÊçÆËøõË°å‰∫§‰∫íÊìç‰ΩúÔºå‰ΩøÁî®KibanaËÉΩÊâßË°åÈ´òÁ∫ßÁöÑÊï∞ÊçÆÂàÜÊûêÔºåÂπ∂ËÉΩ‰ª•ÂõæË°®„ÄÅË°®Ê†ºÂíåÂú∞ÂõæÁöÑÂΩ¢ÂºèÊü•ÁúãÊï∞ÊçÆ„ÄÇ</p>
<blockquote>
<p>KibanaÁâàÊú¨ÂíåElasticSearchÁâàÊú¨ÂøÖÈ°ª‰∏ÄËá¥ÔºÅ</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:4000/posts/dcb3f659.html#Kibana">Docker ÂÆâË£Ö Kibana</a></p>
<h3 id="KibanaÂü∫Êú¨Êìç‰Ωú"><a href="#KibanaÂü∫Êú¨Êìç‰Ωú" class="headerlink" title="KibanaÂü∫Êú¨Êìç‰Ωú"></a>KibanaÂü∫Êú¨Êìç‰Ωú</h3><h4 id="Êï¥‰ΩìÁïåÈù¢"><a href="#Êï¥‰ΩìÁïåÈù¢" class="headerlink" title="Êï¥‰ΩìÁïåÈù¢"></a>Êï¥‰ΩìÁïåÈù¢</h4><p><img src="/Resources/Pasted%20image%2020220721112115.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721112115.png"></p>
<p><strong>PUT ÂàõÂª∫Á¥¢Âºï</strong> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">PUT /ems<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721112724.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721112724.png"></p>
<blockquote>
<p>ÂºÉÁî®ÔºöÂú®7.0.0‰∏≠ÔºåÈªòËÆ§Â§á‰ªΩÊï∞Â∞Ü‰ªé[5]Êõ¥Êîπ‰∏∫[1]ÔºõÂ¶ÇÊûúÂ∏åÊúõÁªßÁª≠‰ΩøÁî®ÈªòËÆ§ÁöÑ[5]‰∏™Â§á‰ªΩÔºåÂàôÂøÖÈ°ªÂú®ÂàõÂª∫Á¥¢ÂºïËØ∑Ê±ÇÊàñ‰ΩøÁî®Á¥¢ÂºïÊ®°ÊùøËøõË°åÁÆ°ÁêÜ</p>
</blockquote>
<p>‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÂàô‰∏ç‰ºöÊä•Ë≠¶Âëäüü•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">PUT /ems<br>&#123;<br>  <span class="hljs-string">&quot;settings&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;number_of_replicas&quot;</span>: 1,<br>    <span class="hljs-string">&quot;number_of_shards&quot;</span>: 1<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>Ê≥®ÊÑèÔºöÁ¥¢ÂºïÁöÑÂêçÂ≠óÂøÖÈ°ªÊòØÂ∞èÂÜôÔºÅ<br><img src="/Resources/Pasted%20image%2020220721113056.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721113056.png"></p>
</blockquote>
<p><strong>DELETE Âà†Èô§Á¥¢Âºï</strong> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Âà†Èô§Âçï‰∏™Á¥¢Âºï</span><br>DELETE /ems<br><br><span class="hljs-comment">#Âà†Èô§ÊâÄÊúâÁ¥¢Âºï</span><br>DELETE /*<br></code></pre></td></tr></table></figure>
<p><strong>GET Êü•ÁúãÁ¥¢Âºï‰ø°ÊÅØ</strong> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /_cat/indices?v<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721114628.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721114628.png"></p>
<blockquote>
<p>red -&gt; Á¥¢Âºï‰∏çÂèØÁî®<br>yellow -&gt;Á¥¢Âºï‰∏çÂÅ•Â£Æ<br>green -&gt;Á¥¢ÂºïÂÅ•Â£Æ</p>
</blockquote>
<hr>
<h4 id="Á±ªÂûãType-Âíå-Êò†Â∞ÑMapping"><a href="#Á±ªÂûãType-Âíå-Êò†Â∞ÑMapping" class="headerlink" title="Á±ªÂûãType Âíå Êò†Â∞ÑMapping"></a>Á±ªÂûãType Âíå Êò†Â∞ÑMapping</h4><p><strong>ÂàõÂª∫Á¥¢ÂºïÊó∂Âπ∂ÂàõÂª∫Á±ªÂûã</strong><br>ÂÖ∂‰∏≠empÊòØÁ±ªÂûãÔºåidÔºånameÔºåageÔºåbirÊòØempÁ±ªÂûãÁöÑÂõõ‰∏™Â≠óÊÆµ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash">PUT /ems <br>&#123;<br>  <span class="hljs-string">&quot;mappings&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;emp&quot;</span>:&#123;<br>      <span class="hljs-string">&quot;properties&quot;</span>:&#123;<br>        <span class="hljs-string">&quot;id&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;keyword&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;name&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;text&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;age&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;integer&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;bir&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;date&quot;</span><br>        &#125; <br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/Resources/Pasted%20image%2020220721141543.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721141543.png"></p>
<blockquote>
<p>Mapping TypeÔºö<strong>text, keyword, date, integer, long, double, boolean or ip</strong></p>
</blockquote>
<p><strong>Êü•ÁúãÂàõÂª∫Á¥¢Âºï‰ª•ÂèäÁ¥¢Âºï‰∏≠ÁöÑÊò†Â∞Ñ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721142029.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721142029.png"></p>
<p><strong>Âè™Êü•ÁúãÁ¥¢Âºï‰∏≠ÁöÑÊò†Â∞Ñ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/_mapping<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721142144.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721142144.png"></p>
<hr>
<h4 id="ÊñáÊ°£Document"><a href="#ÊñáÊ°£Document" class="headerlink" title="ÊñáÊ°£Document"></a>ÊñáÊ°£Document</h4><p><strong>ÊèíÂÖ•‰∏ÄÊù°ÊñáÊ°£</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ÊñáÊ°£Êìç‰ΩúÔºö</span><br><span class="hljs-comment"># ÊèíÂÖ•‰∏ÄÊù°ÊñáÊ°£ PUT /Á¥¢Âºï/Á±ªÂûã/1</span><br>PUT /ems/emp/1<br>&#123;<br>  <span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>,<br>  <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;zhangsan&quot;</span>,<br>  <span class="hljs-string">&quot;age&quot;</span>:23,<br>  <span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721142647.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721142647.png"></p>
<p><strong>Êü•ËØ¢‰∏ÄÊù°ÊñáÊ°£</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Ê†πÊçÆidÊü•ËØ¢ÊñáÊ°£‰∏≠‰∏ÄÊù°ËÆ∞ÂΩï GET /Á¥¢Âºï/Á±ªÂûã/ÊñáÊ°£id</span><br>GET /ems/emp/1<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721142717.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721142717.png"></p>
<p><strong>Âà†Èô§‰∏ÄÊù°ÊñáÊ°£</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Ê†πÊçÆidÊü•ËØ¢ÊñáÊ°£‰∏≠‰∏ÄÊù°ËÆ∞ÂΩï GET /Á¥¢Âºï/Á±ªÂûã/ÊñáÊ°£id</span><br>DELETE /ems/emp/1<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721143532.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721143532.png"></p>
<p><strong>Êõ¥Êñ∞‰∏ÄÊù°ÊñáÊ°£</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">POST /ems/emp/1<br>&#123;<br>  <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;zhangsan2&quot;</span><br>&#125;<br><br>GET /ems/emp/1<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721152834.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721152834.png"><br><img src="/Resources/Pasted%20image%2020220721152918.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721152918.png"></p>
<blockquote>
<p>Â¶ÇÊûúÂÉèËøôÊ†∑Êõ¥Êñ∞ÁöÑËØùÔºå‰∏ç‰ºö‰øùÁïôÂéüÂßãÊï∞ÊçÆÔºà<strong>ÂÖàÂà†Èô§ÔºåÂÜçÊèíÂÖ•</strong>Ôºâ<br>ÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÊñπÂºèÔºå‰øùÁïôÂéüÂßãÊï∞ÊçÆÔºÅËÄå‰∏îËøòÂèØ‰ª•Êñ∞Ê∑ªÂä†Êñ∞ÁöÑÂ≠óÊÆµÔºÅÔºàÁº∫ÁÇπÊòØ‰ºöËá™Âä®ÂåπÈÖçÂ≠óÊÆµÁ±ªÂûãÔºå‰∏çÂ§™ÂáÜÁ°ÆÔºâ„ÄÇ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">POST /ems/emp/1/_update<br>&#123;<br>  <span class="hljs-string">&quot;doc&quot;</span>:&#123;<br>    <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;zhangsan2&quot;</span><br>  &#125;<br>&#125;<br><br>GET /ems/emp/1<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721153237.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721153237.png"><br><img src="/Resources/Pasted%20image%2020220721153251.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721153251.png"></p>
<p><strong>‰ΩøÁî®ËÑöÊú¨Êõ¥Êñ∞</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ÊØèÊ¨°Áªôage+5</span><br>POST /ems/emp/1/_update<br>&#123;<br>  <span class="hljs-string">&quot;script&quot;</span>: <span class="hljs-string">&quot;ctx._source.age+=5&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<hr>
<h4 id="ÊâπÈáèÊìç‰Ωú"><a href="#ÊâπÈáèÊìç‰Ωú" class="headerlink" title="ÊâπÈáèÊìç‰Ωú"></a>ÊâπÈáèÊìç‰Ωú</h4><blockquote>
<p>ÊâπÈáèÊó∂‰∏ç‰ºöÂõ†‰∏∫‰∏Ä‰∏™Â§±Ë¥•ËÄåÂÖ®ÈÉ®Â§±Ë¥•,ËÄåÊòØÁªßÁª≠ÊâßË°åÂêéÁª≠Êìç‰Ωú,ÊâπÈáèÂú®ËøîÂõûÊó∂ÊåâÁÖßÊâßË°åÁöÑÁä∂ÊÄÅÂºÄÂßãËøîÂõû</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ÊñáÊ°£ÊâπÈáèÊìç‰Ωú _bulk</span><br><span class="hljs-comment"># Ê∑ªÂä†(index) Âà†Èô§(delete) Êõ¥Êñ∞(update)</span><br>PUT /ems/emp/_bulk<br>&#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;<span class="hljs-string">&quot;_id&quot;</span>:<span class="hljs-string">&quot;4&quot;</span>&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;zhang&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:23,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2011-11-11&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;delete&quot;</span>:&#123;<span class="hljs-string">&quot;_id&quot;</span>:<span class="hljs-string">&quot;4&quot;</span>&#125;&#125;<br>&#123;<span class="hljs-string">&quot;update&quot;</span>:&#123;<span class="hljs-string">&quot;_id&quot;</span>:<span class="hljs-string">&quot;1&quot;</span>&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;doc&quot;</span>:&#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;xxx&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:18,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-11-12&quot;</span>&#125;&#125;<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220721154934.png" srcset="/img/loading.gif" lazyload alt="Resources/Pasted image 20220721154934.png"></p>
<hr>
<h2 id="üåãESÈ´òÁ∫ßÊ£ÄÁ¥¢Query"><a href="#üåãESÈ´òÁ∫ßÊ£ÄÁ¥¢Query" class="headerlink" title="üåãESÈ´òÁ∫ßÊ£ÄÁ¥¢Query"></a>üåãESÈ´òÁ∫ßÊ£ÄÁ¥¢Query</h2><p>ESÂÆòÊñπÊèê‰æõ‰∫Ü‰∏§‰∏≠Ê£ÄÁ¥¢ÊñπÂºèÔºö</p>
<ul>
<li><ol>
<li>ÈÄöËøá URL ÂèÇÊï∞ËøõË°åÊêúÁ¥¢<br><code>GET /Á¥¢Âºï/Á±ªÂûã/_search ?ÂèÇÊï∞</code></li>
</ol>
</li>
<li><ol start="2">
<li>ÈÄöËøá DSL(Domain Specified Language) ËøõË°åÊêúÁ¥¢<br><code>GET /Á¥¢Âºï/Á±ªÂûã/_search &#123;&#125;</code></li>
</ol>
</li>
</ul>
<p>ÂÆòÊñπÊõ¥Êé®Ëçê‰ΩøÁî®<strong>Á¨¨‰∫åÁßçÊñπÂºè</strong>ÔºåÁ¨¨‰∫åÁßçÊñπÂºèÊòØÂü∫‰∫é‰º†ÈÄíJSON‰Ωú‰∏∫ËØ∑Ê±Ç‰Ωì(request body)Ê†ºÂºè‰∏éESËøõË°å‰∫§‰∫íÔºåËøôÁßçÊñπÂºèÊõ¥Âº∫Â§ßÔºåÊõ¥ÁÆÄÊ¥Å„ÄÇ<br><img src="/Resources/Pasted%20image%2020220725095720.png" srcset="/img/loading.gif" lazyload></p>
<p>‰ª•‰∏ãÂè™Â±ïÁ§∫Â§ßÈÉ®ÂàÜÁöÑÂëΩ‰ª§ÔºåÊõ¥Â§öËØ∑Êü•ÁúãÂÆòÊñπÊñáÊ°£Ôºö<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-dsl.html">Query DSL | Elasticsearch Guide [6.8] | Elastic</a></p>
<h4 id="ÊûÑÂª∫ÊµãËØïÊï∞ÊçÆ"><a href="#ÊûÑÂª∫ÊµãËØïÊï∞ÊçÆ" class="headerlink" title="ÊûÑÂª∫ÊµãËØïÊï∞ÊçÆ"></a>ÊûÑÂª∫ÊµãËØïÊï∞ÊçÆ</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 1.Âà†Èô§Á¥¢Âºï</span><br>DELETE /ems<br><br><span class="hljs-comment"># 2.ÂàõÂª∫Á¥¢ÂºïÂπ∂ÊåáÂÆöÁ±ªÂûã</span><br>PUT /ems<br>&#123;<br>  <span class="hljs-string">&quot;mappings&quot;</span>:&#123;<br>    <span class="hljs-string">&quot;emp&quot;</span>:&#123;<br>      <span class="hljs-string">&quot;properties&quot;</span>:&#123;<br>        <span class="hljs-string">&quot;name&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;text&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;age&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;integer&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;bir&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;date&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;content&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;text&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;address&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;keyword&quot;</span><br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment"># 3.ÊèíÂÖ•ÊµãËØïÊï∞ÊçÆ</span><br>PUT /ems/emp/_bulk<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Â∞èÈªë&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:23,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;‰∏∫ÂºÄÂèëÂõ¢ÈòüÈÄâÊã©‰∏ÄÊ¨æ‰ºòÁßÄÁöÑMVCÊ°ÜÊû∂ÊòØ‰ª∂Èöæ‰∫ãÂÑøÔºåÂú®‰ºóÂ§öÂèØË°åÁöÑÊñπÊ°à‰∏≠ÂÜ≥Êã©ÈúÄË¶ÅÂæàÈ´òÁöÑÁªèÈ™åÂíåÊ∞¥Âπ≥&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Âåó‰∫¨&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;ÁéãÂ∞èÈªë&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:24,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;Spring Ê°ÜÊû∂ÊòØ‰∏Ä‰∏™ÂàÜÂ±ÇÊû∂ÊûÑÔºåÁî± 7 ‰∏™ÂÆö‰πâËâØÂ•ΩÁöÑÊ®°ÂùóÁªÑÊàê„ÄÇSpring Ê®°ÂùóÊûÑÂª∫Âú®Ê†∏ÂøÉÂÆπÂô®‰πã‰∏äÔºåÊ†∏ÂøÉÂÆπÂô®ÂÆö‰πâ‰∫ÜÂàõÂª∫„ÄÅÈÖçÁΩÆÂíåÁÆ°ÁêÜ bean ÁöÑÊñπÂºè&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;‰∏äÊµ∑&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Âº†Â∞è‰∫î&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:8,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;Spring Cloud ‰Ωú‰∏∫Java ËØ≠Ë®ÄÁöÑÂæÆÊúçÂä°Ê°ÜÊû∂ÔºåÂÆÉ‰æùËµñ‰∫éSpring BootÔºåÊúâÂø´ÈÄüÂºÄÂèë„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÂÆπÊòìÈÉ®ÁΩ≤Á≠âÁâπÁÇπ„ÄÇSpring Cloud ÁöÑÁªÑ‰ª∂ÈùûÂ∏∏Â§öÔºåÊ∂âÂèäÂæÆÊúçÂä°ÁöÑÊñπÊñπÈù¢Èù¢Ôºå‰∫ïÂú®ÂºÄÊ∫êÁ§æÂå∫Spring ÂíåNetflix „ÄÅPivotal ‰∏§Â§ßÂÖ¨Âè∏ÁöÑÊé®Âä®‰∏ãË∂äÊù•Ë∂äÂÆåÂñÑ&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Êó†Èî°&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;win7&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:9,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;SpringÁöÑÁõÆÊ†áÊòØËá¥Âäõ‰∫éÂÖ®Êñπ‰ΩçÁöÑÁÆÄÂåñJavaÂºÄÂèë„ÄÇ ËøôÂäøÂøÖÂºïÂá∫Êõ¥Â§öÁöÑËß£ÈáäÔºå SpringÊòØÂ¶Ç‰ΩïÁÆÄÂåñJavaÂºÄÂèëÁöÑÔºü&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Âçó‰∫¨&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Ê¢ÖË∂ÖÈ£é&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:43,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;RedisÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑ‰ΩøÁî®ANSI CËØ≠Ë®ÄÁºñÂÜô„ÄÅÊîØÊåÅÁΩëÁªú„ÄÅÂèØÂü∫‰∫éÂÜÖÂ≠ò‰∫¶ÂèØÊåÅ‰πÖÂåñÁöÑÊó•ÂøóÂûã„ÄÅKey-ValueÊï∞ÊçÆÂ∫ìÔºåÂπ∂Êèê‰æõÂ§öÁßçËØ≠Ë®ÄÁöÑAPI&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Êù≠Â∑û&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Âº†Êó†Âøå&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:59,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;ElasticSearchÊòØ‰∏Ä‰∏™Âü∫‰∫éLuceneÁöÑÊêúÁ¥¢ÊúçÂä°Âô®„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂ§öÁî®Êà∑ËÉΩÂäõÁöÑÂÖ®ÊñáÊêúÁ¥¢ÂºïÊìéÔºåÂü∫‰∫éRESTful webÊé•Âè£&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Âåó‰∫¨&quot;</span>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="URLÊ£ÄÁ¥¢"><a href="#URLÊ£ÄÁ¥¢" class="headerlink" title="URLÊ£ÄÁ¥¢"></a>URLÊ£ÄÁ¥¢</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">GET</span> /ems/emp/_search?<span class="hljs-attribute">q</span>=*&amp;sort=age:desc&amp;size=5&amp;from=0&amp;_source=name,age,bir<br><br>_searchÔºöÊêúÁ¥¢ÁöÑAPI<br><br><span class="hljs-attribute">q</span>=* ÔºöÂåπÈÖçÊâÄÊúâÊñáÊ°£<br><br><span class="hljs-attribute">sort</span>=ageÔºöÊåâÁÖßÊåáÂÆöÂ≠óÊÆµËøõË°åÊéíÂ∫èÔºåÈªòËÆ§‰∏∫ÂçáÂ∫èÔºå:desc ÈôçÂ∫èÊéíÂàó<br><br>sizeÔºöÂ±ïÁ§∫Â§öÂ∞ëÊù°Êï∞ÊçÆ<br><br><span class="hljs-keyword">from</span>ÔºöÂ±ïÁ§∫Á¨¨Âá†È°µ<br><br>_sourceÔºöÂè™ÂåπÈÖçÂì™‰∫õÂ≠óÊÆµ<br></code></pre></td></tr></table></figure>
<h4 id="DSLÊ£ÄÁ¥¢"><a href="#DSLÊ£ÄÁ¥¢" class="headerlink" title="DSLÊ£ÄÁ¥¢"></a>DSLÊ£ÄÁ¥¢</h4><h5 id="1-Êü•ËØ¢ÊâÄÊúâ-match-all"><a href="#1-Êü•ËØ¢ÊâÄÊúâ-match-all" class="headerlink" title="1. Êü•ËØ¢ÊâÄÊúâ(match_all)"></a>1. Êü•ËØ¢ÊâÄÊúâ(match_all)</h5><p><strong>match_allÂÖ≥ÈîÆÂ≠ó</strong>ÔºöËøîÂõûÁ¥¢Âºï‰∏≠ÁöÑÂÖ®ÈÉ®ÊñáÊ°£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="2-ÂØπÊü•ËØ¢ÁªìÊûúËøõË°åÊéíÂ∫è-sort"><a href="#2-ÂØπÊü•ËØ¢ÁªìÊûúËøõË°åÊéíÂ∫è-sort" class="headerlink" title="2. ÂØπÊü•ËØ¢ÁªìÊûúËøõË°åÊéíÂ∫è(sort)"></a>2. ÂØπÊü•ËØ¢ÁªìÊûúËøõË°åÊéíÂ∫è(sort)</h5><blockquote>
<p>keywordÁ±ªÂûã‰∏çËÉΩ‰Ωú‰∏∫ÊéíÂ∫è‰æùÊçÆ</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Â¶ÇÊûú‰ª•keywordÁ±ªÂûãÁöÑËøõË°åÊéíÂ∫èÂàô‰ºöÂá∫Áé∞ÈîôËØØ</span><br>GET /ems/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;sort&quot;</span>: [<br>    &#123;<br>      <span class="hljs-string">&quot;age&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;order&quot;</span>: <span class="hljs-string">&quot;desc&quot;</span><br>      &#125;<br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;bir&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;order&quot;</span>: <span class="hljs-string">&quot;desc&quot;</span><br>      &#125;<br>    &#125;<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="3-Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÊù°Êï∞-size"><a href="#3-Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÊù°Êï∞-size" class="headerlink" title="3. Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÊù°Êï∞(size)"></a>3. Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÊù°Êï∞(size)</h5><p><strong>size ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÊåáÂÆöÊü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÊù°Êï∞„ÄÇ¬†<strong>ÈªòËÆ§ËøîÂõûÂÄº10Êù°</strong><br>ÊòØÂØπÊü•ËØ¢ÁöÑÁªìÊûúËøõË°åÂ§ÑÁêÜ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;size&quot;</span>: 5<br>&#125;<br></code></pre></td></tr></table></figure>
<h5 id="4-ÂàÜÈ°µÊü•ËØ¢-from"><a href="#4-ÂàÜÈ°µÊü•ËØ¢-from" class="headerlink" title="4. ÂàÜÈ°µÊü•ËØ¢(from)"></a>4. ÂàÜÈ°µÊü•ËØ¢(from)</h5><p><strong>from ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÁî®Êù•ÊåáÂÆöËµ∑ÂßãËøîÂõû‰ΩçÁΩÆÔºåÂíåsizeÂÖ≥ÈîÆÂ≠óËøûÁî®ÂèØÂÆûÁé∞ÂàÜÈ°µÊïàÊûú</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;size&quot;</span>: 5,<br>  <span class="hljs-string">&quot;from&quot;</span>: 0<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="5-Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÂ≠óÊÆµ-source"><a href="#5-Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÂ≠óÊÆµ-source" class="headerlink" title="5. Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÂ≠óÊÆµ(_source)"></a>5. Êü•ËØ¢ÁªìÊûú‰∏≠ËøîÂõûÊåáÂÆöÂ≠óÊÆµ(_source)</h5><p><strong>_source ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÊòØ‰∏Ä‰∏™Êï∞ÁªÑ,Âú®Êï∞ÁªÑ‰∏≠Áî®Êù•ÊåáÂÆöÂ±ïÁ§∫ÈÇ£‰∫õÂ≠óÊÆµ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Â±ïÁ§∫Âçï‰∏™Â≠óÊÆµ</span><br>GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;_source&quot;</span>: <span class="hljs-string">&quot;name&quot;</span><br>&#125;<br><br><span class="hljs-comment"># Â±ïÁ§∫Â§ö‰∏™Â≠óÊÆµ</span><br>GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;_source&quot;</span>: [<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>]<br>&#125;<br></code></pre></td></tr></table></figure>
<h5 id="6-ÂÖ≥ÈîÆËØçÊü•ËØ¢-term"><a href="#6-ÂÖ≥ÈîÆËØçÊü•ËØ¢-term" class="headerlink" title="6. ÂÖ≥ÈîÆËØçÊü•ËØ¢(term)"></a>6. ÂÖ≥ÈîÆËØçÊü•ËØ¢(term)</h5><p><strong>term ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÁî®Êù•‰ΩøÁî®ÂÖ≥ÈîÆËØçÊü•ËØ¢</p>
<blockquote>
<p> ËøòÊúâ‰∏Ä‰∏™termsÔºåÂ§öÂÖ≥ÈîÆËØçÊü•ËØ¢</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># name ÊòØtextÁ±ªÂûãÔºå‰ºöËøõË°åÂàÜËØçÔºåÊâÄ‰ª•nameÂåÖÂê´‚ÄúÂº†‚ÄùÁöÑÊñáÊ°£ÈÉΩË°å</span><br>GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Âº†&quot;</span><br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment"># bir ÊòØdateÁ±ªÂûãÔºå‰∏ç‰ºöËøõË°åÂàÜËØçÔºåÊâÄ‰ª•Âè™ËÉΩËæìÂÖ•ÂÖ®ÈÉ®ËøõË°åÊü•ËØ¢</span><br>GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;bir&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;2012-12&quot;</span><br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>ÊÄªÁªìÔºö<br><strong>NOTE1</strong>ÔºöÈÄöËøá‰ΩøÁî®termÊü•ËØ¢ÂæóÁü•ES‰∏≠ÈªòËÆ§‰ΩøÁî®ÂàÜËØçÂô®‰∏∫Ê†áÂáÜÂàÜËØçÂô®(Standard Analyzer),Ê†áÂáÜÂàÜËØçÂô®ÂØπ‰∫é<strong>Ëã±ÊñáÂçïËØçÂàÜËØç</strong>ÔºåÂØπ‰∫é<strong>‰∏≠ÊñáÂçïÂ≠óÂàÜËØç</strong>„ÄÇ<br>ÔºàÊ†áÂáÜÂàÜËØçÂô®‰∏çÈÄÇÂêà‰∏≠ÊñáÔºâ</p>
<p><strong>NOTE2</strong>ÔºöÈÄöËøá‰ΩøÁî®termÊü•ËØ¢ÂæóÁü•,Âú®ESÁöÑMapping Type ‰∏≠ keyword , date ,integer, long , double , boolean or ip Ëøô‰∫õÁ±ªÂûã‰∏çÂàÜËØçÔºåÂè™Êúâ<strong>textÁ±ªÂûãÂàÜËØç</strong>„ÄÇ<br>ÔºàÊü•ÁúãÂàÜËØçÁöÑÊïàÊûúÈÄªËæë‰ΩøÁî® <code>GET /_analyze &#123;&quot;text&quot;:&quot;redis is open source db&quot;&#125;</code><br><code>GET /_analyze &#123;&quot;text&quot;:&quot;Java ÊòØ‰∏Ä‰∏™Ë∑®Âπ≥Âè∞ÁöÑ‰∫ßÂìÅ&quot;&#125;</code>)</p>
</blockquote>
<h5 id="7-ËåÉÂõ¥Êü•ËØ¢-range"><a href="#7-ËåÉÂõ¥Êü•ËØ¢-range" class="headerlink" title="7. ËåÉÂõ¥Êü•ËØ¢(range)"></a>7. ËåÉÂõ¥Êü•ËØ¢(range)</h5><p><strong>range ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÁî®Êù•ÊåáÂÆöÊü•ËØ¢ÊåáÂÆöËåÉÂõ¥ÂÜÖÁöÑÊñáÊ°£</p>
<blockquote>
<p>Âè™ÊòØÈíàÂØπ‰∏Ä‰∫õÁâπÊÆäÁöÑÂ≠óÊÆµÊØîÂ¶ÇageÁ≠â</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Êü•ËØ¢age&gt;=5,&lt;=10ÁöÑÊñáÊ°£</span><br><span class="hljs-comment"># gte &gt;=</span><br><span class="hljs-comment"># lte &lt;=</span><br><span class="hljs-comment"># gt &gt;</span><br><span class="hljs-comment"># le &lt;</span><br>GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;range&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;age&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;gte&quot;</span>: 5,<br>        <span class="hljs-string">&quot;lte&quot;</span>: 10<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="8-ÂâçÁºÄÊü•ËØ¢-prefix"><a href="#8-ÂâçÁºÄÊü•ËØ¢-prefix" class="headerlink" title="8. ÂâçÁºÄÊü•ËØ¢(prefix)"></a>8. ÂâçÁºÄÊü•ËØ¢(prefix)</h5><p><strong>prefix ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÁî®Êù•Ê£ÄÁ¥¢Âê´ÊúâÊåáÂÆöÂâçÁºÄÁöÑÂÖ≥ÈîÆËØçÁöÑÁõ∏ÂÖ≥ÊñáÊ°£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;prefix&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Âº†&quot;</span><br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>Ê≥®ÊÑèÔºö ÊåáÂÆöÁöÑÂâçÁºÄÂπ∂‰∏çÊòØËØ¥ÂÖÉÊï∞ÊçÆÊñáÊ°£‰∏≠nameÂ±ûÊÄß‰ª•‚ÄùÂº†‚Äù‰∏∫ÂâçÁºÄÁöÑÔºåËÄåÊòØÂåπÈÖçÁöÑÁªèËøáÂàÜËØçÂô®ÂàÜËØçÂêéÁ¥¢ÂºïÂå∫ÁöÑÊï∞ÊçÆÔºåËøôÈáå‚ÄùÂº†Êó†Âøå‚ÄùÁªèËøáÂàÜËØçÂêé‰∏∫Ôºö‚ÄúÂº†‚Äù,‚ÄúÊó†‚Äù,‚ÄúÂøå‚ÄùÔºåÊó†ËÆ∫ÂåπÈÖçÂà∞Âì™‰∏™ÈÉΩ‰ºöÊåáÂêëÈÇ£‰ªΩÊñáÊ°£</p>
</blockquote>
<h5 id="9-ÈÄöÈÖçÁ¨¶Êü•ËØ¢-wildcard"><a href="#9-ÈÄöÈÖçÁ¨¶Êü•ËØ¢-wildcard" class="headerlink" title="9. ÈÄöÈÖçÁ¨¶Êü•ËØ¢(wildcard)"></a>9. ÈÄöÈÖçÁ¨¶Êü•ËØ¢(wildcard)</h5><p><strong>wildcard ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÈÄöÈÖçÁ¨¶Êü•ËØ¢ ? Áî®Êù•ÂåπÈÖç‰∏Ä‰∏™‰ªªÊÑèÂ≠óÁ¨¶ * Áî®Êù•ÂåπÈÖçÂ§ö‰∏™‰ªªÊÑèÂ≠óÁ¨¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;wildcard&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Âº†*&quot;</span><br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>ËøôÈáåÁöÑÂåπÈÖç‰πüÊòØÈíàÂØπÁ¥¢ÂºïÂå∫ÈáåÈù¢ÁöÑÊï∞ÊçÆ</p>
</blockquote>
<h5 id="10-Â§öidÊü•ËØ¢-ids"><a href="#10-Â§öidÊü•ËØ¢-ids" class="headerlink" title="10. Â§öidÊü•ËØ¢(ids)"></a>10. Â§öidÊü•ËØ¢(ids)</h5><p><strong>ids ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÂÄº‰∏∫Êï∞ÁªÑÁ±ªÂûã,Áî®Êù•Ê†πÊçÆ‰∏ÄÁªÑidËé∑ÂèñÂ§ö‰∏™ÂØπÂ∫îÁöÑÊñáÊ°£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;ids&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;values&quot;</span>: [<span class="hljs-string">&quot;AlSspHYBh-o7eO8i7bUf&quot;</span>,<span class="hljs-string">&quot;BVSspHYBh-o7eO8i7bUf&quot;</span>]<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="11-Ê®°Á≥äÊü•ËØ¢-fuzzy"><a href="#11-Ê®°Á≥äÊü•ËØ¢-fuzzy" class="headerlink" title="11. Ê®°Á≥äÊü•ËØ¢(fuzzy)"></a>11. Ê®°Á≥äÊü•ËØ¢(fuzzy)</h5><p><strong>fuzzy ÂÖ≥ÈîÆÂ≠ó</strong>: Áî®Êù•Ê®°Á≥äÊü•ËØ¢Âê´ÊúâÊåáÂÆöÂÖ≥ÈîÆÂ≠óÁöÑÊñáÊ°£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;fuzzy&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;sprin&quot;</span><br>      &#125;<br>  &#125;<br>&#125;<br><span class="hljs-comment"># ËøôÈáåÊêúÁ¥¢ÁöÑÂÖ≥ÈîÆËØçÈïøÂ∫¶‰∏∫5ÔºåÂÖÅËÆ∏‰∏ÄÊ¨°Ê®°Á≥äÔºåÁ¥¢ÂºïÂå∫ÁöÑÊï∞ÊçÆ‰∏∫springËÉΩÁõ∏Â∫îÂåπÈÖçÔºåÂàöÂ•ΩÂ∑Æ1</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>Ê®°Á≥äÊü•ËØ¢ÁöÑËßÑÂàôÔºö fuzzy Ê®°Á≥äÊü•ËØ¢ <strong>ÊúÄÂ§ßÊ®°Á≥äÈîôËØØ ÂøÖÈ°ªÂú®0-2‰πãÈó¥</strong><br>ÊêúÁ¥¢ÂÖ≥ÈîÆËØçÈïøÂ∫¶ <strong>Â∞è‰∫é2</strong> ‰∏çÂÖÅËÆ∏Â≠òÂú®Ê®°Á≥äÔºàÂøÖÈ°ªÁ≤æÁ°ÆÂåπÈÖçÔºå‰∏çÂÖÅËÆ∏ÈîôËØØÔºâ<br>ÊêúÁ¥¢ÂÖ≥ÈîÆËØçÈïøÂ∫¶‰∏∫<strong>3-5</strong> ÂÖÅËÆ∏‰∏ÄÊ¨°Ê®°Á≥äÔºàÊúÄÂ§ö‰∏ÄÊ¨°ÈîôËØØÔºâ<br>ÊêúÁ¥¢ÂÖ≥ÈîÆËØçÈïøÂ∫¶ <strong>Â§ß‰∫é5</strong> ÂÖÅËÆ∏‰∏§Ê¨°Ê®°Á≥äÔºàÊúÄÂ§ö‰∏§Ê¨°ÈîôËØØÔºâÔºâ</p>
</blockquote>
<h5 id="12-Â∏ÉÂ∞îÊü•ËØ¢-bool"><a href="#12-Â∏ÉÂ∞îÊü•ËØ¢-bool" class="headerlink" title="12. Â∏ÉÂ∞îÊü•ËØ¢(bool)"></a>12. Â∏ÉÂ∞îÊü•ËØ¢(bool)</h5><p><strong>bool ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÁî®Êù•ÁªÑÂêàÂ§ö‰∏™Êù°‰ª∂ÂÆûÁé∞Â§çÊùÇÊü•ËØ¢</p>
<ul>
<li><p>must: Áõ∏ÂΩì‰∫é&amp;&amp;ÂêåÊó∂ÊàêÁ´ãÔºàandÔºâ</p>
</li>
<li><p>should: Áõ∏ÂΩì‰∫é|| ÊàêÁ´ã‰∏Ä‰∏™Â∞±Ë°åÔºàorÔºâ</p>
</li>
<li><p>must_not: Áõ∏ÂΩì‰∫é! ‰∏çËÉΩÊª°Ë∂≥‰ªª‰Ωï‰∏Ä‰∏™</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;must&quot;</span>: [<br>        &#123;<br>          <span class="hljs-string">&quot;range&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;age&quot;</span>: &#123;<br>              <span class="hljs-string">&quot;gte&quot;</span>: 5,<br>              <span class="hljs-string">&quot;lte&quot;</span>: 10<br>            &#125;<br>          &#125;<br>        &#125;<br>      ],<br>      <span class="hljs-string">&quot;must_not&quot;</span>: [<br>        &#123;<br>          <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;address&quot;</span>: &#123;<br>              <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Âçó&quot;</span><br>            &#125;<br>          &#125;<br>        &#125;<br>      ]<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="13-È´ò‰∫ÆÊü•ËØ¢-highlight"><a href="#13-È´ò‰∫ÆÊü•ËØ¢-highlight" class="headerlink" title="13. È´ò‰∫ÆÊü•ËØ¢(highlight)"></a>13. È´ò‰∫ÆÊü•ËØ¢(highlight)</h5><p><strong>highlight ÂÖ≥ÈîÆÂ≠ó</strong>ÔºöÂèØ‰ª•ËÆ©Á¨¶ÂêàÊù°‰ª∂ÁöÑÊñáÊ°£‰∏≠ÁöÑÂÖ≥ÈîÆËØçÈ´ò‰∫Æ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;‰∫î&quot;</span><br>      &#125;<br>    &#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;highlight&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;fields&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;*&quot;</span>:&#123;&#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br>ÁªìÊûú‰∏≠Ôºö<br><span class="hljs-string">&quot;hits&quot;</span> : [<br>  &#123;<br>	<span class="hljs-string">&quot;_index&quot;</span> : <span class="hljs-string">&quot;ems&quot;</span>,<br>	<span class="hljs-string">&quot;_type&quot;</span> : <span class="hljs-string">&quot;emp&quot;</span>,<br>	<span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;oGsdM4IBp8eFhO_IzLHc&quot;</span>,<br>	<span class="hljs-string">&quot;_score&quot;</span> : 0.2876821,<br>	<span class="hljs-string">&quot;_source&quot;</span> : &#123;<br>	  <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;Âº†Â∞è‰∫î&quot;</span>,<br>	  <span class="hljs-string">&quot;age&quot;</span> : 8,<br>	  <span class="hljs-string">&quot;bir&quot;</span> : <span class="hljs-string">&quot;2012-12-12&quot;</span>,<br>	  <span class="hljs-string">&quot;content&quot;</span> : <span class="hljs-string">&quot;Spring Cloud ‰Ωú‰∏∫Java ËØ≠Ë®ÄÁöÑÂæÆÊúçÂä°Ê°ÜÊû∂ÔºåÂÆÉ‰æùËµñ‰∫éSpring BootÔºåÊúâÂø´ÈÄüÂºÄÂèë„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÂÆπÊòìÈÉ®ÁΩ≤Á≠âÁâπÁÇπ„ÄÇSpring Cloud ÁöÑÁªÑ‰ª∂ÈùûÂ∏∏Â§öÔºåÊ∂âÂèäÂæÆÊúçÂä°ÁöÑÊñπÊñπÈù¢Èù¢Ôºå‰∫ïÂú®ÂºÄÊ∫êÁ§æÂå∫Spring ÂíåNetflix „ÄÅPivotal ‰∏§Â§ßÂÖ¨Âè∏ÁöÑÊé®Âä®‰∏ãË∂äÊù•Ë∂äÂÆåÂñÑ&quot;</span>,<br>	  <span class="hljs-string">&quot;address&quot;</span> : <span class="hljs-string">&quot;Êó†Èî°&quot;</span><br>	&#125;,<br>	<span class="hljs-string">&quot;highlight&quot;</span> : &#123;<br>	  <span class="hljs-string">&quot;name&quot;</span> : [<br>		<span class="hljs-string">&quot;Âº†Â∞è&lt;em&gt;‰∫î&lt;/em&gt;&quot;</span><br>	  ]<br>	&#125;<br>  &#125;<br>]<br><br><span class="hljs-comment"># &quot;*&quot;:&#123;&#125;    ‰ª£Ë°®ÊâÄÊúâÂú∞ÊñπÂè™Ë¶ÅÂåÖÂê´Êü•ËØ¢ÁöÑËØçÈÉΩÈ´ò‰∫Æ</span><br><span class="hljs-comment"># &quot;name&quot;:&#123;&#125; Âè™ÊúânameÂåÖÂê´Êü•ËØ¢ÁöÑËØçÈ´ò‰∫Æ</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>highlight ÊòØÂØπÊü•ËØ¢ÂêéÁöÑÁªìÊûúËøõË°åÈ´ò‰∫ÆÔºåÊâÄ‰ª•Ë¶ÅÊîæÂú®‚Äùquery‚Äù‰πãÂêéËøõË°åÔºåÂêåÊó∂ÔºåÂπ∂‰∏çÊòØÂú®ÂéüÊï∞ÊçÆ‰∏äËøõË°åÊìç‰ΩúÔºåËÄåÊòØÊñ∞Â¢û‰∫Ü‰∏ÄÊÆµhighlightÔºåÂπ∂‰∏∫ÈúÄË¶ÅÈ´ò‰∫ÆÁöÑÂú∞ÊñπÂ¢ûÂä†Ê†áÁ≠æ„ÄÇÔºàÈªòËÆ§ÊòØ<code>&lt;em&gt;Êñú‰Ωì&lt;/em&gt;</code>Ôºâ</p>
</blockquote>
<blockquote>
<p>Ëá™ÂÆö‰πâÈ´ò‰∫ÆhtmlÊ†áÁ≠æ: ÂèØ‰ª•Âú®highlight‰∏≠‰ΩøÁî®pre_tagsÂíåpost_tags</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;‰∫î&quot;</span><br>      &#125;<br>    &#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;highlight&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;pre_tags&quot;</span>: [<span class="hljs-string">&quot;&lt;span style=&#x27;color:red&#x27;&gt;&quot;</span>], <br>    <span class="hljs-string">&quot;post_tags&quot;</span>: [<span class="hljs-string">&quot;&lt;/span&gt;&quot;</span>], <br>    <span class="hljs-string">&quot;fields&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;name&quot;</span>:&#123;&#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment"># ÁªìÊûú</span><br><span class="hljs-string">&quot;hits&quot;</span> : [<br>  &#123;<br>	<span class="hljs-string">&quot;_index&quot;</span> : <span class="hljs-string">&quot;ems&quot;</span>,<br>	<span class="hljs-string">&quot;_type&quot;</span> : <span class="hljs-string">&quot;emp&quot;</span>,<br>	<span class="hljs-string">&quot;_id&quot;</span> : <span class="hljs-string">&quot;AlSspHYBh-o7eO8i7bUf&quot;</span>,<br>	<span class="hljs-string">&quot;_score&quot;</span> : 0.2876821,<br>	<span class="hljs-string">&quot;_source&quot;</span> : &#123;<br>	  <span class="hljs-string">&quot;name&quot;</span> : <span class="hljs-string">&quot;Âº†Â∞è‰∫î&quot;</span>,<br>	  <span class="hljs-string">&quot;age&quot;</span> : 8,<br>	  <span class="hljs-string">&quot;bir&quot;</span> : <span class="hljs-string">&quot;2012-12-12&quot;</span>,<br>	  <span class="hljs-string">&quot;content&quot;</span> : <span class="hljs-string">&quot;Spring Cloud ‰Ωú‰∏∫Java ËØ≠Ë®ÄÁöÑÂæÆÊúçÂä°Ê°ÜÊû∂ÔºåÂÆÉ‰æùËµñ‰∫éSpring BootÔºåÊúâÂø´ÈÄüÂºÄÂèë„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÂÆπÊòìÈÉ®ÁΩ≤Á≠âÁâπÁÇπ„ÄÇSpring Cloud ÁöÑÁªÑ‰ª∂ÈùûÂ∏∏Â§öÔºåÊ∂âÂèäÂæÆÊúçÂä°ÁöÑÊñπÊñπÈù¢Èù¢Ôºå‰∫ïÂú®ÂºÄÊ∫êÁ§æÂå∫Spring ÂíåNetflix „ÄÅPivotal ‰∏§Â§ßÂÖ¨Âè∏ÁöÑÊé®Âä®‰∏ãË∂äÊù•Ë∂äÂÆåÂñÑ&quot;</span>,<br>	  <span class="hljs-string">&quot;address&quot;</span> : <span class="hljs-string">&quot;Êó†Èî°&quot;</span><br>	&#125;,<br>	<span class="hljs-string">&quot;highlight&quot;</span> : &#123;<br>	  <span class="hljs-string">&quot;name&quot;</span> : [<br>		<span class="hljs-string">&quot;Âº†Â∞è&lt;span style=&#x27;color:red&#x27;&gt;‰∫î&lt;/span&gt;&quot;</span><br>	  ]<br>	&#125;<br>  &#125;<br>]<br></code></pre></td></tr></table></figure>

<h5 id="14-Â§öÂ≠óÊÆµÊü•ËØ¢-multi-match"><a href="#14-Â§öÂ≠óÊÆµÊü•ËØ¢-multi-match" class="headerlink" title="14. Â§öÂ≠óÊÆµÊü•ËØ¢(multi_match)"></a>14. Â§öÂ≠óÊÆµÊü•ËØ¢(multi_match)</h5><p>ÊúâÊó∂ÂÄôÂÖâËøõË°å‰∏ÄÈ°πÂ≠óÊÆµÂåπÈÖç‰ΩìÈ™åÊïàÊûúÂπ∂‰∏çÊòØÂæàÂ•ΩÔºåÊâÄ‰ª•ÂèØ‰ª•ÂêåÊó∂Â§öÂ≠óÊÆµÂåπÈÖç</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;multi_match&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;query&quot;</span>: <span class="hljs-string">&quot;‰∏≠ÂõΩ&quot;</span>,              <span class="hljs-comment"># ÂÖ≥ÈîÆËØç</span><br>      <span class="hljs-string">&quot;fields&quot;</span>: [<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>]  <span class="hljs-comment">#ËøôÈáåÂÜôË¶ÅÊ£ÄÁ¥¢ÁöÑÊåáÂÆöÂ≠óÊÆµ</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>Ê≥®ÊÑèÔºö Ê£ÄÁ¥¢ÁöÑÂÖ≥ÈîÆËØçÊòØÂê¶ÈúÄË¶ÅÊãÜÂºÄÊù•Ê£ÄÁ¥¢ËøòÈúÄË¶ÅÁúãÊåáÂÆöÁöÑÂ≠óÊÆµÊòØÂê¶ÊúâÂàÜËØç<br>Âç≥ 1. Â¶ÇÊûúÊêúÁ¥¢ÁöÑÂ≠óÊÆµÂàÜËØçÔºå‰ºöÂØπqueryËøõË°åÂÖàÂàÜËØçÂú®ÊêúÁ¥¢<br>       2. Â¶ÇÊûúÊêúÁ¥¢ÁöÑÂ≠óÊÆµ‰∏çÂàÜËØçÔºå‰ºöÁõ¥Êé•‰ΩøÁî®queryÊï¥‰ΩìËøõË°åËØ•Â≠óÊÆµÊêúÁ¥¢</p>
</blockquote>
<h5 id="15-Â§öÂ≠óÊÆµÂàÜËØçÊü•ËØ¢-query-string"><a href="#15-Â§öÂ≠óÊÆµÂàÜËØçÊü•ËØ¢-query-string" class="headerlink" title="15. Â§öÂ≠óÊÆµÂàÜËØçÊü•ËØ¢(query_string)"></a>15. Â§öÂ≠óÊÆµÂàÜËØçÊü•ËØ¢(query_string)</h5><p>ËØ•ÂÖ≥ÈîÆËØçÂèØ‰ª•Â¢ûÂä†ÂàÜËØçÂô®</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /dangdang/book/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;query_string&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;query&quot;</span>: <span class="hljs-string">&quot;‰∏≠ÂõΩÂ£∞Èü≥&quot;</span>,          <span class="hljs-comment"># ÂÖ≥ÈîÆËØç</span><br>      <span class="hljs-string">&quot;analyzer&quot;</span>: <span class="hljs-string">&quot;ik_max_word&quot;</span>,   <span class="hljs-comment"># ÂàÜËØçÂô®</span><br>      <span class="hljs-string">&quot;fields&quot;</span>: [<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>] <span class="hljs-comment">#ËøôÈáåÂÜôË¶ÅÊ£ÄÁ¥¢ÁöÑÊåáÂÆöÂ≠óÊÆµ</span><br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>Ê≥®ÊÑèÔºö Ê£ÄÁ¥¢ÁöÑÂÖ≥ÈîÆËØçÊòØÂê¶ÈúÄË¶ÅÊãÜÂºÄÊù•Ê£ÄÁ¥¢ËøòÈúÄË¶ÅÁúãÊåáÂÆöÁöÑÂ≠óÊÆµÊòØÂê¶ÊúâÂàÜËØç<br>Âç≥ 1. Â¶ÇÊûúÊêúÁ¥¢ÁöÑÂ≠óÊÆµÂàÜËØçÔºå‰ºöÂØπqueryËøõË°åÂÖàÂàÜËØçÂú®ÊêúÁ¥¢<br>       2. Â¶ÇÊûúÊêúÁ¥¢ÁöÑÂ≠óÊÆµ‰∏çÂàÜËØçÔºå‰ºöÁõ¥Êé•‰ΩøÁî®queryÊï¥‰ΩìËøõË°åËØ•Â≠óÊÆµÊêúÁ¥¢</p>
</blockquote>
<h2 id="üåÑIKÂàÜËØçÂô®"><a href="#üåÑIKÂàÜËØçÂô®" class="headerlink" title="üåÑIKÂàÜËØçÂô®"></a>üåÑIKÂàÜËØçÂô®</h2><p>ÈªòËÆ§ES‰∏≠ÈááÁî®Ê†áÂáÜÂàÜËØçÂô®ËøõË°åÂàÜËØçÔºåËøôÁßçÊñπÂºèÂπ∂‰∏çÈÄÇÁî®‰∫é‰∏≠ÊñáÁΩëÁ´ôÔºåÂõ†Ê≠§ÈúÄË¶Å‰øÆÊîπESÂØπ‰∏≠ÊñáÂèãÂ•ΩÂàÜËØç,‰ªéËÄåËææÂà∞Êõ¥‰Ω≥ÁöÑÊêúÁ¥¢ÁöÑÊïàÊûú„ÄÇ<br>ÂÆòÊñπÁΩëÁ´ôÔºö<a target="_blank" rel="noopener" href="https://github.com/medcl/elasticsearch-analysis-ik">GitHub - medcl&#x2F;elasticsearch-analysis-ik: The IK Analysis plugin integrates Lucene IK analyzer into elasticsearch, support customized dictionary.</a></p>
<h3 id="Âú®Á∫øÂÆâË£ÖIK"><a href="#Âú®Á∫øÂÆâË£ÖIK" class="headerlink" title="Âú®Á∫øÂÆâË£ÖIK"></a>Âú®Á∫øÂÆâË£ÖIK</h3><p>v5.5.1ÁâàÊú¨ÂêéÂºÄÂßãÊîØÊåÅÂú®Á∫øÂÆâË£Ö </p>
<h4 id="0„ÄÅËøõÂÖ•elasticsearchÁõÆÂΩï"><a href="#0„ÄÅËøõÂÖ•elasticsearchÁõÆÂΩï" class="headerlink" title="0„ÄÅËøõÂÖ•elasticsearchÁõÆÂΩï"></a>0„ÄÅËøõÂÖ•elasticsearchÁõÆÂΩï</h4><p><code>docker exec -it elasticsearch bash</code></p>
<h4 id="1„ÄÅÂà†Èô§ESÂéüÂßãÊï∞ÊçÆ"><a href="#1„ÄÅÂà†Èô§ESÂéüÂßãÊï∞ÊçÆ" class="headerlink" title="1„ÄÅÂà†Èô§ESÂéüÂßãÊï∞ÊçÆ"></a>1„ÄÅÂà†Èô§ESÂéüÂßãÊï∞ÊçÆ</h4><p>Âõ†‰∏∫‰πãÂâçÂèØËÉΩ‰ΩøÁî®ÁöÑÊ†áÂáÜÂàÜËØçÂô®ÔºåÂ¶ÇÊûúÂ≠òÂú®Êï∞ÊçÆÔºåÁé∞Âú®Âèà‰ΩøÁî®IKÂàÜËØçÂô®‰ºöÂá∫Áé∞ÂÜ≤Á™Å<br>ËøõÂÖ•esÂÆâË£ÖÁõÆÂΩï‰∏≠Â∞ÜdataÁõÆÂΩïÊï∞ÊçÆÂà†Èô§</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">rm</span> -rf data<br></code></pre></td></tr></table></figure>

<h4 id="2„ÄÅÂÆâË£ÖIK"><a href="#2„ÄÅÂÆâË£ÖIK" class="headerlink" title="2„ÄÅÂÆâË£ÖIK"></a>2„ÄÅÂÆâË£ÖIK</h4><p>Âú®esÂÆâË£ÖÁöÑbinÁõÆÂΩï‰∏≠ÊâßË°åÂ¶Ç‰∏ãÂëΩ‰ª§</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.8.23/elasticsearch-analysis-ik-6.8.23.zip<br><br></code></pre></td></tr></table></figure>
<blockquote>
<p>NOTE: Ë¶ÅÊ±ÇÁâàÊú¨‰∏•Ê†º‰∏éÂΩìÂâç‰ΩøÁî®ÁâàÊú¨‰∏ÄËá¥,Â¶ÇÈúÄ‰ΩøÁî®ÂÖ∂‰ªñÁâàÊú¨ÊõøÊç¢ 6.8.0 ‰∏∫‰ΩøÁî®ÁöÑÁâàÊú¨Âè∑</p>
</blockquote>
<h4 id="3„ÄÅÊü•ÁúãIK"><a href="#3„ÄÅÊü•ÁúãIK" class="headerlink" title="3„ÄÅÊü•ÁúãIK"></a>3„ÄÅÊü•ÁúãIK</h4><p>ÂÆâË£ÖÂÆåÊàêÂêé‰ºöÂú®pluginsÁõÆÂΩï‰∏ãÔºåÁîüÊàêIK</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@linux elasticsearch-6.8.0]$ <span class="hljs-built_in">ls</span> plugins/<br>analysis-ik<br></code></pre></td></tr></table></figure>

<h4 id="4„ÄÅÈáçÂêØes"><a href="#4„ÄÅÈáçÂêØes" class="headerlink" title="4„ÄÅÈáçÂêØes"></a>4„ÄÅÈáçÂêØes</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker restart elasticsearch<br></code></pre></td></tr></table></figure>

<h4 id="5„ÄÅÊµãËØïÂàÜËØçÂÆâË£ÖÊàêÂäü"><a href="#5„ÄÅÊµãËØïÂàÜËØçÂÆâË£ÖÊàêÂäü" class="headerlink" title="5„ÄÅÊµãËØïÂàÜËØçÂÆâË£ÖÊàêÂäü"></a>5„ÄÅÊµãËØïÂàÜËØçÂÆâË£ÖÊàêÂäü</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">http://192.168.153.132:5601/ -&gt; devtools<br><br>GET /_analyze<br>&#123;<br>  <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂõΩÊ≠å&quot;</span>,<br>  <span class="hljs-string">&quot;analyzer&quot;</span>: <span class="hljs-string">&quot;ik_smart&quot;</span><br>&#125;<br><br><span class="hljs-comment"># ÁªìÊûú</span><br>&#123;<br>  <span class="hljs-string">&quot;tokens&quot;</span> : [<br>    &#123;<br>      <span class="hljs-string">&quot;token&quot;</span> : <span class="hljs-string">&quot;‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ&quot;</span>,<br>      <span class="hljs-string">&quot;start_offset&quot;</span> : 0,<br>      <span class="hljs-string">&quot;end_offset&quot;</span> : 7,<br>      <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;CN_WORD&quot;</span>,<br>      <span class="hljs-string">&quot;position&quot;</span> : 0<br>    &#125;,<br>    &#123;<br>      <span class="hljs-string">&quot;token&quot;</span> : <span class="hljs-string">&quot;ÂõΩÊ≠å&quot;</span>,<br>      <span class="hljs-string">&quot;start_offset&quot;</span> : 7,<br>      <span class="hljs-string">&quot;end_offset&quot;</span> : 9,<br>      <span class="hljs-string">&quot;type&quot;</span> : <span class="hljs-string">&quot;CN_WORD&quot;</span>,<br>      <span class="hljs-string">&quot;position&quot;</span> : 1<br>    &#125;<br>  ]<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>IKÂàÜËØçÂô®Êèê‰æõ‰∫Ü‰∏§ÁßçmappingÁ±ªÂûãÁî®Êù•ÂÅöÊñáÊ°£ÁöÑÂàÜËØçÂàÜÂà´ÊòØ ik_max_word Âíå ik_smart<br>ik_max_word: ‰ºöÂ∞ÜÊñáÊú¨ÂÅöÊúÄÁªÜÁ≤íÂ∫¶ÁöÑÊãÜÂàÜÔºåÊØîÂ¶Ç‰ºöÂ∞Ü‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂõΩÊ≠å‚ÄùÊãÜÂàÜ‰∏∫‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ,‰∏≠Âçé‰∫∫Ê∞ë,‰∏≠Âçé,Âçé‰∫∫,‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ,‰∫∫Ê∞ë,‰∫∫,Ê∞ë,ÂÖ±ÂíåÂõΩ,ÂÖ±Âíå,Âíå,ÂõΩÂõΩ,ÂõΩÊ≠å‚ÄùÔºå‰ºöÁ©∑Â∞ΩÂêÑÁßçÂèØËÉΩÁöÑÁªÑÂêàÔºõ</p>
<p>ik_smart: ‰ºöÂÅöÊúÄÁ≤óÁ≤íÂ∫¶ÁöÑÊãÜÂàÜÔºåÊØîÂ¶Ç‰ºöÂ∞Ü‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩÂõΩÊ≠å‚ÄùÊãÜÂàÜ‰∏∫‚Äú‰∏≠Âçé‰∫∫Ê∞ëÂÖ±ÂíåÂõΩ,ÂõΩÊ≠å‚Äù</p>
</blockquote>
<h3 id="Êú¨Âú∞ÂÆâË£ÖIK"><a href="#Êú¨Âú∞ÂÆâË£ÖIK" class="headerlink" title="Êú¨Âú∞ÂÆâË£ÖIK"></a>Êú¨Âú∞ÂÆâË£ÖIK</h3><h4 id="1„ÄÅ‰∏ãËΩΩIKÂÆâË£ÖÂåÖ"><a href="#1„ÄÅ‰∏ãËΩΩIKÂÆâË£ÖÂåÖ" class="headerlink" title="1„ÄÅ‰∏ãËΩΩIKÂÆâË£ÖÂåÖ"></a>1„ÄÅ‰∏ãËΩΩIKÂÆâË£ÖÂåÖ</h4><p><a target="_blank" rel="noopener" href="https://github.com/medcl/elasticsearch-analysis-ik/releases?after=v6.8.2">https://github.com/medcl/elasticsearch-analysis-ik/releases?after=v6.8.2</a></p>
<h4 id="2„ÄÅÂÆâË£Öunzip"><a href="#2„ÄÅÂÆâË£Öunzip" class="headerlink" title="2„ÄÅÂÆâË£Öunzip"></a>2„ÄÅÂÆâË£Öunzip</h4><p>Áî±‰∫éÂÆâË£ÖÂåÖÊòØzipÊ†ºÂºèÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅunzipÊñπÂºèËß£Âéã</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install -y unzip<br></code></pre></td></tr></table></figure>

<h4 id="3„ÄÅÂàõÂª∫IKÁõÆÂΩï"><a href="#3„ÄÅÂàõÂª∫IKÁõÆÂΩï" class="headerlink" title="3„ÄÅÂàõÂª∫IKÁõÆÂΩï"></a>3„ÄÅÂàõÂª∫IKÁõÆÂΩï</h4><p>Êú¨Âú∞ÊñπÂºè‰∏çÂÉèÂú®Á∫øÂÆâË£ÖÊñπÂºè‰ºöËá™Â∑±ÁîüÊàê‰∏Ä‰∏™ÁõÆÂΩïÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅËá™Â∑±ÂàõÂª∫‰∏Ä‰∏™ÁõÆÂΩïÔºåÊääikËß£ÂéãÂú®ÈáåÈù¢<br>ËøôÈáåÊàë‰ª¨Â∞±Âú®plugins‰∏ãÊñ∞Âª∫ÁõÆÂΩï</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> IK<br></code></pre></td></tr></table></figure>

<h4 id="4„ÄÅÁßªÂä®Âà∞esÂÆâË£ÖÁõÆÂΩïÁöÑpluginsÁõÆÂΩï‰∏≠"><a href="#4„ÄÅÁßªÂä®Âà∞esÂÆâË£ÖÁõÆÂΩïÁöÑpluginsÁõÆÂΩï‰∏≠" class="headerlink" title="4„ÄÅÁßªÂä®Âà∞esÂÆâË£ÖÁõÆÂΩïÁöÑpluginsÁõÆÂΩï‰∏≠"></a>4„ÄÅÁßªÂä®Âà∞esÂÆâË£ÖÁõÆÂΩïÁöÑpluginsÁõÆÂΩï‰∏≠</h4><p><code>mv elasticsearch-analysis-ik-6.8.0.zip elasticsearch-6.8.0/plugins/IK</code></p>
<h4 id="5„ÄÅËß£ÂéãIK"><a href="#5„ÄÅËß£ÂéãIK" class="headerlink" title="5„ÄÅËß£ÂéãIK"></a>5„ÄÅËß£ÂéãIK</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">unzip elasticsearch-analysis-ik-6.8.0.zip<br></code></pre></td></tr></table></figure>

<h4 id="6„ÄÅÈáçÂêØES"><a href="#6„ÄÅÈáçÂêØES" class="headerlink" title="6„ÄÅÈáçÂêØES"></a>6„ÄÅÈáçÂêØES</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker restart elasticsearch<br></code></pre></td></tr></table></figure>

<h3 id="Âç∏ËΩΩIK"><a href="#Âç∏ËΩΩIK" class="headerlink" title="Âç∏ËΩΩIK"></a>Âç∏ËΩΩIK</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> plugins <br><span class="hljs-built_in">rm</span> -rf analysis-ik/<br></code></pre></td></tr></table></figure>

<h3 id="ÊµãËØï"><a href="#ÊµãËØï" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Âà†Èô§ÂéüÊúâÁöÑemsÁ¥¢ÂºïÊï∞ÊçÆ</span><br>DELETE /ems<br><br><span class="hljs-comment"># Êñ∞Âª∫Á¥¢Âºï/Á±ªÂûã/Á∫¶Êùü</span><br><span class="hljs-comment"># ÂêåÊó∂ÈíàÂØπÂ±ûÊÄßÂ¢ûÂä†‰∫Ü‰ΩøÁî®IKÂàÜËØçÂô®</span><br>PUT /ems<br>&#123;<br>  <span class="hljs-string">&quot;mappings&quot;</span>:&#123;<br>    <span class="hljs-string">&quot;emp&quot;</span>:&#123;<br>      <span class="hljs-string">&quot;properties&quot;</span>:&#123;<br>        <span class="hljs-string">&quot;name&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;text&quot;</span>,<br>           <span class="hljs-string">&quot;analyzer&quot;</span>: <span class="hljs-string">&quot;ik_max_word&quot;</span>,<br>           <span class="hljs-string">&quot;search_analyzer&quot;</span>: <span class="hljs-string">&quot;ik_max_word&quot;</span>     <span class="hljs-comment">#ÂèØÂÜôÂèØ‰∏çÂÜô</span><br>        &#125;,<br>        <span class="hljs-string">&quot;age&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;integer&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;bir&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;date&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;content&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;text&quot;</span>,<br>          <span class="hljs-string">&quot;analyzer&quot;</span>: <span class="hljs-string">&quot;ik_max_word&quot;</span>,<br>          <span class="hljs-string">&quot;search_analyzer&quot;</span>: <span class="hljs-string">&quot;ik_max_word&quot;</span><br>        &#125;,<br>        <span class="hljs-string">&quot;address&quot;</span>:&#123;<br>          <span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;keyword&quot;</span><br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment"># Ê∑ªÂä†Êï∞ÊçÆ</span><br>PUT /ems/emp/_bulk<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Â∞èÈªë&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:23,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;‰∏∫ÂºÄÂèëÂõ¢ÈòüÈÄâÊã©‰∏ÄÊ¨æ‰ºòÁßÄÁöÑMVCÊ°ÜÊû∂ÊòØ‰ª∂Èöæ‰∫ãÂÑøÔºåÂú®‰ºóÂ§öÂèØË°åÁöÑÊñπÊ°à‰∏≠ÂÜ≥Êã©ÈúÄË¶ÅÂæàÈ´òÁöÑÁªèÈ™åÂíåÊ∞¥Âπ≥&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Âåó‰∫¨&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;ÁéãÂ∞èÈªë&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:24,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;Spring Ê°ÜÊû∂ÊòØ‰∏Ä‰∏™ÂàÜÂ±ÇÊû∂ÊûÑÔºåÁî± 7 ‰∏™ÂÆö‰πâËâØÂ•ΩÁöÑÊ®°ÂùóÁªÑÊàê„ÄÇSpring Ê®°ÂùóÊûÑÂª∫Âú®Ê†∏ÂøÉÂÆπÂô®‰πã‰∏äÔºåÊ†∏ÂøÉÂÆπÂô®ÂÆö‰πâ‰∫ÜÂàõÂª∫„ÄÅÈÖçÁΩÆÂíåÁÆ°ÁêÜ bean ÁöÑÊñπÂºè&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;‰∏äÊµ∑&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Âº†Â∞è‰∫î&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:8,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;Spring Cloud ‰Ωú‰∏∫Java ËØ≠Ë®ÄÁöÑÂæÆÊúçÂä°Ê°ÜÊû∂ÔºåÂÆÉ‰æùËµñ‰∫éSpring BootÔºåÊúâÂø´ÈÄüÂºÄÂèë„ÄÅÊåÅÁª≠‰∫§‰ªòÂíåÂÆπÊòìÈÉ®ÁΩ≤Á≠âÁâπÁÇπ„ÄÇSpring Cloud ÁöÑÁªÑ‰ª∂ÈùûÂ∏∏Â§öÔºåÊ∂âÂèäÂæÆÊúçÂä°ÁöÑÊñπÊñπÈù¢Èù¢Ôºå‰∫ïÂú®ÂºÄÊ∫êÁ§æÂå∫Spring ÂíåNetflix „ÄÅPivotal ‰∏§Â§ßÂÖ¨Âè∏ÁöÑÊé®Âä®‰∏ãË∂äÊù•Ë∂äÂÆåÂñÑ&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Êó†Èî°&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;win7&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:9,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;SpringÁöÑÁõÆÊ†áÊòØËá¥Âäõ‰∫éÂÖ®Êñπ‰ΩçÁöÑÁÆÄÂåñJavaÂºÄÂèë„ÄÇ ËøôÂäøÂøÖÂºïÂá∫Êõ¥Â§öÁöÑËß£ÈáäÔºå SpringÊòØÂ¶Ç‰ΩïÁÆÄÂåñJavaÂºÄÂèëÁöÑÔºü&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Âçó‰∫¨&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Ê¢ÖË∂ÖÈ£é&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:43,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;RedisÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑ‰ΩøÁî®ANSI CËØ≠Ë®ÄÁºñÂÜô„ÄÅÊîØÊåÅÁΩëÁªú„ÄÅÂèØÂü∫‰∫éÂÜÖÂ≠ò‰∫¶ÂèØÊåÅ‰πÖÂåñÁöÑÊó•ÂøóÂûã„ÄÅKey-ValueÊï∞ÊçÆÂ∫ìÔºåÂπ∂Êèê‰æõÂ§öÁßçËØ≠Ë®ÄÁöÑAPI&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Êù≠Â∑û&quot;</span>&#125;<br>  &#123;<span class="hljs-string">&quot;index&quot;</span>:&#123;&#125;&#125;<br>  &#123;<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Âº†Êó†Âøå&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:59,<span class="hljs-string">&quot;bir&quot;</span>:<span class="hljs-string">&quot;2012-12-12&quot;</span>,<span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;ElasticSearchÊòØ‰∏Ä‰∏™Âü∫‰∫éLuceneÁöÑÊêúÁ¥¢ÊúçÂä°Âô®„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂ§öÁî®Êà∑ËÉΩÂäõÁöÑÂÖ®ÊñáÊêúÁ¥¢ÂºïÊìéÔºåÂü∫‰∫éRESTful webÊé•Âè£&quot;</span>,<span class="hljs-string">&quot;address&quot;</span>:<span class="hljs-string">&quot;Âåó‰∫¨&quot;</span>&#125;<br><br><br><span class="hljs-comment"># ÊµãËØï</span><br>GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>:&#123;<br>    <span class="hljs-string">&quot;term&quot;</span>:&#123;<br>      <span class="hljs-string">&quot;content&quot;</span>:<span class="hljs-string">&quot;Ê°ÜÊû∂&quot;</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-string">&quot;highlight&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;pre_tags&quot;</span>: [<span class="hljs-string">&quot;&lt;span style=&#x27;color:red&#x27;&gt;&quot;</span>],<br>    <span class="hljs-string">&quot;post_tags&quot;</span>: [<span class="hljs-string">&quot;&lt;/span&gt;&quot;</span>],<br>    <span class="hljs-string">&quot;fields&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;*&quot;</span>:&#123;&#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="ÈÖçÁΩÆÊâ©Â±ïËØç"><a href="#ÈÖçÁΩÆÊâ©Â±ïËØç" class="headerlink" title="ÈÖçÁΩÆÊâ©Â±ïËØç"></a>ÈÖçÁΩÆÊâ©Â±ïËØç</h3><p><strong>Êâ©Â±ïËØçÂÖ∏Ôºö</strong>¬†Â∞±ÊòØÊúâ‰∫õËØçÂπ∂‰∏çÊòØÂÖ≥ÈîÆËØç,‰ΩÜÊòØ‰πüÂ∏åÊúõË¢´ESÁî®Êù•‰Ωú‰∏∫Ê£ÄÁ¥¢ÁöÑÂÖ≥ÈîÆËØç,ÂèØ‰ª•Â∞ÜËøô‰∫õËØçÂä†ÂÖ•Êâ©Â±ïËØçÂÖ∏„ÄÇ</p>
<p><strong>ÂÅúÁî®ËØçÂÖ∏Ôºö</strong>¬†Â∞±ÊòØÊúâ‰∫õËØçÊòØÂÖ≥ÈîÆËØç,‰ΩÜÊòØÂá∫‰∫é‰∏öÂä°Âú∫ÊôØ‰∏çÊÉ≥‰ΩøÁî®Ëøô‰∫õÂÖ≥ÈîÆËØçË¢´Ê£ÄÁ¥¢Âà∞ÔºåÂèØ‰ª•Â∞ÜËøô‰∫õËØçÊîæÂÖ•ÂÅúÁî®ËØçÂÖ∏„ÄÇ</p>
<h4 id="ÈÖçÁΩÆÊú¨Âú∞ËØçÂÖ∏"><a href="#ÈÖçÁΩÆÊú¨Âú∞ËØçÂÖ∏" class="headerlink" title="ÈÖçÁΩÆÊú¨Âú∞ËØçÂÖ∏"></a>ÈÖçÁΩÆÊú¨Âú∞ËØçÂÖ∏</h4><p>Êü•ÁúãÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰ΩçÁΩÆÔºö</p>
<blockquote>
<p>Âú®Á∫øÂÆâË£ÖÁöÑÈÖçÁΩÆÊñá‰ª∂ÂíåÊú¨Âú∞ÂÆâË£ÖÁöÑÈÖçÁΩÆÊñá‰ª∂Âú∞ÂùÄ‰∏çÂêåÂàÜÂà´Âú®‰ª•‰∏ãÁõÆÂΩïÔºö<br>¬†<code>&#123;conf&#125;/analysis-ik/config/IKAnalyzer.cfg.xml</code>¬†<code>&#123;plugins&#125;/elasticsearch-analysis-ik-*/config/IKAnalyzer.cfg.xml</code></p>
</blockquote>
<p>Âú®ÈÖçÁΩÆÊñá‰ª∂ÂêåÁõÆÂΩï‰∏ã</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ËøõÂÖ•ÈÖçÁΩÆÊñá‰ª∂ÂêåÁõÆÂΩïÔºàÊ≠§Ê¨°ÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩïÊòØÁ¨¨‰∏ÄÁßçÔºâ</span><br><span class="hljs-built_in">cd</span> config/analysis-ik/<br><span class="hljs-built_in">cp</span> main.dic ext_dic<br>vim ext_dic<br><span class="hljs-comment"># ËæìÂÖ•ggdGÂà†Èô§ÊâÄÊúâÂÜÖÂÆπ</span><br>insert -&gt; Á¢∞Áì∑ -&gt; <span class="hljs-built_in">shift</span> ZZ<br>‰øùÂ≠ò<br></code></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> config/analysis-ik/<br>vim IKAnalyzer.cfg.xml<br><span class="hljs-comment"># Â¶ÇÊûúÊâìÂºÄ‰∏≠ÊñáÊòØ‰π±Á†ÅÁöÑËØù</span><br>vim ~/.vimrc<br>Âä†ÂÖ•‰ª•‰∏ãÈÖçÁΩÆÂç≥ÂèØ<br><span class="hljs-built_in">set</span> encoding=utf-8set fileencoding=utf-8<br><br>ÂÜçÈÖçÁΩÆÂàöÂàöÈÖçÁΩÆÂ•ΩÁöÑÊãìÂ±ïËØçÂÖ∏<br></code></pre></td></tr></table></figure>


<p><img src="/Resources/Pasted%20image%2020220726095647.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>Êú¨Ê¨°Âè™ÊºîÁ§∫‰∫ÜÊâ©Â±ïËØç‰∏ÄÊ†∑ÔºåÂÅúÁî®ËØçÂíåÊãìÂ±ïËØçÊìç‰Ωú‰∏ÄËá¥ÔºåÂè™ÊòØÊñá‰ª∂ÂêçÂú®IKAnalyzer.cfg.xml‰∏≠Â°´ÂÖ•ÁöÑ‰ΩçÁΩÆ‰∏ç‰∏ÄÊ†∑</p>
</blockquote>
<p>ÈÖçÁΩÆÂÆåÊàêÂêéÔºö<br><img src="/Resources/Pasted%20image%2020220726100547.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>Êñ∞Â¢ûÁöÑÊãìÂ±ïËØçÂè™ËÉΩÂØπ‰πãÂêéÁöÑËØçÊûÑÂª∫Á¥¢ÂºïÔºåÂØπ‰∫é‰πãÂâçÂ∑≤ÁªèÊûÑÂª∫ËøáÁ¥¢ÂºïÁöÑÊñáÊ°£ÔºåÂàôÊ≤°ÊúâÊïàÊûú„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂØπÊâÄÊúâÁöÑÊñáÊ°£ÈÄÇÈÖçÊâÄÊúâÁöÑÊãìÂ±ïËØçÔºåÂøÖÈ°ªÈáçÂª∫ÊâÄÊúâÊñáÊ°£ÁöÑÁ¥¢Âºï„ÄÇ</p>
</blockquote>
<h4 id="ÈÖçÁΩÆËøúÁ®ãËØçÂÖ∏"><a href="#ÈÖçÁΩÆËøúÁ®ãËØçÂÖ∏" class="headerlink" title="ÈÖçÁΩÆËøúÁ®ãËØçÂÖ∏"></a>ÈÖçÁΩÆËøúÁ®ãËØçÂÖ∏</h4><p>Êú¨Âú∞ËØçÂÖ∏ÂÜôÂÖ•ÁöÑËØç‰∏ÄÊó¶ÂÜôÂÖ•ÔºåÂêéÈù¢ÂÜçÊÉ≥ÂéªÂ°´ÂÖ•ÊàñËÄÖÂÅúÁî®ÔºåÊØîËæÉÈ∫ªÁÉ¶</p>
<p>ÊØîÂ¶ÇÔºåÊàëËøô‰∏™ÂçöÂÆ¢ÁΩëÁ´ôÊàëÊÉ≥Ê†πÊçÆÁî®Êà∑ËæìÂÖ•ÁöÑËØçÁöÑÊêúÁ¥¢ËææÂà∞Â§öÂ∞ëÂêéÂ∞ÜÂÖ∂ËÆ§ÂÆö‰∏∫ÁÉ≠ËØçÊ∑ªÂä†Âà∞ËØçÂÖ∏‰∏≠ÔºåÂπ∂‰∏î‰∏ÄÊÆµÊó∂Èó¥ÂêéËøõË°å‰∏ÄÂÆöÁöÑÊõ¥Êñ∞„ÄÇ</p>
<p><img src="/Resources/Pasted%20image%2020220726110610.png" srcset="/img/loading.gif" lazyload><br>EMSËøô‰∏™Â∫îÁî®Â∞±Áõ∏ÂΩì‰∫éÊàë‰ª¨ÁöÑÂçöÂÆ¢ÔºåÂú®Ëøô‰∏™‰∏ãÈù¢Êàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñá‰ª∂ext.txtÔºå‰∏ìÈó®Áî®‰∫éÂ≠òÊîæÁÉ≠ËØçÔºåËÄåËøô‰∏™ÁÉ≠ËØçÂÖ∑‰ΩìÊÄé‰πàÊù•ÔºåÊàë‰ª¨ÂèØ‰ª•ÁªìÂêàredisÔºåÂΩìÁî®Êà∑ÊêúÁ¥¢ËØçÁöÑÊ¨°Êï∞ËææÂà∞Â§öÂ∞ëÔºåÊàë‰ª¨ÈÄöËøáIOÂÜôÂÖ•Ëøô‰∏™Êñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéESÈÄöËøáÁõëÂê¨urlËøô‰∏™Âú∞ÂùÄ‰∏äÁöÑÊï∞ÊçÆÂèëÁîü‰∫ÜÂèòÂåñÔºåÂ∞±ËøõË°åÁõ∏Â∫îÁöÑÊõ¥Êñ∞„ÄÇ</p>
<h5 id="Êñ∞Âª∫‰∏Ä‰∏™SpringbootÂ∫îÁî®"><a href="#Êñ∞Âª∫‰∏Ä‰∏™SpringbootÂ∫îÁî®" class="headerlink" title="Êñ∞Âª∫‰∏Ä‰∏™SpringbootÂ∫îÁî®"></a>Êñ∞Âª∫‰∏Ä‰∏™SpringbootÂ∫îÁî®</h5><p>È°πÁõÆÁªìÊûÑÂèäÁõ∏ÂÖ≥ÂÜÖÂÆπÂ¶Ç‰∏ã</p>
<p><img src="/Resources/Pasted%20image%2020220726111721.png" srcset="/img/loading.gif" lazyload></p>
<h5 id="ÈÖçÁΩÆËÆøÈóÆÈùôÊÄÅËµÑÊ∫ê"><a href="#ÈÖçÁΩÆËÆøÈóÆÈùôÊÄÅËµÑÊ∫ê" class="headerlink" title="ÈÖçÁΩÆËÆøÈóÆÈùôÊÄÅËµÑÊ∫ê"></a>ÈÖçÁΩÆËÆøÈóÆÈùôÊÄÅËµÑÊ∫ê</h5><p><img src="/Resources/Pasted%20image%2020220726112240.png" srcset="/img/loading.gif" lazyload></p>
<h5 id="ÊµãËØïËÆøÈóÆÈ°πÁõÆ"><a href="#ÊµãËØïËÆøÈóÆÈ°πÁõÆ" class="headerlink" title="ÊµãËØïËÆøÈóÆÈ°πÁõÆ"></a>ÊµãËØïËÆøÈóÆÈ°πÁõÆ</h5><p><img src="/Resources/Pasted%20image%2020220726111748.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>Â¶ÇÊûúÈÅáÂà∞‰∏≠Êñá‰π±Á†ÅÔºåÂèØ‰ª•‰∏ãËΩΩ‰∏Ä‰∏™chromeÊãìÂ±ïCharsetÊõ¥Êç¢ÁºñÁ†ÅÊ†ºÂºèÂç≥ÂèØ<br>‰∏çÊîπ‰πüÊòØÂèØ‰ª•ÁöÑÔºåÂè™Ë¶ÅÊñáÊú¨Êó∂utf-8Âç≥ÂèØ„ÄÇ</p>
</blockquote>
<h5 id="ÊîπESÈÖçÁΩÆÊñá‰ª∂"><a href="#ÊîπESÈÖçÁΩÆÊñá‰ª∂" class="headerlink" title="ÊîπESÈÖçÁΩÆÊñá‰ª∂"></a>ÊîπESÈÖçÁΩÆÊñá‰ª∂</h5><p>Êü•ÁúãËá™Â∑±ÁöÑip</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ipconfig<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220726112411.png" srcset="/img/loading.gif" lazyload></p>
<p>‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim IKAnalyzer.cfg.xml<br></code></pre></td></tr></table></figure>
<p><img src="/Resources/Pasted%20image%2020220726113032.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>Êú¨Ê¨°Âè™ÊºîÁ§∫‰∫ÜÊâ©Â±ïËØç‰∏ÄÊ†∑ÔºåÂÅúÁî®ËØçÂíåÊãìÂ±ïËØçÊìç‰Ωú‰∏ÄËá¥ÔºåÂè™ÊòØÊñá‰ª∂ÂêçÂú®IKAnalyzer.cfg.xml‰∏≠Â°´ÂÖ•ÁöÑ‰ΩçÁΩÆ‰∏ç‰∏ÄÊ†∑</p>
</blockquote>
<h5 id="ÈáçÂêØES"><a href="#ÈáçÂêØES" class="headerlink" title="ÈáçÂêØES"></a>ÈáçÂêØES</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">exit</span><br>docker restart elasticsearch<br></code></pre></td></tr></table></figure>
<blockquote>
<p>bugÔºökibanaÂ¥©Êéâ‰∫ÜÔºåÊääËøúÁ®ãËØçÂÖ∏Ê≥®Èáä‰∫ÜËøòÊòØ‰∏çË°å<br>ÈáçÂêØÂêéÊü•ÁúãÊó•ÂøóÊòæÁ§∫<code>index_closed_exception</code><br><img src="/Resources/Pasted%20image%2020220726143113.png" srcset="/img/loading.gif" lazyload><br>ÊéíÈîôing<br>‰ΩøÁî®postman ÂèëÈÄÅpostËØ∑Ê±ÇËß£ÂÜ≥‰∫ÜÔºå<del>‰∏çÁü•ÈÅì‰∏∫Âï•</del><code>http://localhost:9200/.kibana/_open</code><br><strong>Âõ†‰∏∫kibanaÁöÑÁ¥¢ÂºïË¢´ÂÖ≥Èó≠‰∫ÜÔºàËé´ÂêçÂÖ∂Â¶ôË¢´ÂÖ≥Èó≠Ôºü‰∏çÁü•ÈÅì‰ªÄ‰πàÂéüÂõ†Ë¢´ÂÖ≥Èó≠‰∫ÜÔºå‰ΩÜÊòØÂ∞±ÊòØËøô‰∏™ÂéüÂõ†ÔºÅÔºâ</strong></p>
</blockquote>
<blockquote>
<p>ÈîôËØØÂ§çÁé∞Ôºö‰ΩøÁî®postman ÂèëÈÄÅpostËØ∑Ê±Ç<code>http://192.168.153.132:9200/.kibana/_close</code><br>ÂÖ≥Èó≠Á¥¢ÂºïÂÜçÊ¨°Âá∫Áé∞ÈîôËØØ400ÔºåÁÑ∂ÂêéÈáçÂêØ‰∫Ü‰πãÂêéÂ∞±ÂÜçÂêØÂä®Ëá™Âä®ÈÄÄÂá∫Êä•exit(1)„ÄÇ<br><img src="/Resources/Pasted%20image%2020220726154820.png" srcset="/img/loading.gif" lazyload><br>ÈáçÊñ∞ÂèëÈÄÅÊâìÂºÄÁ¥¢ÂºïÁöÑËØ∑Ê±ÇÂç≥ÂèØËß£ÂÜ≥</p>
</blockquote>
<p><em>ÊµãËØï‰ΩøÁî®ÁöÑÊó∂ÂÄôÂ¶ÇÊûúÊñ∞Âä†‰∫ÜÊãìÂ±ïËØçÔºåÈÇ£‰πàÊµãËØïÁöÑÊó∂ÂÄôÈúÄË¶ÅÊñ∞Â¢ûÊñáÊ°£‰ª•ÊµãËØïÔºå‰∏çÁÑ∂ÊóßÊñáÊ°£‰ºö‰ª•‰πãÂâçÁöÑÂàÜËØçÊ®°ÂûãÊù•Âª∫Á´ãÁ¥¢ÂºïÔºåÂ∞±‰ºöÂá∫Áé∞Êü•‰∏çÂà∞ÁöÑÊÉÖÂÜµ„ÄÇ</em></p>
<blockquote>
<p><strong>Âç≥Êñ∞Âä†‰∫ÜÊãìÂ±ïËØçÂè™ÂØπ‰πãÂêéÂä†ÂÖ•ÁöÑÊñáÊ°£ÊúâÊïàÔºÅ</strong></p>
</blockquote>
<hr>
<h2 id="üß∑ESËøáÊª§-Filter"><a href="#üß∑ESËøáÊª§-Filter" class="headerlink" title="üß∑ESËøáÊª§ Filter"></a>üß∑ESËøáÊª§ Filter</h2><p>ES‰∏≠ÁöÑÊü•ËØ¢Êìç‰ΩúÂàÜ‰∏∫2ÁßçÔºö <strong>Êü•ËØ¢(query)</strong> Âíå <strong>ËøáÊª§(filter)</strong></p>
<p>Êü•ËØ¢Âç≥ÊòØ‰πãÂâçÊèêÂà∞ÁöÑqueryÊü•ËØ¢ÔºåÂÆÉÔºàÊü•ËØ¢ÔºâÈªòËÆ§‰ºöËÆ°ÁÆóÊØè‰∏™ËøîÂõûÊñáÊ°£ÁöÑÂæóÂàÜÔºåÁÑ∂ÂêéÊ†πÊçÆÂæóÂàÜÊéíÂ∫è„ÄÇËÄåËøáÊª§ÔºàfilterÔºâÂè™‰ºöÁ≠õÈÄâÂá∫Á¨¶ÂêàÁöÑÊñáÊ°£ÔºåÂπ∂‰∏çËÆ°ÁÆóÂæóÂàÜÔºå‰∏îÂÆÉÂèØ‰ª•ÁºìÂ≠òÊñáÊ°£ „ÄÇÊâÄ‰ª•ÔºåÂçï‰ªéÊÄßËÉΩËÄÉËôëÔºåËøáÊª§ÊØîÊü•ËØ¢Êõ¥Âø´„ÄÇ</p>
<p>Êç¢Âè•ËØùËØ¥ÔºåËøáÊª§ÈÄÇÂêàÂú®Â§ßËåÉÂõ¥Á≠õÈÄâÊï∞ÊçÆÔºåËÄåÊü•ËØ¢ÂàôÈÄÇÂêàÁ≤æÁ°ÆÂåπÈÖçÊï∞ÊçÆ„ÄÇ‰∏ÄËà¨Â∫îÁî®Êó∂Ôºå Â∫îÂÖà‰ΩøÁî®ËøáÊª§Êìç‰ΩúËøáÊª§Êï∞ÊçÆÔºå ÁÑ∂Âêé‰ΩøÁî®Êü•ËØ¢ÂåπÈÖçÊï∞ÊçÆ„ÄÇ<br><img src="/Resources/Pasted%20image%2020220726192122.png" srcset="/img/loading.gif" lazyload></p>
<p>ÂÆòÁΩëËØ¥ÊòéÔºö<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.8/query-filter-context.html">Query and filter context</a></p>
<h3 id="ËøáÊª§ËØ≠Ê≥ï"><a href="#ËøáÊª§ËØ≠Ê≥ï" class="headerlink" title="ËøáÊª§ËØ≠Ê≥ï"></a>ËøáÊª§ËØ≠Ê≥ï</h3><p><strong>NOTE:</strong></p>
<ul>
<li>Âú®ÊâßË°åfilterÂíåqueryÊó∂Ôºå<strong>ÂÖàÊâßË°åfilterÂú®ÊâßË°åquery</strong></li>
<li>Elasticsearch‰ºö<strong>Ëá™Âä®ÁºìÂ≠òÁªèÂ∏∏‰ΩøÁî®ÁöÑËøáÊª§Âô®</strong>Ôºå‰ª•Âä†Âø´ÊÄßËÉΩ</li>
<li>‰ΩøÁî®ËøáÊª§Êü•ËØ¢<strong>ÂøÖÈ°ª‰ΩøÁî®boolÊü•ËØ¢</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>  <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;must&quot;</span>: [<br>      &#123;<br>        <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;content&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Ê°ÜÊû∂&quot;</span><br>          &#125;<br>        &#125;<br>      &#125;<br>    ],<br>    <span class="hljs-string">&quot;filter&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;range&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;age&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;gte&quot;</span>: 0,<br>            <span class="hljs-string">&quot;lte&quot;</span>: 20<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ÊâßË°åËøáÁ®ãÔºö ÂÖà‰ªéES‰ªéÊâßË°åËøáÊª§Êü•ËØ¢ÔºåÊâæÂà∞Á¨¶ÂêàÂπ¥ÈæÑËåÉÂõ¥Âú®<code>[0,20]</code>ÁöÑÊñáÊ°£ÔºåËøô‰∏™ËøáÁ®ã‰∏ç‰ºöËÆ°ÁÆóÂæóÂàÜÔºåÁÑ∂ÂêéÂÜçÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºå‰ªéÊª°Ë∂≥Êù°‰ª∂ÁöÑËøô‰∫õÊñáÊ°£‰∏≠ÂèàÂéªÊü•Êâæ‚Äùcontent‚ÄùÂ±ûÊÄßÁöÑÂÄº‰∏∫‚ÄùÊ°ÜÊû∂‚ÄùÁöÑÊñáÊ°£ÔºåÂπ∂Â∞ÜÂèØËÉΩÁöÑÊñáÊ°£ËÆ°ÁÆóÁöÑÂæóÂàÜ„ÄÇ</p>
<hr>
<h3 id="Â∏∏ËßÅÁöÑËøáÊª§Âô®Á±ªÂûã"><a href="#Â∏∏ËßÅÁöÑËøáÊª§Âô®Á±ªÂûã" class="headerlink" title="Â∏∏ËßÅÁöÑËøáÊª§Âô®Á±ªÂûã"></a>Â∏∏ËßÅÁöÑËøáÊª§Âô®Á±ªÂûã</h3><h4 id="term-Filter"><a href="#term-Filter" class="headerlink" title="term Filter"></a>term Filter</h4><p>term Áî®Âú®ËøáÊª§‰∏≠Êü•ËØ¢ÔºåË°®Á§∫Êü•ËØ¢ÊåáÂÆöÂ≠óÊÆµÂê´ÊúâËØ•ËØçÁöÑÊñáÊ°£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;must&quot;</span>: [<br>        &#123;<br>          <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>              <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Â∞è‰∫î&quot;</span><br>            &#125;<br>          &#125;<br>        &#125;<br>      ],<br>      <span class="hljs-string">&quot;filter&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;content&quot;</span>: <span class="hljs-string">&quot;spring&quot;</span><br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h4 id="terms-Filter"><a href="#terms-Filter" class="headerlink" title="terms Filter"></a>terms Filter</h4><p>termÂè™ËÉΩÂåπÈÖç‰∏Ä‰∏™Â≠óÊÆµÔºåË¶ÅÊÉ≥ËøáÊª§Â§ö‰∏™Â≠óÊÆµÔºå‰ΩøÁî®terms</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;must&quot;</span>: [<br>        &#123;<br>          <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>              <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Â∞è‰∫î&quot;</span><br>            &#125;<br>          &#125;<br>        &#125;<br>      ],<br>      <span class="hljs-string">&quot;filter&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;terms&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;content&quot;</span>: [<span class="hljs-string">&quot;spring&quot;</span>,<span class="hljs-string">&quot;java&quot;</span>]<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h4 id="range-Filter"><a href="#range-Filter" class="headerlink" title="range Filter"></a>range Filter</h4><p>È°æÂêçÊÄù‰πâÔºöÂ∞±ÊòØÂÖàÊü•ÊâæÊª°Ë∂≥Êüê‰∏™ÊåáÂÆöËåÉÂõ¥ÁöÑÂ≠óÊÆµ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;must&quot;</span>: [<br>        &#123;<br>         <span class="hljs-string">&quot;term&quot;</span>: &#123;<br>           <span class="hljs-string">&quot;name&quot;</span>: &#123;<br>             <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-string">&quot;Â∞è‰∫î&quot;</span><br>           &#125;<br>         &#125;<br>        &#125;<br>      ],<br>      <span class="hljs-string">&quot;filter&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;range&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;age&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;gte&quot;</span>: 1,<br>            <span class="hljs-string">&quot;lte&quot;</span>: 10<br>          &#125;<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h4 id="exists-Filter"><a href="#exists-Filter" class="headerlink" title="exists Filter"></a>exists Filter</h4><p>ÂÖàËøáÊª§Êéâ‰∏çÂ≠òÂú®ÊåáÂÆöÂ≠óÊÆµÁöÑÊñáÊ°£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;must&quot;</span>: [<br>        &#123;<br>          <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>        &#125;<br>      ],<br>      <span class="hljs-string">&quot;filter&quot;</span>: &#123;<br>        <span class="hljs-string">&quot;exists&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;field&quot;</span>: <span class="hljs-string">&quot;age&quot;</span><br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125; <br><br></code></pre></td></tr></table></figure>
<h4 id="ids-Filter"><a href="#ids-Filter" class="headerlink" title="ids Filter"></a>ids Filter</h4><p>Êü•ÊâæÂê´ÊúâÊåáÂÆöÂ≠óÊÆµÁöÑÁ¥¢ÂºïËÆ∞ÂΩï</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">GET /ems/emp/_search<br>&#123;<br>  <span class="hljs-string">&quot;query&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;bool&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;must&quot;</span>: [<br>        &#123;<br>          <span class="hljs-string">&quot;match_all&quot;</span>: &#123;&#125;<br>        &#125;<br>      ],<br>      <span class="hljs-string">&quot;filter&quot;</span>: &#123;<br>          <span class="hljs-string">&quot;ids&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;values&quot;</span>: [<br>              <span class="hljs-string">&quot;1&quot;</span>,<span class="hljs-string">&quot;OY0TqnYB5vZ1Et4zupDf&quot;</span><br>            ]<br>          &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125; <br><br></code></pre></td></tr></table></figure>

<hr>
<h2 id="‚òïJava-Êìç‰ΩúElasticSearch"><a href="#‚òïJava-Êìç‰ΩúElasticSearch" class="headerlink" title="‚òïJava Êìç‰ΩúElasticSearch"></a>‚òïJava Êìç‰ΩúElasticSearch</h2><h3 id="ÁéØÂ¢ÉÊê≠Âª∫"><a href="#ÁéØÂ¢ÉÊê≠Âª∫" class="headerlink" title="ÁéØÂ¢ÉÊê≠Âª∫"></a>ÁéØÂ¢ÉÊê≠Âª∫</h3><h4 id="ÂàùÂßãÂåñSpringBootÈ°πÁõÆ"><a href="#ÂàùÂßãÂåñSpringBootÈ°πÁõÆ" class="headerlink" title="ÂàùÂßãÂåñSpringBootÈ°πÁõÆ"></a>ÂàùÂßãÂåñSpringBootÈ°πÁõÆ</h4><p>ÈÄâÊã©‰æùËµñÔºödevtools lombok springweb<br>Êõ¥ÊîπspringbootÁâàÊú¨‰∏∫2.3.7.RELEASE</p>
<h4 id="ÂºïÂÖ•EsÁõ∏ÂÖ≥‰æùËµñÔºö"><a href="#ÂºïÂÖ•EsÁõ∏ÂÖ≥‰æùËµñÔºö" class="headerlink" title="ÂºïÂÖ•EsÁõ∏ÂÖ≥‰æùËµñÔºö"></a>ÂºïÂÖ•EsÁõ∏ÂÖ≥‰æùËµñÔºö</h4><p><strong>ÁâàÊú¨ÂøÖÈ°ª‰∏éesÁâàÊú¨‰∏ÄËá¥</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.8.23<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch.client<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>transport<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.8.23<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.elasticsearch.plugin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>transport-netty4-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.8.23<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.70<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>  <br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="Êñ∞Âª∫ÊµãËØïÁ±ª"><a href="#Êñ∞Âª∫ÊµãËØïÁ±ª" class="headerlink" title="Êñ∞Âª∫ÊµãËØïÁ±ª"></a>Êñ∞Âª∫ÊµãËØïÁ±ª</h3><p>Âø´Êç∑ÈîÆÔºöctrl + shift + t</p>
<h3 id="ÊµãËØïJavaËøûÊé•EsÂÆ¢Êà∑Á´Ø"><a href="#ÊµãËØïJavaËøûÊé•EsÂÆ¢Êà∑Á´Ø" class="headerlink" title="ÊµãËØïJavaËøûÊé•EsÂÆ¢Êà∑Á´Ø"></a>ÊµãËØïJavaËøûÊé•EsÂÆ¢Êà∑Á´Ø</h3><p>#tips Â∞èÊäÄÂ∑ßÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ‰æãÂ¶Ç</span><br><span class="hljs-type">TransportClient</span> <span class="hljs-variable">transportClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">xxx</span>?<br><span class="hljs-comment">// TransportClient ÁÇπËøõÂéªÁúãÊ∫êÁ†ÅÂèëÁé∞ÊòØÊäΩË±°Á±ªÔºå‰∏çËÉΩÁõ¥Êé•newÔºåÂØπÁùÄTransportClientÊåâ‰∏ãcrtl+hÔºåÊü•ÁúãÂÆûÁé∞Á±ªÂç≥ÂèØ</span><br><span class="hljs-comment">// ËøôÈáåÊàë‰ª¨Êü•ÁúãÂèØ‰ª•ÂèëÁé∞Ôºå‰∏ãÈù¢Êúâ‰∏Ä‰∏™PreBuiltTransportClientÂÆûÁé∞Á±ª</span><br><span class="hljs-type">TransportClient</span> <span class="hljs-variable">transportClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreBuiltTransportClient</span>(Settings.EMPTY);<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java">  <span class="hljs-meta">@Test</span><br>  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testInit</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> UnknownHostException &#123;<br>      <span class="hljs-comment">// ÂàõÂª∫ESÂÆ¢Êà∑Á´ØÂØπË±°</span><br>      <span class="hljs-type">TransportClient</span> <span class="hljs-variable">transportClient</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreBuiltTransportClient</span>(Settings.EMPTY);<br>      <span class="hljs-comment">// ËÆæÁΩÆÊìç‰ΩúESÊúçÂä°‰∏ªÊú∫ÂíåÁ´ØÂè£</span><br>      transportClient.addTransportAddress(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TransportAddress</span>(InetAddress.getByName(<span class="hljs-string">&quot;192.168.153.133&quot;</span>),<span class="hljs-number">9300</span>));<br><span class="hljs-comment">// ‰∏∫‰ªÄ‰πàÊòØ9300ÔºåkibanaÊòØ9200ÔºåÂõ†‰∏∫TransportClientÂ∫ïÂ±ÇËµ∞ÁöÑÊòØTCPÂçèËÆÆÔºåËÄåESÂºÄÊîæÁöÑTCPÂçèËÆÆÁ´ØÂè£ÊòØ9300ÔºåkibanaËµ∞ÁöÑÊòØRESTFULÂçèËÆÆÔºåESÂºÄÊîæÁöÑRESTÂçèËÆÆÁ´ØÂè£ÊòØ9300„ÄÇ</span><br><br>      <span class="hljs-comment">// Êìç‰Ωú</span><br><br>      <span class="hljs-comment">// ÈáäÊîæËµÑÊ∫ê</span><br>      transportClient.close();<br>  &#125;<br></code></pre></td></tr></table></figure>

<hr>
<h3 id="Á¥¢ÂºïÁõ∏ÂÖ≥"><a href="#Á¥¢ÂºïÁõ∏ÂÖ≥" class="headerlink" title="Á¥¢ÂºïÁõ∏ÂÖ≥"></a>Á¥¢ÂºïÁõ∏ÂÖ≥</h3><h4 id="ÂàõÂª∫Á¥¢Âºï"><a href="#ÂàõÂª∫Á¥¢Âºï" class="headerlink" title="ÂàõÂª∫Á¥¢Âºï"></a>ÂàõÂª∫Á¥¢Âºï</h4><blockquote>
<p>‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊúâÈóÆÈ¢òÔºåÊ≤°ÈóÆÈ¢òÁöÑ‰ª£Á†ÅËßÅÂêéÈù¢ÔºÅ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TestIndexAndTypeMapping</span> &#123;<br>    <span class="hljs-keyword">private</span> TransportClient transportClient;<br><br>    <span class="hljs-comment">//@Before</span><br>    <span class="hljs-meta">@BeforeEach</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">before</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> UnknownHostException &#123;<br>        System.out.println(<span class="hljs-string">&quot;before&quot;</span>);<br>        <span class="hljs-comment">// ÂàõÂª∫ESÂÆ¢Êà∑Á´ØÂØπË±°</span><br>        <span class="hljs-built_in">this</span>.transportClient = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreBuiltTransportClient</span>(Settings.EMPTY);<br>        <span class="hljs-comment">// ËÆæÁΩÆÊìç‰ΩúESÊúçÂä°‰∏ªÊú∫ÂíåÁ´ØÂè£ http://192.168.153.133/</span><br>        transportClient.addTransportAddress(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TransportAddress</span>(InetAddress.getByName(<span class="hljs-string">&quot;192.168.153.133&quot;</span>),<span class="hljs-number">9300</span>));<br><br>        <span class="hljs-comment">// Êìç‰Ωú</span><br>    &#125;<br>    <span class="hljs-comment">//@After</span><br>    <span class="hljs-meta">@AfterEach</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">after</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;after&quot;</span>);<br>        <span class="hljs-comment">// ÈáäÊîæËµÑÊ∫ê</span><br>        transportClient.close();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ÂàõÂª∫Á¥¢Âºï</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testCreateIndex</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-comment">// ÂàõÂª∫‰∏Ä‰∏™Á¥¢Âºï</span><br>        <span class="hljs-type">CreateIndexResponse</span> <span class="hljs-variable">createIndexResponse</span> <span class="hljs-operator">=</span> transportClient.admin().indices().prepareCreate(<span class="hljs-string">&quot;dangdang5&quot;</span>).get();<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">acknowledged</span> <span class="hljs-operator">=</span> createIndexResponse.isAcknowledged();<br>        System.out.println(acknowledged);<br>        <span class="hljs-comment">//</span><br>    &#125;<br><br></code></pre></td></tr></table></figure>
<blockquote>
<p>Á¨¨‰∏Ä‰∏™Ôºö<br>ÈóÆÈ¢òÔºöÊâßË°å@TestÊñπÊ≥ïÊä•Á©∫ÊåáÈíàÂºÇÂ∏∏ÔºåÊâìÊñ≠ÁÇπÂèëÁé∞ÊòØ@beforeÊñπÊ≥ïÊ≤°ÊúâÊâßË°å„ÄÇ<br>ÂéüÂõ†Ôºöjunit4‰∏≠ÊòØ@beforeÂíå@afterÔºåÂú®junit5‰∏≠Áî®@BeforeEachÂíå@AfterEachÂèñ‰ª£‰∫Ü„ÄÇ<br>Ëß£ÂÜ≥ÔºöÁî®Êñ∞ÁöÑÊ≥®Ëß£Âèñ‰ª£ÊóßÊ≥®Ëß£<br>Á¨¨‰∫å‰∏™Ôºö<br>ÈóÆÈ¢òÔºöÊä•Èîô&#96;NoNodeAvailableException[None of the configured nodes are available: [</p>
</blockquote>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Database/" class="category-chain-item">Database</a>
  
  
    <span>></span>
    
  <a href="/categories/Database/ElasticSearch/" class="category-chain-item">ElasticSearch</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/ElasticSearch/">#ElasticSearch</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ElasticSearch 6.x‰ΩøÁî®ÊïôÁ®ã</div>
      <div>http://conquers.github.io/posts/d5bb74c6.html</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>‰ΩúËÄÖ</div>
          <div>wtt</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>ÂèëÂ∏É‰∫é</div>
          <div>2022Âπ¥7Êúà19Êó•</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>ËÆ∏ÂèØÂçèËÆÆ</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ÁΩ≤Âêç">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/cb06e7aa.html" title="ÂÆâË£ÖÂºÄÂèëËôöÊãüÊú∫">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ÂÆâË£ÖÂºÄÂèëËôöÊãüÊú∫</span>
                        <span class="visible-mobile">‰∏ä‰∏ÄÁØá</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/dcb3f659.html" title="Docker ÂÆâË£ÖÂÆπÂô®ÂêàÈõÜ">
                        <span class="hidden-mobile">Docker ÂÆâË£ÖÂÆπÂô®ÂêàÈõÜ</span>
                        <span class="visible-mobile">‰∏ã‰∏ÄÁØá</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Conquers/blog-comments');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ÁõÆÂΩï</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">ÊêúÁ¥¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">ÂÖ≥ÈîÆËØç</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span> <span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        ÊÄªËÆøÈóÆÈáè 
        <span id="busuanzi_value_site_pv"></span>
         Ê¨°
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        ÊÄªËÆøÂÆ¢Êï∞ 
        <span id="busuanzi_value_site_uv"></span>
         ‰∫∫
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ‰∏ªÈ¢òÁöÑÂêØÂä®È°πÔºåÂ∞ÜÂÆÉ‰øùÊåÅÂú®ÊúÄÂ∫ïÈÉ® -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">ÂçöÂÆ¢Âú®ÂÖÅËÆ∏ JavaScript ËøêË°åÁöÑÁéØÂ¢É‰∏ãÊµèËßàÊïàÊûúÊõ¥‰Ω≥</div>
  </noscript>
</body>
</html>
